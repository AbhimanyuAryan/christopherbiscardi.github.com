{"data":{"root":{"post":{"body":"<p>According to <a href=\"http://www.purescript.org/\" title=\"purescript.org\">PureScript.org</a></p>\n<blockquote>\n<p>PureScript is a small strongly, statically typed programming language with\nexpressive types, written in and inspired by Haskell, and compiling to\nJavascript.</p>\n</blockquote>\n<p>It’s fairly easy to get started with the <a href=\"https://github.com/purescript-contrib/grunt-init-purescript\" title=\"grunt\ninit purescript template\">grunt-init-purescript\ntemplate</a></p>\n<h2 id=\"dependencies\">Dependencies</h2>\n<p>We will need\n<a href=\"http://gruntjs.com/\">grunt</a>,<a href=\"https://github.com/gruntjs/grunt-init\">grunt-init</a>\nand <a href=\"http://bower.io/\">bower</a> to work with this PureScript template.\n<a href=\"http://nodejs.org/\" title=\"nodejs\">Node</a> is also a dependency because of this.</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>npm install -g grunt grunt-init bower\n</code></pre>\n<p>Then clone the template into a <code>.grunt-init</code> folder using git:</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>mkdir ~/.grunt-init\ngit <span class=\"highlight__hljs-built_in___3uuyR\">clone</span> https://github.com/purescript-contrib/grunt-init-purescript.git ~/.grunt-init/purescript\n</code></pre>\n<p>We also need the PureScript compiler, which we can grab with cabal:</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>cabal install purescript\n</code></pre>\n<h2 id=\"developing\">Developing</h2>\n<p>We can now install dependencies from npm and bower. There’s a decent amount to be excited about in the output including <code>purescript-quickcheck</code>, <code>either</code> and <code>maybe</code> to name a few.</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>npm install\nbower update\n</code></pre>\n<p>Then grunt when we want to build:</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>grunt\n</code></pre>\n<h2 id=\"testing\">Testing</h2>\n<p>The template project is more of a library project, where the tests are what we\nwant to run if we cloned the repo. As such, our <code>Main</code> module is in\n<code>tests/Test.purs</code> and can be run using:</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>node tmp/index.js\n</code></pre>\n<p>after running <code>grunt</code> to build the project.</p>\n<p>To build an executable (a node.js scraper for example) we can make a few\nchanges.</p>\n<h2 id=\"modifications\">Modifications</h2>\n<p>First, we’ll make some changes to our test file.</p>\n<h4 id=\"tests\">Tests</h4>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>mv tests/Tests.purs tests/Test/Main.purs\n</code></pre>\n<p>and change the module name from <code>Main</code> to <code>Test.Main</code>. Also change the\n<code>Starter.Kit.Example</code> import to <code>Starter.Kit.Main</code>.</p>\n<h4 id=\"js\">JS</h4>\n<p>Place two simple js files in <code>js/</code></p>\n<h6 id=\"jsindexjs\">js/index.js</h6>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>require(<span class=\"highlight__hljs-string___1SffY\">\"Starter.Kit.Main\"</span>).main();\n</code></pre>\n<h6 id=\"jstestjs\">js/test.js</h6>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>require(<span class=\"highlight__hljs-string___1SffY\">\"Test.Main\"</span>).main();\n</code></pre>\n<h4 id=\"starter-kit\">Starter Kit</h4>\n<p>Now we will make a small modification to the Starter Kit file.</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code>mv src/Starter/Kit/Example.purs src/Starter/Kit/Main.purs\n</code></pre>\n<p>and rename the module to <code>Starter.Kit.Main</code>.</p>\n<h4 id=\"gruntfile\">Gruntfile</h4>\n<p>Finally make some modifications to the Gruntfile and run <code>grunt</code></p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code><span class=\"highlight__hljs-built_in___3uuyR\">module</span>.exports = <span class=\"hljs-function\"><span class=\"highlight__hljs-keyword___som98\">function</span>(<span class=\"hljs-params\">grunt</span>) </span>{\n<span class=\"hljs-meta\">\n  \"use strict\"</span>;\n\n  grunt.initConfig({\n\n    libFiles: [\n      <span class=\"highlight__hljs-string___1SffY\">\"src/**/*.purs\"</span>,\n      <span class=\"highlight__hljs-string___1SffY\">\"bower_components/purescript-*/src/**/*.purs\"</span>\n    ],\n\n    clean: [<span class=\"highlight__hljs-string___1SffY\">\"tmp\"</span>, <span class=\"highlight__hljs-string___1SffY\">\"output\"</span>],\n\n    pscMake: {\n      lib: {\n        src: [<span class=\"highlight__hljs-string___1SffY\">\"\"</span>]\n      },\n      tests: {\n        src: [<span class=\"highlight__hljs-string___1SffY\">\"tests/Test/Main.purs\"</span>, <span class=\"highlight__hljs-string___1SffY\">\"\"</span>]\n      }\n    },\n\n    dotPsci: [<span class=\"highlight__hljs-string___1SffY\">\"\"</span>],\n\n    copy: [\n      {\n        expand: <span class=\"highlight__hljs-literal___1V6TY\">true</span>,\n        cwd: <span class=\"highlight__hljs-string___1SffY\">\"output\"</span>,\n        src: [<span class=\"highlight__hljs-string___1SffY\">\"**\"</span>],\n        dest: <span class=\"highlight__hljs-string___1SffY\">\"tmp/node_modules/\"</span>\n      }, {\n        expand: <span class=\"highlight__hljs-literal___1V6TY\">true</span>,\n        cwd: <span class=\"highlight__hljs-string___1SffY\">\"js/\"</span>,\n        src: <span class=\"highlight__hljs-string___1SffY\">'**'</span>,\n        dest: <span class=\"highlight__hljs-string___1SffY\">\"tmp/\"</span>,\n        flatten: <span class=\"highlight__hljs-literal___1V6TY\">true</span>\n      }\n    ],\n\n    execute: {\n      tests: {\n        src: <span class=\"highlight__hljs-string___1SffY\">\"tmp/test.js\"</span>\n      }\n    }\n  });\n\n  grunt.loadNpmTasks(<span class=\"highlight__hljs-string___1SffY\">\"grunt-contrib-copy\"</span>);\n  grunt.loadNpmTasks(<span class=\"highlight__hljs-string___1SffY\">\"grunt-contrib-clean\"</span>);\n  grunt.loadNpmTasks(<span class=\"highlight__hljs-string___1SffY\">\"grunt-execute\"</span>)\n  grunt.loadNpmTasks(<span class=\"highlight__hljs-string___1SffY\">\"grunt-purescript\"</span>);\n\n  grunt.registerTask(<span class=\"highlight__hljs-string___1SffY\">\"test\"</span>, [<span class=\"highlight__hljs-string___1SffY\">\"pscMake:tests\"</span>, <span class=\"highlight__hljs-string___1SffY\">\"copy\"</span>, <span class=\"highlight__hljs-string___1SffY\">\"execute:tests\"</span>]);\n  grunt.registerTask(<span class=\"highlight__hljs-string___1SffY\">\"make\"</span>, [<span class=\"highlight__hljs-string___1SffY\">\"pscMake:lib\"</span>, <span class=\"highlight__hljs-string___1SffY\">\"dotPsci\"</span>]);\n  grunt.registerTask(<span class=\"highlight__hljs-string___1SffY\">\"default\"</span>, [<span class=\"highlight__hljs-string___1SffY\">\"clean\"</span>, <span class=\"highlight__hljs-string___1SffY\">\"make\"</span>, <span class=\"highlight__hljs-string___1SffY\">\"test\"</span>]);\n};\n</code></pre>\n","attributes":{"title":"Getting Started with PureScript","updatedAt":"Jun 22nd, 2014","publishedAt":"Jun 22nd, 2014","timeToRead":2,"headerImage":null,"url":"/2014/6/22/getting-started-with-purescript/","canonicalURL":null,"excerpt":"According to PureScript.org","__typename":"BlogPostAttributes"},"__typename":"BlogPost"},"__typename":"Query"}}}