{"data":{"root":{"post":{"body":"<p>When placing a ViewPager inside of a GridView recently I ran into the issue of\nthe ViewPager stealing the GridView Items’ click event. I had lost my click\nevent, but the ViewPager was still scrolling fine.</p>\n<p>With the following GridView:</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code><span class=\"php\"><span class=\"hljs-meta\">&lt;?</span>xml version=<span class=\"highlight__hljs-string___1SffY\">\"1.0\"</span> encoding=<span class=\"highlight__hljs-string___1SffY\">\"utf-8\"</span><span class=\"hljs-meta\">?&gt;</span></span>\n<span class=\"highlight__hljs-tag___2Bb-l\">&lt;<span class=\"hljs-name\">FrameLayout</span>\n    <span class=\"hljs-attr\">xmlns:android</span>=<span class=\"highlight__hljs-string___1SffY\">\"http://schemas.android.com/apk/res/android\"</span>\n    <span class=\"hljs-attr\">android:layout_width</span>=<span class=\"highlight__hljs-string___1SffY\">\"match_parent\"</span>\n    <span class=\"hljs-attr\">android:layout_height</span>=<span class=\"highlight__hljs-string___1SffY\">\"match_parent\"</span>&gt;</span>\n    <span class=\"highlight__hljs-tag___2Bb-l\">&lt;<span class=\"hljs-name\">GridView</span>\n        <span class=\"hljs-attr\">android:id</span>=<span class=\"highlight__hljs-string___1SffY\">\"@+id/bar_gridview\"</span>\n        <span class=\"hljs-attr\">android:layout_width</span>=<span class=\"highlight__hljs-string___1SffY\">\"match_parent\"</span>\n        <span class=\"hljs-attr\">android:layout_height</span>=<span class=\"highlight__hljs-string___1SffY\">\"match_parent\"</span>\n        <span class=\"hljs-attr\">android:verticalSpacing</span>=<span class=\"highlight__hljs-string___1SffY\">\"0dp\"</span>\n        <span class=\"hljs-attr\">android:horizontalSpacing</span>=<span class=\"highlight__hljs-string___1SffY\">\"0dp\"</span>\n        <span class=\"hljs-attr\">android:stretchMode</span>=<span class=\"highlight__hljs-string___1SffY\">\"columnWidth\"</span>\n        <span class=\"hljs-attr\">android:numColumns</span>=<span class=\"highlight__hljs-string___1SffY\">\"1\"</span> /&gt;</span>\n<span class=\"highlight__hljs-tag___2Bb-l\">&lt;/<span class=\"hljs-name\">FrameLayout</span>&gt;</span>\n</code></pre>\n<p>and a grid item view with a ViewPager (reduced for simplicity):</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code><span class=\"highlight__hljs-tag___2Bb-l\">&lt;<span class=\"hljs-name\">com.christopherbiscardi.grid.MyGridItemFrame</span> <span class=\"hljs-attr\">xmlns:android</span>=<span class=\"highlight__hljs-string___1SffY\">\"http://schemas.android.com/apk/res/android\"</span>\n    <span class=\"hljs-attr\">android:id</span>=<span class=\"highlight__hljs-string___1SffY\">\"@+id/grid_item_frame\"</span>\n    <span class=\"hljs-attr\">android:layout_width</span>=<span class=\"highlight__hljs-string___1SffY\">\"match_parent\"</span>\n    <span class=\"hljs-attr\">android:layout_height</span>=<span class=\"highlight__hljs-string___1SffY\">\"match_parent\"</span> &gt;</span>\n\n    <span class=\"highlight__hljs-tag___2Bb-l\">&lt;<span class=\"hljs-name\">com.christopherbiscardi.grid.MyViewPager</span>\n        <span class=\"hljs-attr\">android:id</span>=<span class=\"highlight__hljs-string___1SffY\">\"@+id/my_pager\"</span>\n        <span class=\"hljs-attr\">android:layout_width</span>=<span class=\"highlight__hljs-string___1SffY\">\"match_parent\"</span>\n        <span class=\"hljs-attr\">android:layout_height</span>=<span class=\"highlight__hljs-string___1SffY\">\"match_parent\"</span> /&gt;</span>\n\n<span class=\"highlight__hljs-tag___2Bb-l\">&lt;/<span class=\"hljs-name\">com.christopherbiscardi.grid.MyGridItemFrame</span>&gt;</span>\n</code></pre>\n<p>We can intercept the touch event on MyGridItemFrame, which sits between the\nGridView and the ViewPager by extending\n<code>GestureDetector.SimpleOnGestureListener</code> and overriding\n<code>onInterceptTouchEvent</code>. In this case all we care about is handling the tap\n(<code>onSingleTapUp</code>) and we will let the scroll pass through to the ViewPager.</p>\n<pre class=\"highlight__hljs___FzKxy index__p2___65FBl\"><code><span class=\"highlight__hljs-keyword___som98\">package</span> com.christopherbiscardi.grid;\n\n<span class=\"highlight__hljs-keyword___som98\">public</span> <span class=\"highlight__hljs-class___mOeOV\"><span class=\"highlight__hljs-keyword___som98\">class</span> <span class=\"highlight__hljs-title___1fl8Q\">MyGridItemFrame</span> <span class=\"highlight__hljs-keyword___som98\">extends</span> <span class=\"highlight__hljs-title___1fl8Q\">FrameLayout</span> </span>{\n\n\t<span class=\"highlight__hljs-keyword___som98\">final</span> GestureDetector mGestureDetector = <span class=\"highlight__hljs-keyword___som98\">new</span> GestureDetector(<span class=\"highlight__hljs-keyword___som98\">new</span> MyGestureListener());\n\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-function\"><span class=\"highlight__hljs-keyword___som98\">public</span> <span class=\"highlight__hljs-keyword___som98\">boolean</span> <span class=\"highlight__hljs-title___1fl8Q\">onInterceptTouchEvent</span><span class=\"hljs-params\">(MotionEvent event)</span> </span>{\n\t\t<span class=\"highlight__hljs-keyword___som98\">return</span> mGestureDetector.onTouchEvent(event);\n\t}\n\n\n\t<span class=\"highlight__hljs-class___mOeOV\"><span class=\"highlight__hljs-keyword___som98\">class</span> <span class=\"highlight__hljs-title___1fl8Q\">MyGestureListener</span> <span class=\"highlight__hljs-keyword___som98\">extends</span> <span class=\"highlight__hljs-title___1fl8Q\">GestureDetector</span>.<span class=\"highlight__hljs-title___1fl8Q\">SimpleOnGestureListener</span> </span>{\n\n\t\t<span class=\"hljs-meta\">@Override</span>\n\t\t<span class=\"hljs-function\"><span class=\"highlight__hljs-keyword___som98\">public</span> <span class=\"highlight__hljs-keyword___som98\">boolean</span> <span class=\"highlight__hljs-title___1fl8Q\">onSingleTapUp</span><span class=\"hljs-params\">(MotionEvent event)</span> </span>{\n\t\t\tToast.makeText(getContext(), <span class=\"highlight__hljs-string___1SffY\">\"clicked Grid Item\"</span>, Toast.LENGTH_SHORT).show();\n\t\t\t<span class=\"highlight__hljs-keyword___som98\">return</span> <span class=\"highlight__hljs-keyword___som98\">true</span>;\n\t\t}\n\t}\n}\n</code></pre>\n","attributes":{"title":"Handling Taps on List/Grid Items with ViewPagers (GestureDetector)","updatedAt":"Apr 9th, 2014","publishedAt":"Apr 9th, 2014","timeToRead":1,"headerImage":null,"url":"/2014/4/9/handling-taps-on-listgrid-items-with-viewpagers-gesture/","canonicalURL":null,"excerpt":"When placing a ViewPager inside of a GridView recently I ran into the issue of\nthe ViewPager stealing the GridView Items’ click event. I…","__typename":"BlogPostAttributes"},"__typename":"BlogPost"},"__typename":"Query"}}}