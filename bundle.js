!function(e){function n(t){if(s[t])return s[t].exports;var a=s[t]={exports:{},id:t,loaded:!1};return e[t].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var s={};return n.m=e,n.c=s,n.p="",n(0)}(function(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))switch(typeof e[n]){case"function":break;case"object":e[n]=function(n){var s=n.slice(1),t=e[n[0]];return function(e,n,a){t.apply(this,[e,n,a].concat(s))}}(e[n]);break;default:e[n]=e[e[n]]}return e}([function(e,n,s){e.exports=s(1)},function(e,n,s){"use strict";function t(e){s(253);return e()}var a=s(2),r=s(153),o=s(192),l=s(241),i=s(244),p=s(271);s(260);t(function(){return p.loadContext(function(e){var n,t,c,u,h,d;return c=s(253),t=c.pages,n=c.config,u=c.relativePath,d=i(t,e),t=l(t,function(e){return null!=e.path}),h?h.replaceRoutes([p]):h=r.run([d],r.HistoryLocation,function(e,s){var r;return r=o(t,function(e){return e.path===s.pathname}),p.onRouteChange&&p.onRouteChange(s,r,t,n),a.render(a.createElement(e,{config:n,pages:t,page:r,state:s}),"undefined"!=typeof window?document.getElementById("react-mount"):void 0)})})})},function(e,n,s){e.exports=s(3)},function(e,n,s){"use strict";var t=s(4),a=s(8),r=s(22),o=s(37),l=s(12),i=s(17),p=s(11),c=(s(32),s(40)),u=s(42),h=s(91),d=s(19),f=s(67),m=s(28),g=s(122),y=s(29),v=s(150),b=s(13),j=s(111),w=s(152);h.inject();var k=p.createElement,_=p.createFactory,x=p.cloneElement,S=m.measure("React","render",f.render),C={Children:{map:a.map,forEach:a.forEach,count:a.count,only:w},Component:r,DOM:c,PropTypes:g,initializeTouchEvents:function(e){t.useTouchEvents=e},createClass:o.createClass,createElement:k,cloneElement:x,createFactory:_,createMixin:function(e){return e},constructAndRenderComponent:f.constructAndRenderComponent,constructAndRenderComponentByID:f.constructAndRenderComponentByID,findDOMNode:j,render:S,renderToString:v.renderToString,renderToStaticMarkup:v.renderToStaticMarkup,unmountComponentAtNode:f.unmountComponentAtNode,isValidElement:p.isValidElement,withContext:l.withContext,__spread:b};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:i,InstanceHandles:d,Mount:f,Reconciler:y,TextComponent:u});C.version="0.13.3",e.exports=C},function(e,n,s){"use strict";function t(e){return e===g.topMouseUp||e===g.topTouchEnd||e===g.topTouchCancel}function a(e){return e===g.topMouseMove||e===g.topTouchMove}function r(e){return e===g.topMouseDown||e===g.topTouchStart}function o(e,n){var s=e._dispatchListeners,t=e._dispatchIDs;if(Array.isArray(s))for(var a=0;a<s.length&&!e.isPropagationStopped();a++)n(e,s[a],t[a]);else s&&n(e,s,t)}function l(e,n,s){e.currentTarget=m.Mount.getNode(s);var t=n(e,s);return e.currentTarget=null,t}function i(e,n){o(e,n),e._dispatchListeners=null,e._dispatchIDs=null}function p(e){var n=e._dispatchListeners,s=e._dispatchIDs;if(Array.isArray(n)){for(var t=0;t<n.length&&!e.isPropagationStopped();t++)if(n[t](e,s[t]))return s[t]}else if(n&&n(e,s))return s;return null}function c(e){var n=p(e);return e._dispatchIDs=null,e._dispatchListeners=null,n}function u(e){var n=e._dispatchListeners,s=e._dispatchIDs;f(!Array.isArray(n));var t=n?n(e,s):null;return e._dispatchListeners=null,e._dispatchIDs=null,t}function h(e){return!!e._dispatchListeners}var d=s(5),f=s(7),m={Mount:null,injectMount:function(e){m.Mount=e}},g=d.topLevelTypes,y={isEndish:t,isMoveish:a,isStartish:r,executeDirectDispatch:u,executeDispatch:l,executeDispatchesInOrder:i,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,injection:m,useTouchEvents:!1};e.exports=y},function(e,n,s){"use strict";var t=s(6),a=t({bubbled:null,captured:null}),r=t({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),o={topLevelTypes:r,PropagationPhases:a};e.exports=o},function(e,n,s){"use strict";var t=s(7),a=function(e){var n,s={};t(e instanceof Object&&!Array.isArray(e));for(n in e)e.hasOwnProperty(n)&&(s[n]=n);return s};e.exports=a},function(e,n,s){"use strict";var t=function(e,n,s,t,a,r,o,l){if(!e){var i;if(void 0===n)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[s,t,a,r,o,l],c=0;i=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return p[c++]}))}throw i.framesToPop=1,i}};e.exports=t},function(e,n,s){"use strict";function t(e,n){this.forEachFunction=e,this.forEachContext=n}function a(e,n,s,t){var a=e;a.forEachFunction.call(a.forEachContext,n,t)}function r(e,n,s){if(null==e)return e;var r=t.getPooled(n,s);d(e,a,r),t.release(r)}function o(e,n,s){this.mapResult=e,this.mapFunction=n,this.mapContext=s}function l(e,n,s,t){var a=e,r=a.mapResult,o=!r.hasOwnProperty(s);if(o){var l=a.mapFunction.call(a.mapContext,n,t);r[s]=l}}function i(e,n,s){if(null==e)return e;var t={},a=o.getPooled(t,n,s);return d(e,l,a),o.release(a),h.create(t)}function p(e,n,s,t){return null}function c(e,n){return d(e,p,null)}var u=s(9),h=s(10),d=s(18),f=(s(15),u.twoArgumentPooler),m=u.threeArgumentPooler;u.addPoolingTo(t,f),u.addPoolingTo(o,m);var g={forEach:r,map:i,count:c};e.exports=g},function(e,n,s){"use strict";var t=s(7),a=function(e){var n=this;if(n.instancePool.length){var s=n.instancePool.pop();return n.call(s,e),s}return new n(e)},r=function(e,n){var s=this;if(s.instancePool.length){var t=s.instancePool.pop();return s.call(t,e,n),t}return new s(e,n)},o=function(e,n,s){var t=this;if(t.instancePool.length){var a=t.instancePool.pop();return t.call(a,e,n,s),a}return new t(e,n,s)},l=function(e,n,s,t,a){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,n,s,t,a),o}return new r(e,n,s,t,a)},i=function(e){var n=this;t(e instanceof n),e.destructor&&e.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(e)},p=10,c=a,u=function(e,n){var s=e;return s.instancePool=[],s.getPooled=n||c,s.poolSize||(s.poolSize=p),s.release=i,s},h={addPoolingTo:u,oneArgumentPooler:a,twoArgumentPooler:r,threeArgumentPooler:o,fiveArgumentPooler:l};e.exports=h},function(e,n,s){"use strict";var t=(s(11),s(15),{create:function(e){return e},extract:function(e){return e},extractIfFragment:function(e){return e}});e.exports=t},function(e,n,s){"use strict";var t=s(12),a=s(17),r=s(13),o=(s(15),{key:!0,ref:!0}),l=function(e,n,s,t,a,r){this.type=e,this.key=n,this.ref=s,this._owner=t,this._context=a,this.props=r};l.prototype={_isReactElement:!0},l.createElement=function(e,n,s){var r,i={},p=null,c=null;if(null!=n){c=void 0===n.ref?null:n.ref,p=void 0===n.key?null:""+n.key;for(r in n)n.hasOwnProperty(r)&&!o.hasOwnProperty(r)&&(i[r]=n[r])}var u=arguments.length-2;if(1===u)i.children=s;else if(u>1){for(var h=Array(u),d=0;u>d;d++)h[d]=arguments[d+2];i.children=h}if(e&&e.defaultProps){var f=e.defaultProps;for(r in f)"undefined"==typeof i[r]&&(i[r]=f[r])}return new l(e,p,c,a.current,t.current,i)},l.createFactory=function(e){var n=l.createElement.bind(null,e);return n.type=e,n},l.cloneAndReplaceProps=function(e,n){var s=new l(e.type,e.key,e.ref,e._owner,e._context,n);return s},l.cloneElement=function(e,n,s){var t,i=r({},e.props),p=e.key,c=e.ref,u=e._owner;if(null!=n){void 0!==n.ref&&(c=n.ref,u=a.current),void 0!==n.key&&(p=""+n.key);for(t in n)n.hasOwnProperty(t)&&!o.hasOwnProperty(t)&&(i[t]=n[t])}var h=arguments.length-2;if(1===h)i.children=s;else if(h>1){for(var d=Array(h),f=0;h>f;f++)d[f]=arguments[f+2];i.children=d}return new l(e.type,p,c,u,e._context,i)},l.isValidElement=function(e){var n=!(!e||!e._isReactElement);return n},e.exports=l},function(e,n,s){"use strict";var t=s(13),a=s(14),r=(s(15),{current:a,withContext:function(e,n){var s,a=r.current;r.current=t({},a,e);try{s=n()}finally{r.current=a}return s}});e.exports=r},function(e,n){"use strict";function s(e,n){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var s=Object(e),t=Object.prototype.hasOwnProperty,a=1;a<arguments.length;a++){var r=arguments[a];if(null!=r){var o=Object(r);for(var l in o)t.call(o,l)&&(s[l]=o[l])}}return s}e.exports=s},function(e,n,s){"use strict";var t={};e.exports=t},function(e,n,s){"use strict";var t=s(16),a=t;e.exports=a},function(e,n){function s(e){return function(){return e}}function t(){}t.thatReturns=s,t.thatReturnsFalse=s(!1),t.thatReturnsTrue=s(!0),t.thatReturnsNull=s(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},e.exports=t},function(e,n){"use strict";var s={current:null};e.exports=s},function(e,n,s){"use strict";function t(e){return g[e]}function a(e,n){return e&&null!=e.key?o(e.key):n.toString(36)}function r(e){return(""+e).replace(y,t)}function o(e){return"$"+r(e)}function l(e,n,s,t,r){var i=typeof e;if(("undefined"===i||"boolean"===i)&&(e=null),null===e||"string"===i||"number"===i||p.isValidElement(e))return t(r,e,""===n?f+a(e,0):n,s),1;var u,g,y,v=0;if(Array.isArray(e))for(var b=0;b<e.length;b++)u=e[b],g=(""!==n?n+m:f)+a(u,b),y=s+v,v+=l(u,g,y,t,r);else{var j=h(e);if(j){var w,k=j.call(e);if(j!==e.entries)for(var _=0;!(w=k.next()).done;)u=w.value,g=(""!==n?n+m:f)+a(u,_++),y=s+v,v+=l(u,g,y,t,r);else for(;!(w=k.next()).done;){var x=w.value;x&&(u=x[1],g=(""!==n?n+m:f)+o(x[0])+m+a(u,0),y=s+v,v+=l(u,g,y,t,r))}}else if("object"===i){d(1!==e.nodeType);var S=c.extract(e);for(var C in S)S.hasOwnProperty(C)&&(u=S[C],g=(""!==n?n+m:f)+o(C)+m+a(u,0),y=s+v,v+=l(u,g,y,t,r))}}return v}function i(e,n,s){return null==e?0:l(e,"",0,n,s)}var p=s(11),c=s(10),u=s(19),h=s(21),d=s(7),f=(s(15),u.SEPARATOR),m=":",g={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g;e.exports=i},function(e,n,s){"use strict";function t(e){return d+e.toString(36)}function a(e,n){return e.charAt(n)===d||n===e.length}function r(e){return""===e||e.charAt(0)===d&&e.charAt(e.length-1)!==d}function o(e,n){return 0===n.indexOf(e)&&a(n,e.length)}function l(e){return e?e.substr(0,e.lastIndexOf(d)):""}function i(e,n){if(h(r(e)&&r(n)),h(o(e,n)),e===n)return e;var s,t=e.length+f;for(s=t;s<n.length&&!a(n,s);s++);return n.substr(0,s)}function p(e,n){var s=Math.min(e.length,n.length);if(0===s)return"";for(var t=0,o=0;s>=o;o++)if(a(e,o)&&a(n,o))t=o;else if(e.charAt(o)!==n.charAt(o))break;var l=e.substr(0,t);return h(r(l)),l}function c(e,n,s,t,a,r){e=e||"",n=n||"",h(e!==n);var p=o(n,e);h(p||o(e,n));for(var c=0,u=p?l:i,d=e;;d=u(d,n)){var f;if(a&&d===e||r&&d===n||(f=s(d,p,t)),f===!1||d===n)break;h(c++<m)}}var u=s(20),h=s(7),d=".",f=d.length,m=100,g={createReactRootID:function(){return t(u.createReactRootIndex())},createReactID:function(e,n){return e+n},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===d&&e.length>1){var n=e.indexOf(d,1);return n>-1?e.substr(0,n):e}return null},traverseEnterLeave:function(e,n,s,t,a){var r=p(e,n);r!==e&&c(e,r,s,t,!1,!0),r!==n&&c(r,n,s,a,!0,!1)},traverseTwoPhase:function(e,n,s){e&&(c("",e,n,s,!0,!1),c(e,"",n,s,!1,!0))},traverseAncestors:function(e,n,s){c("",e,n,s,!0,!1)},_getFirstCommonAncestorID:p,_getNextDescendantID:i,isAncestorIDOf:o,SEPARATOR:d};e.exports=g},function(e,n){"use strict";var s={injectCreateReactRootIndex:function(e){t.createReactRootIndex=e}},t={createReactRootIndex:null,injection:s};e.exports=t},function(e,n){"use strict";function s(e){var n=e&&(t&&e[t]||e[a]);return"function"==typeof n?n:void 0}var t="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";e.exports=s},function(e,n,s){"use strict";function t(e,n){this.props=e,this.context=n}var a=s(23),r=s(7);s(15);t.prototype.setState=function(e,n){r("object"==typeof e||"function"==typeof e||null==e),a.enqueueSetState(this,e),n&&a.enqueueCallback(this,n)},t.prototype.forceUpdate=function(e){a.enqueueForceUpdate(this),e&&a.enqueueCallback(this,e)};e.exports=t},function(e,n,s){"use strict";function t(e){e!==r.currentlyMountingInstance&&p.enqueueUpdate(e)}function a(e,n){u(null==o.current);var s=i.get(e);return s?s===r.currentlyUnmountingInstance?null:s:null}var r=s(24),o=s(17),l=s(11),i=s(25),p=s(26),c=s(13),u=s(7),h=(s(15),{enqueueCallback:function(e,n){u("function"==typeof n);var s=a(e);return s&&s!==r.currentlyMountingInstance?(s._pendingCallbacks?s._pendingCallbacks.push(n):s._pendingCallbacks=[n],void t(s)):null},enqueueCallbackInternal:function(e,n){u("function"==typeof n),e._pendingCallbacks?e._pendingCallbacks.push(n):e._pendingCallbacks=[n],t(e)},enqueueForceUpdate:function(e){var n=a(e,"forceUpdate");n&&(n._pendingForceUpdate=!0,t(n))},enqueueReplaceState:function(e,n){var s=a(e,"replaceState");s&&(s._pendingStateQueue=[n],s._pendingReplaceState=!0,t(s))},enqueueSetState:function(e,n){var s=a(e,"setState");if(s){var r=s._pendingStateQueue||(s._pendingStateQueue=[]);r.push(n),t(s)}},enqueueSetProps:function(e,n){var s=a(e,"setProps");if(s){u(s._isTopLevel);var r=s._pendingElement||s._currentElement,o=c({},r.props,n);s._pendingElement=l.cloneAndReplaceProps(r,o),t(s)}},enqueueReplaceProps:function(e,n){var s=a(e,"replaceProps");if(s){u(s._isTopLevel);var r=s._pendingElement||s._currentElement;s._pendingElement=l.cloneAndReplaceProps(r,n),t(s)}},enqueueElementInternal:function(e,n){e._pendingElement=n,t(e)}});e.exports=h},function(e,n){"use strict";var s={currentlyMountingInstance:null,currentlyUnmountingInstance:null};e.exports=s},function(e,n){"use strict";var s={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,n){e._reactInternalInstance=n}};e.exports=s},function(e,n,s){"use strict";function t(){g(C.ReactReconcileTransaction&&j)}function a(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled()}function r(e,n,s,a,r){t(),j.batchedUpdates(e,n,s,a,r)}function o(e,n){return e._mountOrder-n._mountOrder}function l(e){var n=e.dirtyComponentsLength;g(n===y.length),y.sort(o);for(var s=0;n>s;s++){var t=y[s],a=t._pendingCallbacks;if(t._pendingCallbacks=null,d.performUpdateIfNecessary(t,e.reconcileTransaction),a)for(var r=0;r<a.length;r++)e.callbackQueue.enqueue(a[r],t.getPublicInstance())}}function i(e){return t(),j.isBatchingUpdates?void y.push(e):void j.batchedUpdates(i,e)}function p(e,n){g(j.isBatchingUpdates),v.enqueue(e,n),b=!0}var c=s(27),u=s(9),h=(s(17),s(28)),d=s(29),f=s(36),m=s(13),g=s(7),y=(s(15),[]),v=c.getPooled(),b=!1,j=null,w={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),x()):y.length=0}},k={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},_=[w,k];m(a.prototype,f.Mixin,{getTransactionWrappers:function(){return _},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,n,s){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,n,s)}}),u.addPoolingTo(a);var x=function(){for(;y.length||b;){if(y.length){var e=a.getPooled();e.perform(l,null,e),a.release(e)}if(b){b=!1;var n=v;v=c.getPooled(),n.notifyAll(),c.release(n)}}};x=h.measure("ReactUpdates","flushBatchedUpdates",x);var S={injectReconcileTransaction:function(e){g(e),C.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){g(e),g("function"==typeof e.batchedUpdates),g("boolean"==typeof e.isBatchingUpdates),j=e}},C={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:i,flushBatchedUpdates:x,injection:S,asap:p};e.exports=C},function(e,n,s){"use strict";function t(){this._callbacks=null,this._contexts=null}var a=s(9),r=s(13),o=s(7);r(t.prototype,{enqueue:function(e,n){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(n)},notifyAll:function(){var e=this._callbacks,n=this._contexts;if(e){o(e.length===n.length),this._callbacks=null,this._contexts=null;for(var s=0,t=e.length;t>s;s++)e[s].call(n[s]);e.length=0,n.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(t),e.exports=t},function(e,n,s){"use strict";function t(e,n,s){return s}var a={enableMeasure:!1,storedMeasure:t,measureMethods:function(e,n,s){},measure:function(e,n,s){return s},injection:{injectMeasure:function(e){a.storedMeasure=e}}};e.exports=a},function(e,n,s){"use strict";function t(){a.attachRefs(this,this._currentElement)}var a=s(30),r=(s(32),{mountComponent:function(e,n,s,a){var r=e.mountComponent(n,s,a);return s.getReactMountReady().enqueue(t,e),r},unmountComponent:function(e){a.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,n,s,r){var o=e._currentElement;if(n!==o||null==n._owner){var l=a.shouldUpdateRefs(o,n);l&&a.detachRefs(e,o),e.receiveComponent(n,s,r),l&&s.getReactMountReady().enqueue(t,e)}},performUpdateIfNecessary:function(e,n){e.performUpdateIfNecessary(n)}});e.exports=r},function(e,n,s){"use strict";function t(e,n,s){"function"==typeof e?e(n.getPublicInstance()):r.addComponentAsRefTo(n,e,s)}function a(e,n,s){"function"==typeof e?e(null):r.removeComponentAsRefFrom(n,e,s)}var r=s(31),o={};o.attachRefs=function(e,n){var s=n.ref;null!=s&&t(s,e,n._owner)},o.shouldUpdateRefs=function(e,n){return n._owner!==e._owner||n.ref!==e.ref},o.detachRefs=function(e,n){var s=n.ref;null!=s&&a(s,e,n._owner)},e.exports=o},function(e,n,s){"use strict";var t=s(7),a={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,n,s){t(a.isValidOwner(s)),s.attachRef(n,e)},removeComponentAsRefFrom:function(e,n,s){t(a.isValidOwner(s)),s.getPublicInstance().refs[n]===e.getPublicInstance()&&s.detachRef(n)}};e.exports=a},function(e,n,s){"use strict";function t(){if(v.current){var e=v.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function a(e){var n=e&&e.getPublicInstance();if(!n)return void 0;var s=n.constructor;return s?s.displayName||s.name||void 0:void 0}function r(){var e=v.current;return e&&a(e)||void 0}function o(e,n){e._store.validated||null!=e.key||(e._store.validated=!0,i('Each child in an array or iterator should have a unique "key" prop.',e,n))}function l(e,n,s){x.test(e)&&i("Child objects should have non-numeric keys so ordering is preserved.",n,s)}function i(e,n,s){var t=r(),o="string"==typeof s?s:s.displayName||s.name,l=t||o,i=k[e]||(k[e]={});if(!i.hasOwnProperty(l)){i[l]=!0;var p="";if(n&&n._owner&&n._owner!==v.current){var c=a(n._owner);p=" It was passed a child from "+c+"."}}}function p(e,n){if(Array.isArray(e))for(var s=0;s<e.length;s++){var t=e[s];m.isValidElement(t)&&o(t,n)}else if(m.isValidElement(e))e._store.validated=!0;else if(e){var a=j(e);if(a){if(a!==e.entries)for(var r,i=a.call(e);!(r=i.next()).done;)m.isValidElement(r.value)&&o(r.value,n)}else if("object"==typeof e){var p=g.extractIfFragment(e);for(var c in p)p.hasOwnProperty(c)&&l(c,p[c],n)}}}function c(e,n,s,a){for(var r in n)if(n.hasOwnProperty(r)){var o;try{w("function"==typeof n[r]),o=n[r](s,r,e,a)}catch(l){o=l}if(o instanceof Error&&!(o.message in _)){_[o.message]=!0;t(this)}}}function u(e,n){var s=n.type,t="string"==typeof s?s:s.displayName,a=n._owner?n._owner.getPublicInstance().constructor.displayName:null,r=e+"|"+t+"|"+a;if(!S.hasOwnProperty(r)){S[r]=!0;var o="";t&&(o=" <"+t+" />");var l="";a&&(l=" The element was created by "+a+".")}}function h(e,n){return e!==e?n!==n:0===e&&0===n?1/e===1/n:e===n}function d(e){if(e._store){var n=e._store.originalProps,s=e.props;for(var t in s)s.hasOwnProperty(t)&&(n.hasOwnProperty(t)&&h(n[t],s[t])||(u(t,e),n[t]=s[t]))}}function f(e){if(null!=e.type){var n=b.getComponentClassForElement(e),s=n.displayName||n.name;n.propTypes&&c(s,n.propTypes,e.props,y.prop),"function"==typeof n.getDefaultProps}}var m=s(11),g=s(10),y=s(33),v=(s(34),s(17)),b=s(35),j=s(21),w=s(7),k=(s(15),{}),_={},x=/^\d+$/,S={},C={checkAndWarnForMutatedProps:d,createElement:function(e,n,s){var t=m.createElement.apply(this,arguments);if(null==t)return t;for(var a=2;a<arguments.length;a++)p(arguments[a],e);return f(t),t},createFactory:function(e){var n=C.createElement.bind(null,e);return n.type=e,n},cloneElement:function(e,n,s){for(var t=m.cloneElement.apply(this,arguments),a=2;a<arguments.length;a++)p(arguments[a],t.type);return f(t),t}};e.exports=C},function(e,n,s){"use strict";var t=s(6),a=t({prop:null,context:null,childContext:null});e.exports=a},function(e,n,s){"use strict";var t={};e.exports=t},function(e,n,s){"use strict";function t(e){if("function"==typeof e.type)return e.type;var n=e.type,s=u[n];return null==s&&(u[n]=s=p(n)),s}function a(e){return i(c),new c(e.type,e.props)}function r(e){return new h(e)}function o(e){return e instanceof h}var l=s(13),i=s(7),p=null,c=null,u={},h=null,d={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){h=e},injectComponentClasses:function(e){l(u,e)},injectAutoWrapper:function(e){p=e}},f={getComponentClassForElement:t,createInternalComponent:a,createInstanceForText:r,isTextComponent:o,injection:d};e.exports=f},function(e,n,s){"use strict";var t=s(7),a={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,n,s,a,r,o,l,i){t(!this.isInTransaction());var p,c;try{this._isInTransaction=!0,p=!0,this.initializeAll(0),c=e.call(n,s,a,r,o,l,i),p=!1}finally{try{if(p)try{this.closeAll(0)}catch(u){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var n=this.transactionWrappers,s=e;s<n.length;s++){var t=n[s];try{this.wrapperInitData[s]=r.OBSERVED_ERROR,this.wrapperInitData[s]=t.initialize?t.initialize.call(this):null}finally{if(this.wrapperInitData[s]===r.OBSERVED_ERROR)try{this.initializeAll(s+1)}catch(a){}}}},closeAll:function(e){t(this.isInTransaction());for(var n=this.transactionWrappers,s=e;s<n.length;s++){var a,o=n[s],l=this.wrapperInitData[s];try{a=!0,l!==r.OBSERVED_ERROR&&o.close&&o.close.call(this,l),a=!1}finally{if(a)try{this.closeAll(s+1)}catch(i){}}}this.wrapperInitData.length=0}},r={Mixin:a,OBSERVED_ERROR:{}};e.exports=r},function(e,n,s){"use strict";function t(e,n){var s=x.hasOwnProperty(n)?x[n]:null;C.hasOwnProperty(n)&&v(s===k.OVERRIDE_BASE),e.hasOwnProperty(n)&&v(s===k.DEFINE_MANY||s===k.DEFINE_MANY_MERGED)}function a(e,n){if(n){v("function"!=typeof n),v(!h.isValidElement(n));var s=e.prototype;n.hasOwnProperty(w)&&S.mixins(e,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==w){var r=n[a];if(t(s,a),S.hasOwnProperty(a))S[a](e,r);else{var o=x.hasOwnProperty(a),p=s.hasOwnProperty(a),c=r&&r.__reactDontBind,u="function"==typeof r,d=u&&!o&&!p&&!c;if(d)s.__reactAutoBindMap||(s.__reactAutoBindMap={}),s.__reactAutoBindMap[a]=r,s[a]=r;else if(p){var f=x[a];v(o&&(f===k.DEFINE_MANY_MERGED||f===k.DEFINE_MANY)),f===k.DEFINE_MANY_MERGED?s[a]=l(s[a],r):f===k.DEFINE_MANY&&(s[a]=i(s[a],r))}else s[a]=r}}}}function r(e,n){if(n)for(var s in n){var t=n[s];if(n.hasOwnProperty(s)){var a=s in S;v(!a);var r=s in e;v(!r),e[s]=t}}}function o(e,n){v(e&&n&&"object"==typeof e&&"object"==typeof n);for(var s in n)n.hasOwnProperty(s)&&(v(void 0===e[s]),e[s]=n[s]);return e}function l(e,n){return function(){var s=e.apply(this,arguments),t=n.apply(this,arguments);if(null==s)return t;if(null==t)return s;var a={};return o(a,s),o(a,t),a}}function i(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}function p(e,n){var s=n.bind(e);return s}function c(e){for(var n in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(n)){var s=e.__reactAutoBindMap[n];e[n]=p(e,d.guard(s,e.constructor.displayName+"."+n))}}var u=s(22),h=(s(17),s(11)),d=s(38),f=s(25),m=s(24),g=(s(33),s(34),s(23)),y=s(13),v=s(7),b=s(6),j=s(39),w=(s(15),j({mixins:null})),k=b({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),_=[],x={mixins:k.DEFINE_MANY,statics:k.DEFINE_MANY,propTypes:k.DEFINE_MANY,contextTypes:k.DEFINE_MANY,childContextTypes:k.DEFINE_MANY,getDefaultProps:k.DEFINE_MANY_MERGED,getInitialState:k.DEFINE_MANY_MERGED,getChildContext:k.DEFINE_MANY_MERGED,render:k.DEFINE_ONCE,componentWillMount:k.DEFINE_MANY,componentDidMount:k.DEFINE_MANY,componentWillReceiveProps:k.DEFINE_MANY,shouldComponentUpdate:k.DEFINE_ONCE,componentWillUpdate:k.DEFINE_MANY,componentDidUpdate:k.DEFINE_MANY,componentWillUnmount:k.DEFINE_MANY,updateComponent:k.OVERRIDE_BASE},S={displayName:function(e,n){e.displayName=n},mixins:function(e,n){if(n)for(var s=0;s<n.length;s++)a(e,n[s])},childContextTypes:function(e,n){e.childContextTypes=y({},e.childContextTypes,n)},contextTypes:function(e,n){e.contextTypes=y({},e.contextTypes,n)},getDefaultProps:function(e,n){e.getDefaultProps?e.getDefaultProps=l(e.getDefaultProps,n):e.getDefaultProps=n},propTypes:function(e,n){e.propTypes=y({},e.propTypes,n)},statics:function(e,n){r(e,n)}},C={replaceState:function(e,n){g.enqueueReplaceState(this,e),n&&g.enqueueCallback(this,n)},isMounted:function(){var e=f.get(this);return e&&e!==m.currentlyMountingInstance},setProps:function(e,n){g.enqueueSetProps(this,e),n&&g.enqueueCallback(this,n)},replaceProps:function(e,n){g.enqueueReplaceProps(this,e),n&&g.enqueueCallback(this,n)}},T=function(){};y(T.prototype,u.prototype,C);var D={createClass:function(e){var n=function(e,n){this.__reactAutoBindMap&&c(this),this.props=e,this.context=n,this.state=null;var s=this.getInitialState?this.getInitialState():null;v("object"==typeof s&&!Array.isArray(s)),this.state=s};n.prototype=new T,n.prototype.constructor=n,_.forEach(a.bind(null,n)),a(n,e),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),v(n.prototype.render);for(var s in x)n.prototype[s]||(n.prototype[s]=null);return n.type=n,n},injection:{injectMixin:function(e){_.push(e)}}};e.exports=D},function(e,n){"use strict";var s={guard:function(e,n){return e}};e.exports=s},function(e,n){var s=function(e){var n;for(n in e)if(e.hasOwnProperty(n))return n;return null};e.exports=s},function(e,n,s){"use strict";function t(e){return a.createFactory(e)}var a=s(11),r=(s(32),s(41)),o=r({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},t);e.exports=o},function(e,n){"use strict";function s(e,n,s){if(!e)return null;var a={};for(var r in e)t.call(e,r)&&(a[r]=n.call(s,e[r],r,e));return a}var t=Object.prototype.hasOwnProperty;e.exports=s},function(e,n,s){"use strict";var t=s(43),a=s(47),r=s(87),o=s(13),l=s(46),i=function(e){};o(i.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,n,s){this._rootNodeID=e;var a=l(this._stringText);return n.renderToStaticMarkup?a:"<span "+t.createMarkupForID(e)+">"+a+"</span>"},receiveComponent:function(e,n){if(e!==this._currentElement){this._currentElement=e;var s=""+e;s!==this._stringText&&(this._stringText=s,r.BackendIDOperations.updateTextContentByID(this._rootNodeID,s))}},unmountComponent:function(){a.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=i},function(e,n,s){"use strict";function t(e,n){return null==n||a.hasBooleanValue[e]&&!n||a.hasNumericValue[e]&&isNaN(n)||a.hasPositiveNumericValue[e]&&1>n||a.hasOverloadedBooleanValue[e]&&n===!1}var a=s(44),r=s(45),o=(s(15),{createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+"="+r(e)},createMarkupForProperty:function(e,n){if(a.isStandardName.hasOwnProperty(e)&&a.isStandardName[e]){if(t(e,n))return"";var s=a.getAttributeName[e];return a.hasBooleanValue[e]||a.hasOverloadedBooleanValue[e]&&n===!0?s:s+"="+r(n)}return a.isCustomAttribute(e)?null==n?"":e+"="+r(n):null},setValueForProperty:function(e,n,s){if(a.isStandardName.hasOwnProperty(n)&&a.isStandardName[n]){var r=a.getMutationMethod[n];if(r)r(e,s);else if(t(n,s))this.deleteValueForProperty(e,n);else if(a.mustUseAttribute[n])e.setAttribute(a.getAttributeName[n],""+s);else{var o=a.getPropertyName[n];a.hasSideEffects[n]&&""+e[o]==""+s||(e[o]=s)}}else a.isCustomAttribute(n)&&(null==s?e.removeAttribute(n):e.setAttribute(n,""+s))},deleteValueForProperty:function(e,n){if(a.isStandardName.hasOwnProperty(n)&&a.isStandardName[n]){var s=a.getMutationMethod[n];if(s)s(e,void 0);else if(a.mustUseAttribute[n])e.removeAttribute(a.getAttributeName[n]);else{var t=a.getPropertyName[n],r=a.getDefaultValueForProperty(e.nodeName,t);a.hasSideEffects[n]&&""+e[t]===r||(e[t]=r)}}else a.isCustomAttribute(n)&&e.removeAttribute(n)}});e.exports=o},function(e,n,s){"use strict";function t(e,n){return(e&n)===n}var a=s(7),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var n=e.Properties||{},s=e.DOMAttributeNames||{},o=e.DOMPropertyNames||{},i=e.DOMMutationMethods||{};e.isCustomAttribute&&l._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){a(!l.isStandardName.hasOwnProperty(p)),l.isStandardName[p]=!0;var c=p.toLowerCase();if(l.getPossibleStandardName[c]=p,s.hasOwnProperty(p)){var u=s[p];l.getPossibleStandardName[u]=p,l.getAttributeName[p]=u}else l.getAttributeName[p]=c;l.getPropertyName[p]=o.hasOwnProperty(p)?o[p]:p,i.hasOwnProperty(p)?l.getMutationMethod[p]=i[p]:l.getMutationMethod[p]=null;var h=n[p];l.mustUseAttribute[p]=t(h,r.MUST_USE_ATTRIBUTE),l.mustUseProperty[p]=t(h,r.MUST_USE_PROPERTY),l.hasSideEffects[p]=t(h,r.HAS_SIDE_EFFECTS),l.hasBooleanValue[p]=t(h,r.HAS_BOOLEAN_VALUE),l.hasNumericValue[p]=t(h,r.HAS_NUMERIC_VALUE),l.hasPositiveNumericValue[p]=t(h,r.HAS_POSITIVE_NUMERIC_VALUE),l.hasOverloadedBooleanValue[p]=t(h,r.HAS_OVERLOADED_BOOLEAN_VALUE),
a(!l.mustUseAttribute[p]||!l.mustUseProperty[p]),a(l.mustUseProperty[p]||!l.hasSideEffects[p]),a(!!l.hasBooleanValue[p]+!!l.hasNumericValue[p]+!!l.hasOverloadedBooleanValue[p]<=1)}}},o={},l={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var n=0;n<l._isCustomAttributeFunctions.length;n++){var s=l._isCustomAttributeFunctions[n];if(s(e))return!0}return!1},getDefaultValueForProperty:function(e,n){var s,t=o[e];return t||(o[e]=t={}),n in t||(s=document.createElement(e),t[n]=s[n]),t[n]},injection:r};e.exports=l},function(e,n,s){"use strict";function t(e){return'"'+a(e)+'"'}var a=s(46);e.exports=t},function(e,n){"use strict";function s(e){return a[e]}function t(e){return(""+e).replace(r,s)}var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},r=/[&><"']/g;e.exports=t},function(e,n,s){"use strict";var t=s(48),a=s(67),r={processChildrenUpdates:t.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:t.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){a.purgeID(e)}};e.exports=r},function(e,n,s){"use strict";var t=s(49),a=s(58),r=s(43),o=s(67),l=s(28),i=s(7),p=s(66),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,n,s){var t=o.getNode(e);i(!c.hasOwnProperty(n)),null!=s?r.setValueForProperty(t,n,s):r.deleteValueForProperty(t,n)},deletePropertyByID:function(e,n,s){var t=o.getNode(e);i(!c.hasOwnProperty(n)),r.deleteValueForProperty(t,n,s)},updateStylesByID:function(e,n){var s=o.getNode(e);t.setValueForStyles(s,n)},updateInnerHTMLByID:function(e,n){var s=o.getNode(e);p(s,n)},updateTextContentByID:function(e,n){var s=o.getNode(e);a.updateTextContent(s,n)},dangerouslyReplaceNodeWithMarkupByID:function(e,n){var s=o.getNode(e);a.dangerouslyReplaceNodeWithMarkup(s,n)},dangerouslyProcessChildrenUpdates:function(e,n){for(var s=0;s<e.length;s++)e[s].parentNode=o.getNode(e[s].parentID);a.processUpdates(e,n)}};l.measureMethods(u,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=u},function(e,n,s){"use strict";var t=s(50),a=s(51),r=(s(52),s(54)),o=s(55),l=s(57),i=(s(15),l(function(e){return o(e)})),p="cssFloat";a.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(p="styleFloat");var c={createMarkupForStyles:function(e){var n="";for(var s in e)if(e.hasOwnProperty(s)){var t=e[s];null!=t&&(n+=i(s)+":",n+=r(s,t)+";")}return n||null},setValueForStyles:function(e,n){var s=e.style;for(var a in n)if(n.hasOwnProperty(a)){var o=r(a,n[a]);if("float"===a&&(a=p),o)s[a]=o;else{var l=t.shorthandPropertyExpansions[a];if(l)for(var i in l)s[i]="";else s[a]=""}}}};e.exports=c},function(e,n){"use strict";function s(e,n){return e+n.charAt(0).toUpperCase()+n.substring(1)}var t={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(t).forEach(function(e){a.forEach(function(n){t[s(n,e)]=t[e]})});var r={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},o={isUnitlessNumber:t,shorthandPropertyExpansions:r};e.exports=o},function(e,n){"use strict";var s=!("undefined"==typeof window||!window.document||!window.document.createElement),t={canUseDOM:s,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:s&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:s&&!!window.screen,isInWorker:!s};e.exports=t},function(e,n,s){"use strict";function t(e){return a(e.replace(r,"ms-"))}var a=s(53),r=/^-ms-/;e.exports=t},function(e,n){function s(e){return e.replace(t,function(e,n){return n.toUpperCase()})}var t=/-(.)/g;e.exports=s},function(e,n,s){"use strict";function t(e,n){var s=null==n||"boolean"==typeof n||""===n;if(s)return"";var t=isNaN(n);return t||0===n||r.hasOwnProperty(e)&&r[e]?""+n:("string"==typeof n&&(n=n.trim()),n+"px")}var a=s(50),r=a.isUnitlessNumber;e.exports=t},function(e,n,s){"use strict";function t(e){return a(e).replace(r,"-ms-")}var a=s(56),r=/^ms-/;e.exports=t},function(e,n){function s(e){return e.replace(t,"-$1").toLowerCase()}var t=/([A-Z])/g;e.exports=s},function(e,n){"use strict";function s(e){var n={};return function(s){return n.hasOwnProperty(s)||(n[s]=e.call(this,s)),n[s]}}e.exports=s},function(e,n,s){"use strict";function t(e,n,s){e.insertBefore(n,e.childNodes[s]||null)}var a=s(59),r=s(64),o=s(65),l=s(7),i={dangerouslyReplaceNodeWithMarkup:a.dangerouslyReplaceNodeWithMarkup,updateTextContent:o,processUpdates:function(e,n){for(var s,i=null,p=null,c=0;c<e.length;c++)if(s=e[c],s.type===r.MOVE_EXISTING||s.type===r.REMOVE_NODE){var u=s.fromIndex,h=s.parentNode.childNodes[u],d=s.parentID;l(h),i=i||{},i[d]=i[d]||[],i[d][u]=h,p=p||[],p.push(h)}var f=a.dangerouslyRenderMarkup(n);if(p)for(var m=0;m<p.length;m++)p[m].parentNode.removeChild(p[m]);for(var g=0;g<e.length;g++)switch(s=e[g],s.type){case r.INSERT_MARKUP:t(s.parentNode,f[s.markupIndex],s.toIndex);break;case r.MOVE_EXISTING:t(s.parentNode,i[s.parentID][s.fromIndex],s.toIndex);break;case r.TEXT_CONTENT:o(s.parentNode,s.textContent);break;case r.REMOVE_NODE:}}};e.exports=i},function(e,n,s){"use strict";function t(e){return e.substring(1,e.indexOf(" "))}var a=s(51),r=s(60),o=s(16),l=s(63),i=s(7),p=/^(<[^ \/>]+)/,c="data-danger-index",u={dangerouslyRenderMarkup:function(e){i(a.canUseDOM);for(var n,s={},u=0;u<e.length;u++)i(e[u]),n=t(e[u]),n=l(n)?n:"*",s[n]=s[n]||[],s[n][u]=e[u];var h=[],d=0;for(n in s)if(s.hasOwnProperty(n)){var f,m=s[n];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(p,"$1 "+c+'="'+f+'" ')}for(var y=r(m.join(""),o),v=0;v<y.length;++v){var b=y[v];b.hasAttribute&&b.hasAttribute(c)&&(f=+b.getAttribute(c),b.removeAttribute(c),i(!h.hasOwnProperty(f)),h[f]=b,d+=1)}}return i(d===h.length),i(h.length===e.length),h},dangerouslyReplaceNodeWithMarkup:function(e,n){i(a.canUseDOM),i(n),i("html"!==e.tagName.toLowerCase());var s=r(n,o)[0];e.parentNode.replaceChild(s,e)}};e.exports=u},function(e,n,s){function t(e){var n=e.match(c);return n&&n[1].toLowerCase()}function a(e,n){var s=p;i(!!p);var a=t(e),r=a&&l(a);if(r){s.innerHTML=r[1]+e+r[2];for(var c=r[0];c--;)s=s.lastChild}else s.innerHTML=e;var u=s.getElementsByTagName("script");u.length&&(i(n),o(u).forEach(n));for(var h=o(s.childNodes);s.lastChild;)s.removeChild(s.lastChild);return h}var r=s(51),o=s(61),l=s(63),i=s(7),p=r.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=a},function(e,n,s){function t(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function a(e){return t(e)?Array.isArray(e)?e.slice():r(e):[e]}var r=s(62);e.exports=a},function(e,n,s){function t(e){var n=e.length;if(a(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),a("number"==typeof n),a(0===n||n-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(s){}for(var t=Array(n),r=0;n>r;r++)t[r]=e[r];return t}var a=s(7);e.exports=t},function(e,n,s){function t(e){return r(!!o),h.hasOwnProperty(e)||(e="*"),l.hasOwnProperty(e)||("*"===e?o.innerHTML="<link />":o.innerHTML="<"+e+"></"+e+">",l[e]=!o.firstChild),l[e]?h[e]:null}var a=s(51),r=s(7),o=a.canUseDOM?document.createElement("div"):null,l={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},i=[1,'<select multiple="true">',"</select>"],p=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,"<svg>","</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:i,option:i,caption:p,colgroup:p,tbody:p,tfoot:p,thead:p,td:c,th:c,circle:u,clipPath:u,defs:u,ellipse:u,g:u,line:u,linearGradient:u,path:u,polygon:u,polyline:u,radialGradient:u,rect:u,stop:u,text:u};e.exports=t},function(e,n,s){"use strict";var t=s(6),a=t({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});e.exports=a},function(e,n,s){"use strict";var t=s(51),a=s(46),r=s(66),o=function(e,n){e.textContent=n};t.canUseDOM&&("textContent"in document.documentElement||(o=function(e,n){r(e,a(n))})),e.exports=o},function(e,n,s){"use strict";var t=s(51),a=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(e,n){e.innerHTML=n};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(o=function(e,n){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=n})}),t.canUseDOM){var l=document.createElement("div");l.innerHTML=" ",""===l.innerHTML&&(o=function(e,n){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(n)||"<"===n[0]&&r.test(n)){e.innerHTML="\ufeff"+n;var s=e.firstChild;1===s.data.length?e.removeChild(s):s.deleteData(0,1)}else e.innerHTML=n})}e.exports=o},function(e,n,s){"use strict";function t(e,n){for(var s=Math.min(e.length,n.length),t=0;s>t;t++)if(e.charAt(t)!==n.charAt(t))return t;return e.length===n.length?-1:s}function a(e){var n=R(e);return n&&H.getID(n)}function r(e){var n=o(e);if(n)if(q.hasOwnProperty(n)){var s=q[n];s!==e&&(E(!c(s,n)),q[n]=e)}else q[n]=e;return n}function o(e){return e&&e.getAttribute&&e.getAttribute(A)||""}function l(e,n){var s=o(e);s!==n&&delete q[s],e.setAttribute(A,n),q[n]=e}function i(e){return q.hasOwnProperty(e)&&c(q[e],e)||(q[e]=H.findReactNodeByID(e)),q[e]}function p(e){var n=w.get(e)._rootNodeID;return b.isNullComponentID(n)?null:(q.hasOwnProperty(n)&&c(q[n],n)||(q[n]=H.findReactNodeByID(n)),q[n])}function c(e,n){if(e){E(o(e)===n);var s=H.findReactContainerForID(n);if(s&&D(s,e))return!0}return!1}function u(e){delete q[e]}function h(e){var n=q[e];return n&&c(n,e)?void(B=n):!1}function d(e){B=null,j.traverseAncestors(e,h);var n=B;return B=null,n}function f(e,n,s,t,a){var r=x.mountComponent(e,n,t,T);e._isTopLevel=!0,H._mountImageIntoNode(r,s,a)}function m(e,n,s,t){var a=C.ReactReconcileTransaction.getPooled();a.perform(f,null,e,n,s,a,t),C.ReactReconcileTransaction.release(a)}var g=s(44),y=s(68),v=(s(17),s(11)),b=(s(32),s(76)),j=s(19),w=s(25),k=s(77),_=s(28),x=s(29),S=s(23),C=s(26),T=s(14),D=s(79),R=s(82),I=s(83),E=s(7),O=s(66),P=s(86),M=(s(15),j.SEPARATOR),A=g.ID_ATTRIBUTE_NAME,q={},N=1,F=9,L={},U={},z=[],B=null,H={_instancesByReactRootID:L,scrollMonitor:function(e,n){n()},_updateRootComponent:function(e,n,s,t){return H.scrollMonitor(s,function(){S.enqueueElementInternal(e,n),t&&S.enqueueCallbackInternal(e,t)}),e},_registerComponent:function(e,n){E(n&&(n.nodeType===N||n.nodeType===F)),y.ensureScrollValueMonitoring();var s=H.registerContainer(n);return L[s]=e,s},_renderNewRootComponent:function(e,n,s){var t=I(e,null),a=H._registerComponent(t,n);return C.batchedUpdates(m,t,a,n,s),t},render:function(e,n,s){E(v.isValidElement(e));var t=L[a(n)];if(t){var r=t._currentElement;if(P(r,e))return H._updateRootComponent(t,e,n,s).getPublicInstance();H.unmountComponentAtNode(n)}var o=R(n),l=o&&H.isRenderedByReact(o),i=l&&!t,p=H._renderNewRootComponent(e,n,i).getPublicInstance();return s&&s.call(p),p},constructAndRenderComponent:function(e,n,s){var t=v.createElement(e,n);return H.render(t,s)},constructAndRenderComponentByID:function(e,n,s){var t=document.getElementById(s);return E(t),H.constructAndRenderComponent(e,n,t)},registerContainer:function(e){var n=a(e);return n&&(n=j.getReactRootIDFromNodeID(n)),n||(n=j.createReactRootID()),U[n]=e,n},unmountComponentAtNode:function(e){E(e&&(e.nodeType===N||e.nodeType===F));var n=a(e),s=L[n];return s?(H.unmountComponentFromNode(s,e),delete L[n],delete U[n],!0):!1},unmountComponentFromNode:function(e,n){for(x.unmountComponent(e),n.nodeType===F&&(n=n.documentElement);n.lastChild;)n.removeChild(n.lastChild)},findReactContainerForID:function(e){var n=j.getReactRootIDFromNodeID(e),s=U[n];return s},findReactNodeByID:function(e){var n=H.findReactContainerForID(e);return H.findComponentRoot(n,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var n=H.getID(e);return n?n.charAt(0)===M:!1},getFirstReactDOM:function(e){for(var n=e;n&&n.parentNode!==n;){if(H.isRenderedByReact(n))return n;n=n.parentNode}return null},findComponentRoot:function(e,n){var s=z,t=0,a=d(n)||e;for(s[0]=a.firstChild,s.length=1;t<s.length;){for(var r,o=s[t++];o;){var l=H.getID(o);l?n===l?r=o:j.isAncestorIDOf(l,n)&&(s.length=t=0,s.push(o.firstChild)):s.push(o.firstChild),o=o.nextSibling}if(r)return s.length=0,r}s.length=0,E(!1)},_mountImageIntoNode:function(e,n,s){if(E(n&&(n.nodeType===N||n.nodeType===F)),s){var a=R(n);if(k.canReuseMarkup(e,a))return;var r=a.getAttribute(k.CHECKSUM_ATTR_NAME);a.removeAttribute(k.CHECKSUM_ATTR_NAME);var o=a.outerHTML;a.setAttribute(k.CHECKSUM_ATTR_NAME,r);var l=t(e,o);" (client) "+e.substring(l-20,l+20)+"\n (server) "+o.substring(l-20,l+20);E(n.nodeType!==F)}E(n.nodeType!==F),O(n,e)},getReactRootID:a,getID:r,setID:l,getNode:i,getNodeFromInstance:p,purgeID:u};_.measureMethods(H,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=H},function(e,n,s){"use strict";function t(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=d++,u[e[m]]={}),u[e[m]]}var a=s(5),r=s(69),o=s(70),l=s(73),i=s(74),p=s(13),c=s(75),u={},h=!1,d=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=p({},l,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,n){for(var s=n,r=t(s),l=o.registrationNameDependencies[e],i=a.topLevelTypes,p=0,u=l.length;u>p;p++){var h=l[p];r.hasOwnProperty(h)&&r[h]||(h===i.topWheel?c("wheel")?g.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",s):c("mousewheel")?g.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",s):g.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",s):h===i.topScroll?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",s):g.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):h===i.topFocus||h===i.topBlur?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",s),g.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",s)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",s),g.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",s)),r[i.topBlur]=!0,r[i.topFocus]=!0):f.hasOwnProperty(h)&&g.ReactEventListener.trapBubbledEvent(h,f[h],s),r[h]=!0)}},trapBubbledEvent:function(e,n,s){return g.ReactEventListener.trapBubbledEvent(e,n,s)},trapCapturedEvent:function(e,n,s){return g.ReactEventListener.trapCapturedEvent(e,n,s)},ensureScrollValueMonitoring:function(){if(!h){var e=i.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners});e.exports=g},function(e,n,s){"use strict";var t=s(70),a=s(4),r=s(71),o=s(72),l=s(7),i={},p=null,c=function(e){if(e){var n=a.executeDispatch,s=t.getPluginModuleForEvent(e);s&&s.executeDispatch&&(n=s.executeDispatch),a.executeDispatchesInOrder(e,n),e.isPersistent()||e.constructor.release(e)}},u=null,h={injection:{injectMount:a.injection.injectMount,injectInstanceHandle:function(e){u=e},getInstanceHandle:function(){return u},injectEventPluginOrder:t.injectEventPluginOrder,injectEventPluginsByName:t.injectEventPluginsByName},eventNameDispatchConfigs:t.eventNameDispatchConfigs,registrationNameModules:t.registrationNameModules,putListener:function(e,n,s){l(!s||"function"==typeof s);var t=i[n]||(i[n]={});t[e]=s},getListener:function(e,n){var s=i[n];return s&&s[e]},deleteListener:function(e,n){var s=i[n];s&&delete s[e]},deleteAllListeners:function(e){for(var n in i)delete i[n][e]},extractEvents:function(e,n,s,a){for(var o,l=t.plugins,i=0,p=l.length;p>i;i++){var c=l[i];if(c){var u=c.extractEvents(e,n,s,a);u&&(o=r(o,u))}}return o},enqueueEvents:function(e){e&&(p=r(p,e))},processEventQueue:function(){var e=p;p=null,o(e,c),l(!p)},__purge:function(){i={}},__getListenerBank:function(){return i}};e.exports=h},function(e,n,s){"use strict";function t(){if(l)for(var e in i){var n=i[e],s=l.indexOf(e);if(o(s>-1),!p.plugins[s]){o(n.extractEvents),p.plugins[s]=n;var t=n.eventTypes;for(var r in t)o(a(t[r],n,r))}}}function a(e,n,s){o(!p.eventNameDispatchConfigs.hasOwnProperty(s)),p.eventNameDispatchConfigs[s]=e;var t=e.phasedRegistrationNames;if(t){for(var a in t)if(t.hasOwnProperty(a)){var l=t[a];r(l,n,s)}return!0}return e.registrationName?(r(e.registrationName,n,s),!0):!1}function r(e,n,s){o(!p.registrationNameModules[e]),p.registrationNameModules[e]=n,p.registrationNameDependencies[e]=n.eventTypes[s].dependencies}var o=s(7),l=null,i={},p={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){o(!l),l=Array.prototype.slice.call(e),t()},injectEventPluginsByName:function(e){var n=!1;for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];i.hasOwnProperty(s)&&i[s]===a||(o(!i[s]),i[s]=a,n=!0)}n&&t()},getPluginModuleForEvent:function(e){var n=e.dispatchConfig;if(n.registrationName)return p.registrationNameModules[n.registrationName]||null;for(var s in n.phasedRegistrationNames)if(n.phasedRegistrationNames.hasOwnProperty(s)){var t=p.registrationNameModules[n.phasedRegistrationNames[s]];if(t)return t}return null},_resetEventPlugins:function(){l=null;for(var e in i)i.hasOwnProperty(e)&&delete i[e];p.plugins.length=0;var n=p.eventNameDispatchConfigs;for(var s in n)n.hasOwnProperty(s)&&delete n[s];var t=p.registrationNameModules;for(var a in t)t.hasOwnProperty(a)&&delete t[a]}};e.exports=p},function(e,n,s){"use strict";function t(e,n){if(a(null!=n),null==e)return n;var s=Array.isArray(e),t=Array.isArray(n);return s&&t?(e.push.apply(e,n),e):s?(e.push(n),e):t?[e].concat(n):[e,n]}var a=s(7);e.exports=t},function(e,n){"use strict";var s=function(e,n,s){Array.isArray(e)?e.forEach(n,s):e&&n.call(s,e)};e.exports=s},function(e,n,s){"use strict";function t(e){a.enqueueEvents(e),a.processEventQueue()}var a=s(69),r={handleTopLevel:function(e,n,s,r){var o=a.extractEvents(e,n,s,r);t(o)}};e.exports=r},function(e,n){"use strict";var s={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){s.currentScrollLeft=e.x,s.currentScrollTop=e.y}};e.exports=s},function(e,n,s){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function t(e,n){if(!r.canUseDOM||n&&!("addEventListener"in document))return!1;var s="on"+e,t=s in document;if(!t){var o=document.createElement("div");o.setAttribute(s,"return;"),t="function"==typeof o[s]}return!t&&a&&"wheel"===e&&(t=document.implementation.hasFeature("Events.wheel","3.0")),t}var a,r=s(51);r.canUseDOM&&(a=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=t},function(e,n,s){"use strict";function t(e){c[e]=!0}function a(e){delete c[e]}function r(e){return!!c[e]}var o,l=s(11),i=s(25),p=s(7),c={},u={injectEmptyComponent:function(e){o=l.createFactory(e)}},h=function(){};h.prototype.componentDidMount=function(){var e=i.get(this);e&&t(e._rootNodeID)},h.prototype.componentWillUnmount=function(){var e=i.get(this);e&&a(e._rootNodeID)},h.prototype.render=function(){return p(o),o()};var d=l.createElement(h),f={emptyElement:d,injection:u,isNullComponentID:r};e.exports=f},function(e,n,s){"use strict";var t=s(78),a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var n=t(e);return e.replace(">"," "+a.CHECKSUM_ATTR_NAME+'="'+n+'">')},canReuseMarkup:function(e,n){var s=n.getAttribute(a.CHECKSUM_ATTR_NAME);s=s&&parseInt(s,10);var r=t(e);return r===s}};e.exports=a},function(e,n){"use strict";function s(e){for(var n=1,s=0,a=0;a<e.length;a++)n=(n+e.charCodeAt(a))%t,s=(s+n)%t;return n|s<<16}var t=65521;e.exports=s},function(e,n,s){function t(e,n){return e&&n?e===n?!0:a(e)?!1:a(n)?t(e,n.parentNode):e.contains?e.contains(n):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(n)):!1:!1}var a=s(80);e.exports=t},function(e,n,s){function t(e){return a(e)&&3==e.nodeType}var a=s(81);e.exports=t},function(e,n){function s(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=s},function(e,n){"use strict";function s(e){return e?e.nodeType===t?e.documentElement:e.firstChild:null}var t=9;e.exports=s},function(e,n,s){"use strict";function t(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function a(e,n){var s;if((null===e||e===!1)&&(e=o.emptyElement),"object"==typeof e){var a=e;s=n===a.type&&"string"==typeof a.type?l.createInternalComponent(a):t(a.type)?new a.type(a):new c}else"string"==typeof e||"number"==typeof e?s=l.createInstanceForText(e):p(!1);return s.construct(e),s._mountIndex=0,s._mountImage=null,s}var r=s(84),o=s(76),l=s(35),i=s(13),p=s(7),c=(s(15),function(){});i(c.prototype,r.Mixin,{_instantiateReactComponent:a}),e.exports=a},function(e,n,s){"use strict";function t(e){var n=e._currentElement._owner||null;if(n){var s=n.getName();if(s)return" Check the render method of `"+s+"`."}return""}var a=s(85),r=s(12),o=s(17),l=s(11),i=(s(32),s(25)),p=s(24),c=s(35),u=s(28),h=s(33),d=(s(34),s(29)),f=s(26),m=s(13),g=s(14),y=s(7),v=s(86),b=(s(15),1),j={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,n,s){this._context=s,this._mountOrder=b++,this._rootNodeID=e;var t=this._processProps(this._currentElement.props),a=this._processContext(this._currentElement._context),r=c.getComponentClassForElement(this._currentElement),o=new r(t,a);o.props=t,o.context=a,o.refs=g,this._instance=o,i.set(o,this);var l=o.state;void 0===l&&(o.state=l=null),y("object"==typeof l&&!Array.isArray(l)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var u,h,f=p.currentlyMountingInstance;p.currentlyMountingInstance=this;try{o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),u=this._getValidatedChildContext(s),h=this._renderValidatedComponent(u)}finally{p.currentlyMountingInstance=f}this._renderedComponent=this._instantiateReactComponent(h,this._currentElement.type);var m=d.mountComponent(this._renderedComponent,e,n,this._mergeChildContext(s,u));return o.componentDidMount&&n.getReactMountReady().enqueue(o.componentDidMount,o),m},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){var n=p.currentlyUnmountingInstance;p.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{p.currentlyUnmountingInstance=n}}d.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,i.remove(e)},_setPropsInternal:function(e,n){var s=this._pendingElement||this._currentElement;this._pendingElement=l.cloneAndReplaceProps(s,m({},s.props,e)),f.enqueueUpdate(this,n)},_maskContext:function(e){var n=null;if("string"==typeof this._currentElement.type)return g;var s=this._currentElement.type.contextTypes;if(!s)return g;n={};for(var t in s)n[t]=e[t];return n},_processContext:function(e){var n=this._maskContext(e);return n},_getValidatedChildContext:function(e){var n=this._instance,s=n.getChildContext&&n.getChildContext();if(s){y("object"==typeof n.constructor.childContextTypes);for(var t in s)y(t in n.constructor.childContextTypes);return s}return null},_mergeChildContext:function(e,n){return n?m({},e,n):e},_processProps:function(e){return e},_checkPropTypes:function(e,n,s){var a=this.getName();for(var r in e)if(e.hasOwnProperty(r)){var o;try{y("function"==typeof e[r]),o=e[r](n,r,a,s)}catch(l){o=l}if(o instanceof Error){t(this);s===h.prop}}},receiveComponent:function(e,n,s){var t=this._currentElement,a=this._context;this._pendingElement=null,this.updateComponent(n,t,e,a,s)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&d.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(e,n){e=this._maskContext(e),n=this._maskContext(n);for(var s=Object.keys(n).sort(),t=(this.getName()||"ReactCompositeComponent",0);t<s.length;t++){s[t]}},updateComponent:function(e,n,s,t,a){var r=this._instance,o=r.context,l=r.props;n!==s&&(o=this._processContext(s._context),l=this._processProps(s.props),r.componentWillReceiveProps&&r.componentWillReceiveProps(l,o));var i=this._processPendingState(l,o),p=this._pendingForceUpdate||!r.shouldComponentUpdate||r.shouldComponentUpdate(l,i,o);p?(this._pendingForceUpdate=!1,this._performComponentUpdate(s,l,i,o,e,a)):(this._currentElement=s,this._context=a,r.props=l,r.state=i,r.context=o)},_processPendingState:function(e,n){var s=this._instance,t=this._pendingStateQueue,a=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!t)return s.state;if(a&&1===t.length)return t[0];for(var r=m({},a?t[0]:s.state),o=a?1:0;o<t.length;o++){var l=t[o];m(r,"function"==typeof l?l.call(s,r,e,n):l)}return r},_performComponentUpdate:function(e,n,s,t,a,r){var o=this._instance,l=o.props,i=o.state,p=o.context;o.componentWillUpdate&&o.componentWillUpdate(n,s,t),this._currentElement=e,this._context=r,o.props=n,o.state=s,o.context=t,this._updateRenderedComponent(a,r),o.componentDidUpdate&&a.getReactMountReady().enqueue(o.componentDidUpdate.bind(o,l,i,p),o)},_updateRenderedComponent:function(e,n){var s=this._renderedComponent,t=s._currentElement,a=this._getValidatedChildContext(),r=this._renderValidatedComponent(a);if(v(t,r))d.receiveComponent(s,r,e,this._mergeChildContext(n,a));else{var o=this._rootNodeID,l=s._rootNodeID;d.unmountComponent(s),this._renderedComponent=this._instantiateReactComponent(r,this._currentElement.type);var i=d.mountComponent(this._renderedComponent,o,e,this._mergeChildContext(n,a));this._replaceNodeWithMarkupByID(l,i)}},_replaceNodeWithMarkupByID:function(e,n){a.replaceNodeWithMarkupByID(e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,n=e.render();return n},_renderValidatedComponent:function(e){var n,s=r.current;r.current=this._mergeChildContext(this._currentElement._context,e),o.current=this;try{n=this._renderValidatedComponentWithoutOwnerOrContext()}finally{r.current=s,o.current=null}return y(null===n||n===!1||l.isValidElement(n)),n},attachRef:function(e,n){var s=this.getPublicInstance(),t=s.refs===g?s.refs={}:s.refs;t[e]=n.getPublicInstance()},detachRef:function(e){var n=this.getPublicInstance().refs;delete n[e]},getName:function(){var e=this._currentElement.type,n=this._instance&&this._instance.constructor;return e.displayName||n&&n.displayName||e.name||n&&n.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};u.measureMethods(j,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var w={Mixin:j};e.exports=w},function(e,n,s){"use strict";var t=s(7),a=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){t(!a),r.unmountIDFromEnvironment=e.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,r.processChildrenUpdates=e.processChildrenUpdates,a=!0}}};e.exports=r},function(e,n,s){"use strict";function t(e,n){if(null!=e&&null!=n){var s=typeof e,t=typeof n;if("string"===s||"number"===s)return"string"===t||"number"===t;if("object"===t&&e.type===n.type&&e.key===n.key){var a=e._owner===n._owner;return a}}return!1}s(15);e.exports=t},function(e,n,s){"use strict";function t(e){e&&(null!=e.dangerouslySetInnerHTML&&(y(null==e.children),y("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML)),y(null==e.style||"object"==typeof e.style))}function a(e,n,s,t){var a=h.findReactContainerForID(e);if(a){var r=a.nodeType===x?a.ownerDocument:a;j(n,r)}t.getPutListenerQueue().enqueuePutListener(e,n,s)}function r(e){R.call(D,e)||(y(T.test(e)),D[e]=!0)}function o(e){r(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var l=s(49),i=s(44),p=s(43),c=s(68),u=s(47),h=s(67),d=s(88),f=s(28),m=s(13),g=s(46),y=s(7),v=(s(75),s(39)),b=(s(15),c.deleteListener),j=c.listenTo,w=c.registrationNameModules,k={string:!0,number:!0},_=v({style:null}),x=1,S=null,C={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},T=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,D={},R={}.hasOwnProperty;o.displayName="ReactDOMComponent",o.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,n,s){this._rootNodeID=e,t(this._currentElement.props);var a=C[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(n)+this._createContentMarkup(n,s)+a},_createOpenTagMarkupAndPutListeners:function(e){var n=this._currentElement.props,s="<"+this._tag;for(var t in n)if(n.hasOwnProperty(t)){var r=n[t];if(null!=r)if(w.hasOwnProperty(t))a(this._rootNodeID,t,r,e);else{t===_&&(r&&(r=this._previousStyleCopy=m({},n.style)),r=l.createMarkupForStyles(r));var o=p.createMarkupForProperty(t,r);o&&(s+=" "+o)}}if(e.renderToStaticMarkup)return s+">";var i=p.createMarkupForID(this._rootNodeID);return s+" "+i+">"},_createContentMarkup:function(e,n){var s="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(s="\n");var t=this._currentElement.props,a=t.dangerouslySetInnerHTML;if(null!=a){if(null!=a.__html)return s+a.__html}else{var r=k[typeof t.children]?t.children:null,o=null!=r?null:t.children;if(null!=r)return s+g(r);if(null!=o){var l=this.mountChildren(o,e,n);return s+l.join("")}}return s},receiveComponent:function(e,n,s){var t=this._currentElement;this._currentElement=e,this.updateComponent(n,t,e,s)},updateComponent:function(e,n,s,a){t(this._currentElement.props),this._updateDOMProperties(n.props,e),this._updateDOMChildren(n.props,e,a)},_updateDOMProperties:function(e,n){var s,t,r,o=this._currentElement.props;for(s in e)if(!o.hasOwnProperty(s)&&e.hasOwnProperty(s))if(s===_){var l=this._previousStyleCopy;for(t in l)l.hasOwnProperty(t)&&(r=r||{},r[t]="");this._previousStyleCopy=null}else w.hasOwnProperty(s)?b(this._rootNodeID,s):(i.isStandardName[s]||i.isCustomAttribute(s))&&S.deletePropertyByID(this._rootNodeID,s);for(s in o){var p=o[s],c=s===_?this._previousStyleCopy:e[s];if(o.hasOwnProperty(s)&&p!==c)if(s===_)if(p?p=this._previousStyleCopy=m({},p):this._previousStyleCopy=null,c){for(t in c)!c.hasOwnProperty(t)||p&&p.hasOwnProperty(t)||(r=r||{},r[t]="");for(t in p)p.hasOwnProperty(t)&&c[t]!==p[t]&&(r=r||{},r[t]=p[t])}else r=p;else w.hasOwnProperty(s)?a(this._rootNodeID,s,p,n):(i.isStandardName[s]||i.isCustomAttribute(s))&&S.updatePropertyByID(this._rootNodeID,s,p)}r&&S.updateStylesByID(this._rootNodeID,r)},_updateDOMChildren:function(e,n,s){var t=this._currentElement.props,a=k[typeof e.children]?e.children:null,r=k[typeof t.children]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,i=null!=a?null:e.children,p=null!=r?null:t.children,c=null!=a||null!=o,u=null!=r||null!=l;null!=i&&null==p?this.updateChildren(null,n,s):c&&!u&&this.updateTextContent(""),null!=r?a!==r&&this.updateTextContent(""+r):null!=l?o!==l&&S.updateInnerHTMLByID(this._rootNodeID,l):null!=p&&this.updateChildren(p,n,s)},unmountComponent:function(){this.unmountChildren(),c.deleteAllListeners(this._rootNodeID),u.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},f.measureMethods(o,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(o.prototype,o.Mixin,d.Mixin),o.injection={injectIDOperations:function(e){o.BackendIDOperations=S=e}},e.exports=o},function(e,n,s){"use strict";function t(e,n,s){f.push({parentID:e,parentNode:null,type:c.INSERT_MARKUP,markupIndex:m.push(n)-1,textContent:null,fromIndex:null,toIndex:s})}function a(e,n,s){f.push({parentID:e,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:n,toIndex:s})}function r(e,n){f.push({parentID:e,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:n,toIndex:null})}function o(e,n){f.push({parentID:e,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:n,fromIndex:null,toIndex:null})}function l(){f.length&&(p.processChildrenUpdates(f,m),i())}function i(){f.length=0,m.length=0}var p=s(85),c=s(64),u=s(29),h=s(89),d=0,f=[],m=[],g={Mixin:{mountChildren:function(e,n,s){var t=h.instantiateChildren(e,n,s);this._renderedChildren=t;var a=[],r=0;for(var o in t)if(t.hasOwnProperty(o)){var l=t[o],i=this._rootNodeID+o,p=u.mountComponent(l,i,n,s);l._mountIndex=r,a.push(p),r++}return a},updateTextContent:function(e){d++;var n=!0;try{var s=this._renderedChildren;h.unmountChildren(s);for(var t in s)s.hasOwnProperty(t)&&this._unmountChildByName(s[t],t);this.setTextContent(e),n=!1}finally{d--,d||(n?i():l())}},updateChildren:function(e,n,s){d++;var t=!0;try{this._updateChildren(e,n,s),t=!1}finally{d--,d||(t?i():l())}},_updateChildren:function(e,n,s){var t=this._renderedChildren,a=h.updateChildren(t,e,n,s);if(this._renderedChildren=a,a||t){var r,o=0,l=0;for(r in a)if(a.hasOwnProperty(r)){var i=t&&t[r],p=a[r];i===p?(this.moveChild(i,l,o),o=Math.max(i._mountIndex,o),i._mountIndex=l):(i&&(o=Math.max(i._mountIndex,o),this._unmountChildByName(i,r)),this._mountChildByNameAtIndex(p,r,l,n,s)),l++}for(r in t)!t.hasOwnProperty(r)||a&&a.hasOwnProperty(r)||this._unmountChildByName(t[r],r)}},unmountChildren:function(){var e=this._renderedChildren;h.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,n,s){e._mountIndex<s&&a(this._rootNodeID,e._mountIndex,n)},createChild:function(e,n){t(this._rootNodeID,n,e._mountIndex)},removeChild:function(e){r(this._rootNodeID,e._mountIndex)},setTextContent:function(e){o(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,n,s,t,a){var r=this._rootNodeID+n,o=u.mountComponent(e,r,t,a);e._mountIndex=s,this.createChild(e,o)},_unmountChildByName:function(e,n){this.removeChild(e),e._mountIndex=null}}};e.exports=g},function(e,n,s){"use strict";var t=s(29),a=s(90),r=s(83),o=s(86),l={instantiateChildren:function(e,n,s){var t=a(e);for(var o in t)if(t.hasOwnProperty(o)){var l=t[o],i=r(l,null);t[o]=i}return t},updateChildren:function(e,n,s,l){var i=a(n);if(!i&&!e)return null;var p;for(p in i)if(i.hasOwnProperty(p)){var c=e&&e[p],u=c&&c._currentElement,h=i[p];if(o(u,h))t.receiveComponent(c,h,s,l),i[p]=c;else{c&&t.unmountComponent(c,p);var d=r(h,null);i[p]=d}}for(p in e)!e.hasOwnProperty(p)||i&&i.hasOwnProperty(p)||t.unmountComponent(e[p]);return i},unmountChildren:function(e){for(var n in e){var s=e[n];t.unmountComponent(s)}}};e.exports=l},function(e,n,s){"use strict";function t(e,n,s){var t=e,a=!t.hasOwnProperty(s);a&&null!=n&&(t[s]=n)}function a(e){if(null==e)return e;var n={};return r(e,t,n),n}var r=s(18);s(15);e.exports=a},function(e,n,s){"use strict";function t(e){return f.createClass({tagName:e.toUpperCase(),render:function(){return new D(e,null,null,null,null,this.props)}})}function a(){I.EventEmitter.injectReactEventListener(R),I.EventPluginHub.injectEventPluginOrder(i),I.EventPluginHub.injectInstanceHandle(E),I.EventPluginHub.injectMount(O),I.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:q,EnterLeaveEventPlugin:p,ChangeEventPlugin:o,MobileSafariClickEventPlugin:h,SelectEventPlugin:M,BeforeInputEventPlugin:r}),I.NativeComponent.injectGenericComponentClass(y),I.NativeComponent.injectTextComponentClass(T),I.NativeComponent.injectAutoWrapper(t),I.Class.injectMixin(d),I.NativeComponent.injectComponentClasses({button:v,form:b,iframe:k,img:j,input:_,option:x,select:S,textarea:C,html:F("html"),head:F("head"),body:F("body")}),I.DOMProperty.injectDOMPropertyConfig(u),I.DOMProperty.injectDOMPropertyConfig(N),I.EmptyComponent.injectEmptyComponent("noscript"),I.Updates.injectReconcileTransaction(P),I.Updates.injectBatchingStrategy(g),I.RootIndex.injectCreateReactRootIndex(c.canUseDOM?l.createReactRootIndex:A.createReactRootIndex),I.Component.injectEnvironment(m),I.DOMComponent.injectIDOperations(w)}var r=s(92),o=s(100),l=s(102),i=s(103),p=s(104),c=s(51),u=s(108),h=s(109),d=s(110),f=s(37),m=s(47),g=s(112),y=s(87),v=s(113),b=s(116),j=s(118),w=s(48),k=s(119),_=s(120),x=s(123),S=s(124),C=s(125),T=s(42),D=s(11),R=s(126),I=s(129),E=s(19),O=s(67),P=s(130),M=s(136),A=s(138),q=s(139),N=s(148),F=s(149);e.exports={inject:a}},function(e,n,s){"use strict";function t(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function a(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function r(e){switch(e){case D.topCompositionStart:return R.compositionStart;case D.topCompositionEnd:return R.compositionEnd;case D.topCompositionUpdate:return R.compositionUpdate}}function o(e,n){return e===D.topKeyDown&&n.keyCode===w}function l(e,n){switch(e){case D.topKeyUp:return-1!==j.indexOf(n.keyCode);case D.topKeyDown:return n.keyCode!==w;case D.topKeyPress:case D.topMouseDown:case D.topBlur:return!0;default:return!1}}function i(e){var n=e.detail;return"object"==typeof n&&"data"in n?n.data:null}function p(e,n,s,t){var a,p;if(k?a=r(e):E?l(e,t)&&(a=R.compositionEnd):o(e,t)&&(a=R.compositionStart),!a)return null;S&&(E||a!==R.compositionStart?a===R.compositionEnd&&E&&(p=E.getData()):E=g.getPooled(n));var c=y.getPooled(a,s,t);if(p)c.data=p;else{var u=i(t);null!==u&&(c.data=u)}return f.accumulateTwoPhaseDispatches(c),c}function c(e,n){switch(e){case D.topCompositionEnd:return i(n);case D.topKeyPress:var s=n.which;return s!==C?null:(I=!0,T);case D.topTextInput:var t=n.data;return t===T&&I?null:t;default:return null}}function u(e,n){if(E){if(e===D.topCompositionEnd||l(e,n)){var s=E.getData();return g.release(E),E=null,s}return null}switch(e){case D.topPaste:return null;case D.topKeyPress:return n.which&&!a(n)?String.fromCharCode(n.which):null;case D.topCompositionEnd:return S?null:n.data;default:return null}}function h(e,n,s,t){var a;if(a=x?c(e,t):u(e,t),!a)return null;var r=v.getPooled(R.beforeInput,s,t);return r.data=a,f.accumulateTwoPhaseDispatches(r),r}var d=s(5),f=s(93),m=s(51),g=s(94),y=s(96),v=s(99),b=s(39),j=[9,13,27,32],w=229,k=m.canUseDOM&&"CompositionEvent"in window,_=null;m.canUseDOM&&"documentMode"in document&&(_=document.documentMode);var x=m.canUseDOM&&"TextEvent"in window&&!_&&!t(),S=m.canUseDOM&&(!k||_&&_>8&&11>=_),C=32,T=String.fromCharCode(C),D=d.topLevelTypes,R={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[D.topCompositionEnd,D.topKeyPress,D.topTextInput,D.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[D.topBlur,D.topCompositionEnd,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[D.topBlur,D.topCompositionStart,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[D.topBlur,D.topCompositionUpdate,D.topKeyDown,D.topKeyPress,D.topKeyUp,D.topMouseDown]}},I=!1,E=null,O={eventTypes:R,extractEvents:function(e,n,s,t){return[p(e,n,s,t),h(e,n,s,t)]}};e.exports=O},function(e,n,s){"use strict";function t(e,n,s){var t=n.dispatchConfig.phasedRegistrationNames[s];return g(e,t)}function a(e,n,s){var a=n?m.bubbled:m.captured,r=t(e,s,a);r&&(s._dispatchListeners=d(s._dispatchListeners,r),s._dispatchIDs=d(s._dispatchIDs,e))}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,a,e)}function o(e,n,s){if(s&&s.dispatchConfig.registrationName){var t=s.dispatchConfig.registrationName,a=g(e,t);a&&(s._dispatchListeners=d(s._dispatchListeners,a),s._dispatchIDs=d(s._dispatchIDs,e))}}function l(e){e&&e.dispatchConfig.registrationName&&o(e.dispatchMarker,null,e)}function i(e){f(e,r)}function p(e,n,s,t){h.injection.getInstanceHandle().traverseEnterLeave(s,t,o,e,n)}function c(e){f(e,l)}var u=s(5),h=s(69),d=s(71),f=s(72),m=u.PropagationPhases,g=h.getListener,y={accumulateTwoPhaseDispatches:i,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:p};e.exports=y},function(e,n,s){"use strict";function t(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var a=s(9),r=s(13),o=s(95);r(t.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,n,s=this._startText,t=s.length,a=this.getText(),r=a.length;for(e=0;t>e&&s[e]===a[e];e++);var o=t-e;for(n=1;o>=n&&s[t-n]===a[r-n];n++);var l=n>1?1-n:void 0;return this._fallbackText=a.slice(e,l),this._fallbackText}}),a.addPoolingTo(t),e.exports=t},function(e,n,s){"use strict";function t(){return!r&&a.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var a=s(51),r=null;e.exports=t},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(97),r={data:null};a.augmentClass(t,r),e.exports=t},function(e,n,s){"use strict";function t(e,n,s){this.dispatchConfig=e,this.dispatchMarker=n,this.nativeEvent=s;var t=this.constructor.Interface;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];r?this[a]=r(s):this[a]=s[a]}var l=null!=s.defaultPrevented?s.defaultPrevented:s.returnValue===!1;l?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var a=s(9),r=s(13),o=s(16),l=s(98),i={type:null,target:l,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var n in e)this[n]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),t.Interface=i,t.augmentClass=function(e,n){var s=this,t=Object.create(s.prototype);r(t,e.prototype),e.prototype=t,e.prototype.constructor=e,e.Interface=r({},s.Interface,n),e.augmentClass=s.augmentClass,a.addPoolingTo(e,a.threeArgumentPooler)},a.addPoolingTo(t,a.threeArgumentPooler),e.exports=t},function(e,n){"use strict";function s(e){var n=e.target||e.srcElement||window;return 3===n.nodeType?n.parentNode:n}e.exports=s},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(97),r={data:null};a.augmentClass(t,r),e.exports=t},function(e,n,s){"use strict";function t(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function a(e){var n=_.getPooled(D.change,I,e);j.accumulateTwoPhaseDispatches(n),k.batchedUpdates(r,n)}function r(e){b.enqueueEvents(e),b.processEventQueue()}function o(e,n){R=e,I=n,R.attachEvent("onchange",a)}function l(){R&&(R.detachEvent("onchange",a),R=null,I=null)}function i(e,n,s){return e===T.topChange?s:void 0}function p(e,n,s){e===T.topFocus?(l(),o(n,s)):e===T.topBlur&&l()}function c(e,n){R=e,I=n,E=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(R,"value",A),R.attachEvent("onpropertychange",h)}function u(){R&&(delete R.value,R.detachEvent("onpropertychange",h),R=null,I=null,E=null,O=null)}function h(e){if("value"===e.propertyName){var n=e.srcElement.value;n!==E&&(E=n,a(e))}}function d(e,n,s){return e===T.topInput?s:void 0}function f(e,n,s){e===T.topFocus?(u(),c(n,s)):e===T.topBlur&&u()}function m(e,n,s){return e!==T.topSelectionChange&&e!==T.topKeyUp&&e!==T.topKeyDown||!R||R.value===E?void 0:(E=R.value,I)}function g(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function y(e,n,s){return e===T.topClick?s:void 0}var v=s(5),b=s(69),j=s(93),w=s(51),k=s(26),_=s(97),x=s(75),S=s(101),C=s(39),T=v.topLevelTypes,D={change:{phasedRegistrationNames:{bubbled:C({onChange:null}),captured:C({onChangeCapture:null})},dependencies:[T.topBlur,T.topChange,T.topClick,T.topFocus,T.topInput,T.topKeyDown,T.topKeyUp,T.topSelectionChange]}},R=null,I=null,E=null,O=null,P=!1;w.canUseDOM&&(P=x("change")&&(!("documentMode"in document)||document.documentMode>8));var M=!1;w.canUseDOM&&(M=x("input")&&(!("documentMode"in document)||document.documentMode>9));var A={get:function(){return O.get.call(this)},set:function(e){E=""+e,O.set.call(this,e)}},q={eventTypes:D,extractEvents:function(e,n,s,a){var r,o;if(t(n)?P?r=i:o=p:S(n)?M?r=d:(r=m,o=f):g(n)&&(r=y),r){var l=r(e,n,s);if(l){var c=_.getPooled(D.change,l,a);return j.accumulateTwoPhaseDispatches(c),c}}o&&o(e,n,s)}};e.exports=q},function(e,n){"use strict";function s(e){return e&&("INPUT"===e.nodeName&&t[e.type]||"TEXTAREA"===e.nodeName)}var t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=s},function(e,n){"use strict";var s=0,t={createReactRootIndex:function(){return s++}};e.exports=t},function(e,n,s){"use strict";var t=s(39),a=[t({ResponderEventPlugin:null}),t({SimpleEventPlugin:null}),t({TapEventPlugin:null}),t({EnterLeaveEventPlugin:null}),t({ChangeEventPlugin:null}),t({SelectEventPlugin:null}),t({BeforeInputEventPlugin:null}),t({AnalyticsEventPlugin:null}),t({MobileSafariClickEventPlugin:null})];e.exports=a},function(e,n,s){"use strict";var t=s(5),a=s(93),r=s(105),o=s(67),l=s(39),i=t.topLevelTypes,p=o.getFirstReactDOM,c={mouseEnter:{registrationName:l({onMouseEnter:null}),dependencies:[i.topMouseOut,i.topMouseOver]},mouseLeave:{registrationName:l({onMouseLeave:null}),dependencies:[i.topMouseOut,i.topMouseOver]}},u=[null,null],h={eventTypes:c,extractEvents:function(e,n,s,t){if(e===i.topMouseOver&&(t.relatedTarget||t.fromElement))return null;if(e!==i.topMouseOut&&e!==i.topMouseOver)return null;var l;if(n.window===n)l=n;else{var h=n.ownerDocument;l=h?h.defaultView||h.parentWindow:window}var d,f;if(e===i.topMouseOut?(d=n,f=p(t.relatedTarget||t.toElement)||l):(d=l,f=n),d===f)return null;var m=d?o.getID(d):"",g=f?o.getID(f):"",y=r.getPooled(c.mouseLeave,m,t);y.type="mouseleave",y.target=d,y.relatedTarget=f;var v=r.getPooled(c.mouseEnter,g,t);return v.type="mouseenter",v.target=f,v.relatedTarget=d,a.accumulateEnterLeaveDispatches(y,v,m,g),u[0]=y,u[1]=v,u}};e.exports=h},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(106),r=s(74),o=s(107),l={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var n=e.button;return"which"in e?n:2===n?2:4===n?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};a.augmentClass(t,l),e.exports=t},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(97),r=s(98),o={view:function(e){if(e.view)return e.view;var n=r(e);if(null!=n&&n.window===n)return n;var s=n.ownerDocument;return s?s.defaultView||s.parentWindow:window},detail:function(e){return e.detail||0}};a.augmentClass(t,o),e.exports=t},function(e,n){"use strict";function s(e){var n=this,s=n.nativeEvent;if(s.getModifierState)return s.getModifierState(e);var t=a[e];return t?!!s[t]:!1}function t(e){return s}var a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=t},function(e,n,s){"use strict";var t,a=s(44),r=s(51),o=a.injection.MUST_USE_ATTRIBUTE,l=a.injection.MUST_USE_PROPERTY,i=a.injection.HAS_BOOLEAN_VALUE,p=a.injection.HAS_SIDE_EFFECTS,c=a.injection.HAS_NUMERIC_VALUE,u=a.injection.HAS_POSITIVE_NUMERIC_VALUE,h=a.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var d=document.implementation;t=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|i,allowTransparency:o,alt:null,async:i,autoComplete:null,autoPlay:i,cellPadding:null,cellSpacing:null,charSet:o,checked:l|i,classID:o,className:t?o:l,cols:o|u,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:l|i,coords:null,crossOrigin:null,data:null,dateTime:o,defer:i,dir:null,disabled:o|i,download:h,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:i,formTarget:o,frameBorder:o,headers:null,height:o,hidden:o|i,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:l,label:null,lang:null,list:o,loop:l|i,low:null,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,multiple:l|i,muted:l|i,name:null,noValidate:i,open:i,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:l|i,rel:null,required:i,role:o,rows:o|u,rowSpan:null,sandbox:null,scope:null,scoped:i,scrolling:null,seamless:o|i,selected:l|i,shape:null,size:o|u,sizes:o,span:u,spellCheck:null,src:null,srcDoc:l,srcSet:o,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:l|p,width:o,
wmode:o,autoCapitalize:null,autoCorrect:null,itemProp:o,itemScope:o|i,itemType:o,itemID:o,itemRef:o,property:null,unselectable:o},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=f},function(e,n,s){"use strict";var t=s(5),a=s(16),r=t.topLevelTypes,o={eventTypes:null,extractEvents:function(e,n,s,t){if(e===r.topTouchStart){var o=t.target;o&&!o.onclick&&(o.onclick=a)}}};e.exports=o},function(e,n,s){"use strict";var t=s(111),a={getDOMNode:function(){return t(this)}};e.exports=a},function(e,n,s){"use strict";function t(e){return null==e?null:l(e)?e:a.has(e)?r.getNodeFromInstance(e):(o(null==e.render||"function"!=typeof e.render),void o(!1))}var a=(s(17),s(25)),r=s(67),o=s(7),l=s(81);s(15);e.exports=t},function(e,n,s){"use strict";function t(){this.reinitializeTransaction()}var a=s(26),r=s(36),o=s(13),l=s(16),i={initialize:l,close:function(){h.isBatchingUpdates=!1}},p={initialize:l,close:a.flushBatchedUpdates.bind(a)},c=[p,i];o(t.prototype,r.Mixin,{getTransactionWrappers:function(){return c}});var u=new t,h={isBatchingUpdates:!1,batchedUpdates:function(e,n,s,t,a){var r=h.isBatchingUpdates;h.isBatchingUpdates=!0,r?e(n,s,t,a):u.perform(e,null,n,s,t,a)}};e.exports=h},function(e,n,s){"use strict";var t=s(114),a=s(110),r=s(37),o=s(11),l=s(6),i=o.createFactory("button"),p=l({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=r.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[t,a],render:function(){var e={};for(var n in this.props)!this.props.hasOwnProperty(n)||this.props.disabled&&p[n]||(e[n]=this.props[n]);return i(e,this.props.children)}});e.exports=c},function(e,n,s){"use strict";var t=s(115),a={componentDidMount:function(){this.props.autoFocus&&t(this.getDOMNode())}};e.exports=a},function(e,n){"use strict";function s(e){try{e.focus()}catch(n){}}e.exports=s},function(e,n,s){"use strict";var t=s(5),a=s(117),r=s(110),o=s(37),l=s(11),i=l.createFactory("form"),p=o.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[r,a],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(t.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(t.topLevelTypes.topSubmit,"submit")}});e.exports=p},function(e,n,s){"use strict";function t(e){e.remove()}var a=s(68),r=s(71),o=s(72),l=s(7),i={trapBubbledEvent:function(e,n){l(this.isMounted());var s=this.getDOMNode();l(s);var t=a.trapBubbledEvent(e,n,s);this._localEventListeners=r(this._localEventListeners,t)},componentWillUnmount:function(){this._localEventListeners&&o(this._localEventListeners,t)}};e.exports=i},function(e,n,s){"use strict";var t=s(5),a=s(117),r=s(110),o=s(37),l=s(11),i=l.createFactory("img"),p=o.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[r,a],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(t.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(t.topLevelTypes.topError,"error")}});e.exports=p},function(e,n,s){"use strict";var t=s(5),a=s(117),r=s(110),o=s(37),l=s(11),i=l.createFactory("iframe"),p=o.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[r,a],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(t.topLevelTypes.topLoad,"load")}});e.exports=p},function(e,n,s){"use strict";function t(){this.isMounted()&&this.forceUpdate()}var a=s(114),r=s(43),o=s(121),l=s(110),i=s(37),p=s(11),c=s(67),u=s(26),h=s(13),d=s(7),f=p.createFactory("input"),m={},g=i.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[a,o.Mixin,l],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=h({},this.props);e.defaultChecked=null,e.defaultValue=null;var n=o.getValue(this);e.value=null!=n?n:this.state.initialValue;var s=o.getChecked(this);return e.checked=null!=s?s:this.state.initialChecked,e.onChange=this._handleChange,f(e,this.props.children)},componentDidMount:function(){var e=c.getID(this.getDOMNode());m[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),n=c.getID(e);delete m[n]},componentDidUpdate:function(e,n,s){var t=this.getDOMNode();null!=this.props.checked&&r.setValueForProperty(t,"checked",this.props.checked||!1);var a=o.getValue(this);null!=a&&r.setValueForProperty(t,"value",""+a)},_handleChange:function(e){var n,s=o.getOnChange(this);s&&(n=s.call(this,e)),u.asap(t,this);var a=this.props.name;if("radio"===this.props.type&&null!=a){for(var r=this.getDOMNode(),l=r;l.parentNode;)l=l.parentNode;for(var i=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),p=0,h=i.length;h>p;p++){var f=i[p];if(f!==r&&f.form===r.form){var g=c.getID(f);d(g);var y=m[g];d(y),u.asap(t,y)}}}return n}});e.exports=g},function(e,n,s){"use strict";function t(e){p(null==e.props.checkedLink||null==e.props.valueLink)}function a(e){t(e),p(null==e.props.value&&null==e.props.onChange)}function r(e){t(e),p(null==e.props.checked&&null==e.props.onChange)}function o(e){this.props.valueLink.requestChange(e.target.value)}function l(e){this.props.checkedLink.requestChange(e.target.checked)}var i=s(122),p=s(7),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},u={Mixin:{propTypes:{value:function(e,n,s){return!e[n]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,n,s){return!e[n]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:i.func}},getValue:function(e){return e.props.valueLink?(a(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(r(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(a(e),o):e.props.checkedLink?(r(e),l):e.props.onChange}};e.exports=u},function(e,n,s){"use strict";function t(e){function n(n,s,t,a,r){if(a=a||w,null==s[t]){var o=b[r];return n?new Error("Required "+o+" `"+t+"` was not specified in "+("`"+a+"`.")):null}return e(s,t,a,r)}var s=n.bind(null,!1);return s.isRequired=n.bind(null,!0),s}function a(e){function n(n,s,t,a){var r=n[s],o=m(r);if(o!==e){var l=b[a],i=g(r);return new Error("Invalid "+l+" `"+s+"` of type `"+i+"` "+("supplied to `"+t+"`, expected `"+e+"`."))}return null}return t(n)}function r(){return t(j.thatReturns(null))}function o(e){function n(n,s,t,a){var r=n[s];if(!Array.isArray(r)){var o=b[a],l=m(r);return new Error("Invalid "+o+" `"+s+"` of type "+("`"+l+"` supplied to `"+t+"`, expected an array."))}for(var i=0;i<r.length;i++){var p=e(r,i,t,a);if(p instanceof Error)return p}return null}return t(n)}function l(){function e(e,n,s,t){if(!y.isValidElement(e[n])){var a=b[t];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+s+"`, expected a ReactElement."))}return null}return t(e)}function i(e){function n(n,s,t,a){if(!(n[s]instanceof e)){var r=b[a],o=e.name||w;return new Error("Invalid "+r+" `"+s+"` supplied to "+("`"+t+"`, expected instance of `"+o+"`."))}return null}return t(n)}function p(e){function n(n,s,t,a){for(var r=n[s],o=0;o<e.length;o++)if(r===e[o])return null;var l=b[a],i=JSON.stringify(e);return new Error("Invalid "+l+" `"+s+"` of value `"+r+"` "+("supplied to `"+t+"`, expected one of "+i+"."))}return t(n)}function c(e){function n(n,s,t,a){var r=n[s],o=m(r);if("object"!==o){var l=b[a];return new Error("Invalid "+l+" `"+s+"` of type "+("`"+o+"` supplied to `"+t+"`, expected an object."))}for(var i in r)if(r.hasOwnProperty(i)){var p=e(r,i,t,a);if(p instanceof Error)return p}return null}return t(n)}function u(e){function n(n,s,t,a){for(var r=0;r<e.length;r++){var o=e[r];if(null==o(n,s,t,a))return null}var l=b[a];return new Error("Invalid "+l+" `"+s+"` supplied to "+("`"+t+"`."))}return t(n)}function h(){function e(e,n,s,t){if(!f(e[n])){var a=b[t];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+s+"`, expected a ReactNode."))}return null}return t(e)}function d(e){function n(n,s,t,a){var r=n[s],o=m(r);if("object"!==o){var l=b[a];return new Error("Invalid "+l+" `"+s+"` of type `"+o+"` "+("supplied to `"+t+"`, expected `object`."))}for(var i in e){var p=e[i];if(p){var c=p(r,i,t,a);if(c)return c}}return null}return t(n)}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||y.isValidElement(e))return!0;e=v.extractIfFragment(e);for(var n in e)if(!f(e[n]))return!1;return!0;default:return!1}}function m(e){var n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":n}function g(e){var n=m(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}var y=s(11),v=s(10),b=s(34),j=s(16),w="<<anonymous>>",k=l(),_=h(),x={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),any:r(),arrayOf:o,element:k,instanceOf:i,node:_,objectOf:c,oneOf:p,oneOfType:u,shape:d};e.exports=x},function(e,n,s){"use strict";var t=s(110),a=s(37),r=s(11),o=(s(15),r.createFactory("option")),l=a.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[t],componentWillMount:function(){},render:function(){return o(this.props,this.props.children)}});e.exports=l},function(e,n,s){"use strict";function t(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=l.getValue(this);null!=e&&this.isMounted()&&r(this,e)}}function a(e,n,s){if(null==e[n])return null;if(e.multiple){if(!Array.isArray(e[n]))return new Error("The `"+n+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[n]))return new Error("The `"+n+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function r(e,n){var s,t,a,r=e.getDOMNode().options;if(e.props.multiple){for(s={},t=0,a=n.length;a>t;t++)s[""+n[t]]=!0;for(t=0,a=r.length;a>t;t++){var o=s.hasOwnProperty(r[t].value);r[t].selected!==o&&(r[t].selected=o)}}else{for(s=""+n,t=0,a=r.length;a>t;t++)if(r[t].value===s)return void(r[t].selected=!0);r.length&&(r[0].selected=!0)}}var o=s(114),l=s(121),i=s(110),p=s(37),c=s(11),u=s(26),h=s(13),d=c.createFactory("select"),f=p.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[o,l.Mixin,i],propTypes:{defaultValue:a,value:a},render:function(){var e=h({},this.props);return e.onChange=this._handleChange,e.value=null,d(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=l.getValue(this);null!=e?r(this,e):null!=this.props.defaultValue&&r(this,this.props.defaultValue)},componentDidUpdate:function(e){var n=l.getValue(this);null!=n?(this._pendingUpdate=!1,r(this,n)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?r(this,this.props.defaultValue):r(this,this.props.multiple?[]:""))},_handleChange:function(e){var n,s=l.getOnChange(this);return s&&(n=s.call(this,e)),this._pendingUpdate=!0,u.asap(t,this),n}});e.exports=f},function(e,n,s){"use strict";function t(){this.isMounted()&&this.forceUpdate()}var a=s(114),r=s(43),o=s(121),l=s(110),i=s(37),p=s(11),c=s(26),u=s(13),h=s(7),d=(s(15),p.createFactory("textarea")),f=i.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[a,o.Mixin,l],getInitialState:function(){var e=this.props.defaultValue,n=this.props.children;null!=n&&(h(null==e),Array.isArray(n)&&(h(n.length<=1),n=n[0]),e=""+n),null==e&&(e="");var s=o.getValue(this);return{initialValue:""+(null!=s?s:e)}},render:function(){var e=u({},this.props);return h(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,d(e,this.state.initialValue)},componentDidUpdate:function(e,n,s){var t=o.getValue(this);if(null!=t){var a=this.getDOMNode();r.setValueForProperty(a,"value",""+t)}},_handleChange:function(e){var n,s=o.getOnChange(this);return s&&(n=s.call(this,e)),c.asap(t,this),n}});e.exports=f},function(e,n,s){"use strict";function t(e){var n=u.getID(e),s=c.getReactRootIDFromNodeID(n),t=u.findReactContainerForID(s),a=u.getFirstReactDOM(t);return a}function a(e,n){this.topLevelType=e,this.nativeEvent=n,this.ancestors=[]}function r(e){for(var n=u.getFirstReactDOM(f(e.nativeEvent))||window,s=n;s;)e.ancestors.push(s),s=t(s);for(var a=0,r=e.ancestors.length;r>a;a++){n=e.ancestors[a];var o=u.getID(n)||"";g._handleTopLevel(e.topLevelType,n,o,e.nativeEvent)}}function o(e){var n=m(window);e(n)}var l=s(127),i=s(51),p=s(9),c=s(19),u=s(67),h=s(26),d=s(13),f=s(98),m=s(128);d(a.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),p.addPoolingTo(a,p.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,n,s){var t=s;return t?l.listen(t,n,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,n,s){var t=s;return t?l.capture(t,n,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var n=o.bind(null,e);l.listen(window,"scroll",n)},dispatchEvent:function(e,n){if(g._enabled){var s=a.getPooled(e,n);try{h.batchedUpdates(r,s)}finally{a.release(s)}}}};e.exports=g},function(e,n,s){var t=s(16),a={listen:function(e,n,s){return e.addEventListener?(e.addEventListener(n,s,!1),{remove:function(){e.removeEventListener(n,s,!1)}}):e.attachEvent?(e.attachEvent("on"+n,s),{remove:function(){e.detachEvent("on"+n,s)}}):void 0},capture:function(e,n,s){return e.addEventListener?(e.addEventListener(n,s,!0),{remove:function(){e.removeEventListener(n,s,!0)}}):{remove:t}},registerDefault:function(){}};e.exports=a},function(e,n){"use strict";function s(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=s},function(e,n,s){"use strict";var t=s(44),a=s(69),r=s(85),o=s(37),l=s(76),i=s(68),p=s(35),c=s(87),u=s(28),h=s(20),d=s(26),f={Component:r.injection,Class:o.injection,DOMComponent:c.injection,DOMProperty:t.injection,EmptyComponent:l.injection,EventPluginHub:a.injection,EventEmitter:i.injection,NativeComponent:p.injection,Perf:u.injection,RootIndex:h.injection,Updates:d.injection};e.exports=f},function(e,n,s){"use strict";function t(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=a.getPooled(null),this.putListenerQueue=i.getPooled()}var a=s(27),r=s(9),o=s(68),l=s(131),i=s(135),p=s(36),c=s(13),u={initialize:l.getSelectionInformation,close:l.restoreSelection},h={initialize:function(){var e=o.isEnabled();return o.setEnabled(!1),e},close:function(e){o.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,u,h,d],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null,i.release(this.putListenerQueue),this.putListenerQueue=null}};c(t.prototype,p.Mixin,g),r.addPoolingTo(t),e.exports=t},function(e,n,s){"use strict";function t(e){return r(document.documentElement,e)}var a=s(132),r=s(79),o=s(115),l=s(134),i={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=l();return{focusedElem:e,selectionRange:i.hasSelectionCapabilities(e)?i.getSelection(e):null}},restoreSelection:function(e){var n=l(),s=e.focusedElem,a=e.selectionRange;n!==s&&t(s)&&(i.hasSelectionCapabilities(s)&&i.setSelection(s,a),o(s))},getSelection:function(e){var n;if("selectionStart"in e)n={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var s=document.selection.createRange();s.parentElement()===e&&(n={start:-s.moveStart("character",-e.value.length),end:-s.moveEnd("character",-e.value.length)})}else n=a.getOffsets(e);return n||{start:0,end:0}},setSelection:function(e,n){var s=n.start,t=n.end;if("undefined"==typeof t&&(t=s),"selectionStart"in e)e.selectionStart=s,e.selectionEnd=Math.min(t,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var r=e.createTextRange();r.collapse(!0),r.moveStart("character",s),r.moveEnd("character",t-s),r.select()}else a.setOffsets(e,n)}};e.exports=i},function(e,n,s){"use strict";function t(e,n,s,t){return e===s&&n===t}function a(e){var n=document.selection,s=n.createRange(),t=s.text.length,a=s.duplicate();a.moveToElementText(e),a.setEndPoint("EndToStart",s);var r=a.text.length,o=r+t;return{start:r,end:o}}function r(e){var n=window.getSelection&&window.getSelection();if(!n||0===n.rangeCount)return null;var s=n.anchorNode,a=n.anchorOffset,r=n.focusNode,o=n.focusOffset,l=n.getRangeAt(0),i=t(n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset),p=i?0:l.toString().length,c=l.cloneRange();c.selectNodeContents(e),c.setEnd(l.startContainer,l.startOffset);var u=t(c.startContainer,c.startOffset,c.endContainer,c.endOffset),h=u?0:c.toString().length,d=h+p,f=document.createRange();f.setStart(s,a),f.setEnd(r,o);var m=f.collapsed;return{start:m?d:h,end:m?h:d}}function o(e,n){var s,t,a=document.selection.createRange().duplicate();"undefined"==typeof n.end?(s=n.start,t=s):n.start>n.end?(s=n.end,t=n.start):(s=n.start,t=n.end),a.moveToElementText(e),a.moveStart("character",s),a.setEndPoint("EndToStart",a),a.moveEnd("character",t-s),a.select()}function l(e,n){if(window.getSelection){var s=window.getSelection(),t=e[c()].length,a=Math.min(n.start,t),r="undefined"==typeof n.end?a:Math.min(n.end,t);if(!s.extend&&a>r){var o=r;r=a,a=o}var l=p(e,a),i=p(e,r);if(l&&i){var u=document.createRange();u.setStart(l.node,l.offset),s.removeAllRanges(),a>r?(s.addRange(u),s.extend(i.node,i.offset)):(u.setEnd(i.node,i.offset),s.addRange(u))}}}var i=s(51),p=s(133),c=s(95),u=i.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:u?a:r,setOffsets:u?o:l};e.exports=h},function(e,n){"use strict";function s(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function a(e,n){for(var a=s(e),r=0,o=0;a;){if(3===a.nodeType){if(o=r+a.textContent.length,n>=r&&o>=n)return{node:a,offset:n-r};r=o}a=s(t(a))}}e.exports=a},function(e,n){function s(){try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=s},function(e,n,s){"use strict";function t(){this.listenersToPut=[]}var a=s(9),r=s(68),o=s(13);o(t.prototype,{enqueuePutListener:function(e,n,s){this.listenersToPut.push({rootNodeID:e,propKey:n,propValue:s})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var n=this.listenersToPut[e];r.putListener(n.rootNodeID,n.propKey,n.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),a.addPoolingTo(t),e.exports=t},function(e,n,s){"use strict";function t(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var n=window.getSelection();return{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}if(document.selection){var s=document.selection.createRange();return{parentElement:s.parentElement(),text:s.text,top:s.boundingTop,left:s.boundingLeft}}}function a(e){if(v||null==m||m!==p())return null;var n=t(m);if(!y||!h(y,n)){y=n;var s=i.getPooled(f.select,g,e);return s.type="select",s.target=m,o.accumulateTwoPhaseDispatches(s),s}}var r=s(5),o=s(93),l=s(131),i=s(97),p=s(134),c=s(101),u=s(39),h=s(137),d=r.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:u({onSelect:null}),captured:u({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},m=null,g=null,y=null,v=!1,b={eventTypes:f,extractEvents:function(e,n,s,t){switch(e){case d.topFocus:(c(n)||"true"===n.contentEditable)&&(m=n,g=s,y=null);break;case d.topBlur:m=null,g=null,y=null;break;case d.topMouseDown:v=!0;break;case d.topContextMenu:case d.topMouseUp:return v=!1,a(t);case d.topSelectionChange:case d.topKeyDown:case d.topKeyUp:return a(t)}}};e.exports=b},function(e,n){"use strict";function s(e,n){if(e===n)return!0;var s;for(s in e)if(e.hasOwnProperty(s)&&(!n.hasOwnProperty(s)||e[s]!==n[s]))return!1;for(s in n)if(n.hasOwnProperty(s)&&!e.hasOwnProperty(s))return!1;return!0}e.exports=s},function(e,n){"use strict";var s=Math.pow(2,53),t={createReactRootIndex:function(){return Math.ceil(Math.random()*s)}};e.exports=t},function(e,n,s){"use strict";var t=s(5),a=s(4),r=s(93),o=s(140),l=s(97),i=s(141),p=s(142),c=s(105),u=s(145),h=s(146),d=s(106),f=s(147),m=s(143),g=s(7),y=s(39),v=(s(15),t.topLevelTypes),b={blur:{phasedRegistrationNames:{bubbled:y({onBlur:!0}),captured:y({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:y({onClick:!0}),captured:y({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:y({onContextMenu:!0}),captured:y({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:y({onCopy:!0}),captured:y({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:y({onCut:!0}),captured:y({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:y({onDoubleClick:!0}),captured:y({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:y({onDrag:!0}),captured:y({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:y({onDragEnd:!0}),captured:y({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:y({onDragEnter:!0}),captured:y({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:y({onDragExit:!0}),captured:y({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:y({onDragLeave:!0}),captured:y({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:y({onDragOver:!0}),captured:y({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:y({onDragStart:!0}),captured:y({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:y({onDrop:!0}),captured:y({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:y({onFocus:!0}),captured:y({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:y({onInput:!0}),captured:y({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:y({onKeyDown:!0}),captured:y({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:y({onKeyPress:!0}),captured:y({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:y({onKeyUp:!0}),captured:y({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:y({onLoad:!0}),captured:y({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:y({onError:!0}),captured:y({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:y({onMouseDown:!0}),captured:y({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:y({onMouseMove:!0}),captured:y({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:y({onMouseOut:!0}),captured:y({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:y({onMouseOver:!0}),captured:y({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:y({onMouseUp:!0}),captured:y({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:y({onPaste:!0}),captured:y({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:y({onReset:!0}),captured:y({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:y({onScroll:!0}),captured:y({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:y({onSubmit:!0}),captured:y({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:y({onTouchCancel:!0}),captured:y({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:y({onTouchEnd:!0}),captured:y({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:y({onTouchMove:!0}),captured:y({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:y({onTouchStart:!0}),captured:y({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:y({onWheel:!0}),captured:y({onWheelCapture:!0})}}},j={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var w in j)j[w].dependencies=[w];var k={eventTypes:b,executeDispatch:function(e,n,s){var t=a.executeDispatch(e,n,s);t===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,n,s,t){var a=j[e];if(!a)return null;var y;switch(e){case v.topInput:case v.topLoad:case v.topError:case v.topReset:case v.topSubmit:y=l;break;case v.topKeyPress:if(0===m(t))return null;case v.topKeyDown:case v.topKeyUp:y=p;break;case v.topBlur:case v.topFocus:y=i;break;case v.topClick:if(2===t.button)return null;case v.topContextMenu:case v.topDoubleClick:case v.topMouseDown:case v.topMouseMove:case v.topMouseOut:case v.topMouseOver:case v.topMouseUp:y=c;break;case v.topDrag:case v.topDragEnd:case v.topDragEnter:case v.topDragExit:case v.topDragLeave:case v.topDragOver:case v.topDragStart:case v.topDrop:y=u;break;case v.topTouchCancel:case v.topTouchEnd:case v.topTouchMove:case v.topTouchStart:y=h;break;case v.topScroll:y=d;break;case v.topWheel:y=f;break;case v.topCopy:case v.topCut:case v.topPaste:y=o}g(y);var b=y.getPooled(a,s,t);return r.accumulateTwoPhaseDispatches(b),b}};e.exports=k},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(97),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};a.augmentClass(t,r),e.exports=t},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(106),r={relatedTarget:null};a.augmentClass(t,r),e.exports=t},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(106),r=s(143),o=s(144),l=s(107),i={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:l,charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};a.augmentClass(t,i),e.exports=t},function(e,n){"use strict";function s(e){var n,s=e.keyCode;return"charCode"in e?(n=e.charCode,0===n&&13===s&&(n=13)):n=s,n>=32||13===n?n:0}e.exports=s},function(e,n,s){"use strict";function t(e){if(e.key){var n=r[e.key]||e.key;if("Unidentified"!==n)return n}if("keypress"===e.type){var s=a(e);return 13===s?"Enter":String.fromCharCode(s)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var a=s(143),r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=t},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(105),r={dataTransfer:null};a.augmentClass(t,r),e.exports=t},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(106),r=s(107),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r};a.augmentClass(t,o),e.exports=t},function(e,n,s){"use strict";function t(e,n,s){a.call(this,e,n,s)}var a=s(105),r={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};a.augmentClass(t,r),e.exports=t},function(e,n,s){"use strict";var t=s(44),a=t.injection.MUST_USE_ATTRIBUTE,r={Properties:{clipPath:a,cx:a,cy:a,d:a,dx:a,dy:a,fill:a,fillOpacity:a,fontFamily:a,fontSize:a,fx:a,fy:a,gradientTransform:a,gradientUnits:a,markerEnd:a,markerMid:a,markerStart:a,offset:a,opacity:a,patternContentUnits:a,patternUnits:a,points:a,preserveAspectRatio:a,r:a,rx:a,ry:a,spreadMethod:a,stopColor:a,stopOpacity:a,stroke:a,strokeDasharray:a,strokeLinecap:a,strokeOpacity:a,strokeWidth:a,textAnchor:a,transform:a,version:a,viewBox:a,x1:a,x2:a,x:a,y1:a,y2:a,y:a},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};e.exports=r},function(e,n,s){"use strict";function t(e){var n=r.createFactory(e),s=a.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){o(!1)},render:function(){return n(this.props)}});return s}var a=s(37),r=s(11),o=s(7);e.exports=t},function(e,n,s){"use strict";function t(e){u(r.isValidElement(e));var n;try{var s=o.createReactRootID();return n=i.getPooled(!1),n.perform(function(){var t=c(e,null),a=t.mountComponent(s,n,p);return l.addChecksumToMarkup(a)},null)}finally{i.release(n)}}function a(e){u(r.isValidElement(e));var n;try{var s=o.createReactRootID();return n=i.getPooled(!0),n.perform(function(){var t=c(e,null);return t.mountComponent(s,n,p)},null)}finally{i.release(n)}}var r=s(11),o=s(19),l=s(77),i=s(151),p=s(14),c=s(83),u=s(7);e.exports={renderToString:t,renderToStaticMarkup:a}},function(e,n,s){"use strict";function t(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=r.getPooled(null),this.putListenerQueue=o.getPooled()}var a=s(9),r=s(27),o=s(135),l=s(36),i=s(13),p=s(16),c={initialize:function(){this.reactMountReady.reset()},close:p},u={initialize:function(){this.putListenerQueue.reset()},close:p},h=[u,c],d={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady;
},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,o.release(this.putListenerQueue),this.putListenerQueue=null}};i(t.prototype,l.Mixin,d),a.addPoolingTo(t),e.exports=t},function(e,n,s){"use strict";function t(e){return r(a.isValidElement(e)),e}var a=s(11),r=s(7);e.exports=t},function(e,n,s){"use strict";n.DefaultRoute=s(154),n.Link=s(167),n.NotFoundRoute=s(168),n.Redirect=s(169),n.Route=s(166),n.ActiveHandler=s(164),n.RouteHandler=n.ActiveHandler,n.HashLocation=s(170),n.HistoryLocation=s(173),n.RefreshLocation=s(174),n.StaticLocation=s(175),n.TestLocation=s(176),n.ImitateBrowserBehavior=s(177),n.ScrollToTopBehavior=s(178),n.History=s(172),n.Navigation=s(179),n.State=s(180),n.createRoute=s(156).createRoute,n.createDefaultRoute=s(156).createDefaultRoute,n.createNotFoundRoute=s(156).createNotFoundRoute,n.createRedirect=s(156).createRedirect,n.createRoutesFromReactChildren=s(181),n.create=s(182),n.run=s(191)},function(e,n,s){"use strict";var t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(e.__proto__=n)},r=s(155),o=s(164),l=s(166),i=function(e){function n(){t(this,n),null!=e&&e.apply(this,arguments)}return a(n,e),n}(l);i.propTypes={name:r.string,path:r.falsy,children:r.falsy,handler:r.func.isRequired},i.defaultProps={handler:o},e.exports=i},function(e,n,s){"use strict";var t=s(13),a=s(2).PropTypes,r=s(156),o=t({},a,{falsy:function(e,n,s){return e[n]?new Error("<"+s+'> should not have a "'+n+'" prop'):void 0},route:a.instanceOf(r),router:a.func});e.exports=o},function(e,n,s){"use strict";var t,a=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),o=s(13),l=s(7),i=s(15),p=s(157),c=function(){function e(n,s,t,r,o,l,i,c){a(this,e),this.name=n,this.path=s,this.paramNames=p.extractParamNames(this.path),this.ignoreScrollBehavior=!!t,this.isDefault=!!r,this.isNotFound=!!o,this.onEnter=l,this.onLeave=i,this.handler=c}return r(e,[{key:"appendChild",value:function(n){l(n instanceof e,"route.appendChild must use a valid Route"),this.childRoutes||(this.childRoutes=[]),this.childRoutes.push(n)}},{key:"toString",value:function(){var e="<Route";return this.name&&(e+=' name="'+this.name+'"'),e+=' path="'+this.path+'">'}}],[{key:"createRoute",value:function(n,s){n=n||{},"string"==typeof n&&(n={path:n});var a=t;a?i(null==n.parentRoute||n.parentRoute===a,"You should not use parentRoute with createRoute inside another route's child callback; it is ignored"):a=n.parentRoute;var r=n.name,o=n.path||r;!o||n.isDefault||n.isNotFound?o=a?a.path:"/":p.isAbsolute(o)?a&&l(o===a.path||0===a.paramNames.length,'You cannot nest path "%s" inside "%s"; the parent requires URL parameters',o,a.path):o=a?p.join(a.path,o):"/"+o,n.isNotFound&&!/\*$/.test(o)&&(o+="*");var c=new e(r,o,n.ignoreScrollBehavior,n.isDefault,n.isNotFound,n.onEnter,n.onLeave,n.handler);if(a&&(c.isDefault?(l(null==a.defaultRoute,"%s may not have more than one default route",a),a.defaultRoute=c):c.isNotFound&&(l(null==a.notFoundRoute,"%s may not have more than one not found route",a),a.notFoundRoute=c),a.appendChild(c)),"function"==typeof s){var u=t;t=c,s.call(c,c),t=u}return c}},{key:"createDefaultRoute",value:function(n){return e.createRoute(o({},n,{isDefault:!0}))}},{key:"createNotFoundRoute",value:function(n){return e.createRoute(o({},n,{isNotFound:!0}))}},{key:"createRedirect",value:function(n){return e.createRoute(o({},n,{path:n.path||n.from||"*",onEnter:function(e,s,t){e.redirect(n.to,n.params||s,n.query||t)}}))}}]),e}();e.exports=c},function(e,n,s){"use strict";function t(e){if(!(e in u)){var n=[],s=e.replace(l,function(e,s){return s?(n.push(s),"([^/?#]+)"):"*"===e?(n.push("splat"),"(.*?)"):"\\"+e});u[e]={matcher:new RegExp("^"+s+"$","i"),paramNames:n}}return u[e]}var a=s(7),r=s(158),o=s(159),l=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|[*.()\[\]\\+|{}^$]/g,i=/:([a-zA-Z_$][a-zA-Z0-9_$?]*[?]?)|[*]/g,p=/\/\/\?|\/\?\/|\/\?/g,c=/\?(.*)$/,u={},h={isAbsolute:function(e){return"/"===e.charAt(0)},join:function(e,n){return e.replace(/\/*$/,"/")+n},extractParamNames:function(e){return t(e).paramNames},extractParams:function(e,n){var s=t(e),a=s.matcher,r=s.paramNames,o=n.match(a);if(!o)return null;var l={};return r.forEach(function(e,n){l[e]=o[n+1]}),l},injectParams:function(e,n){n=n||{};var s=0;return e.replace(i,function(t,r){if(r=r||"splat","?"===r.slice(-1)){if(r=r.slice(0,-1),null==n[r])return""}else a(null!=n[r],'Missing "%s" parameter for path "%s"',r,e);var o;return"splat"===r&&Array.isArray(n[r])?(o=n[r][s++],a(null!=o,'Missing splat # %s for path "%s"',s,e)):o=n[r],o}).replace(p,"/")},extractQuery:function(e){var n=e.match(c);return n&&o.parse(n[1])},withoutQuery:function(e){return e.replace(c,"")},withQuery:function(e,n){var s=h.extractQuery(e);s&&(n=n?r(s,n):s);var t=o.stringify(n,{arrayFormat:"brackets"});return t?h.withoutQuery(e)+"?"+t:h.withoutQuery(e)}};e.exports=h},function(e,n){"use strict";function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,n){for(var t,a,r=s(e),o=1;o<arguments.length;o++){t=arguments[o],a=Object.keys(Object(t));for(var l=0;l<a.length;l++)r[a[l]]=t[a[l]]}return r}},function(e,n,s){e.exports=s(160)},function(e,n,s){var t=s(161),a=s(163);e.exports={stringify:t,parse:a}},function(e,n,s){var t=s(162),a={delimiter:"&",arrayPrefixGenerators:{brackets:function(e,n){return e+"[]"},indices:function(e,n){return e+"["+n+"]"},repeat:function(e,n){return e}}};a.stringify=function(e,n,s){if(t.isBuffer(e)?e=e.toString():e instanceof Date?e=e.toISOString():null===e&&(e=""),"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return[encodeURIComponent(n)+"="+encodeURIComponent(e)];var r=[];if("undefined"==typeof e)return r;for(var o=Object.keys(e),l=0,i=o.length;i>l;++l){var p=o[l];r=Array.isArray(e)?r.concat(a.stringify(e[p],s(n,p),s)):r.concat(a.stringify(e[p],n+"["+p+"]",s))}return r},e.exports=function(e,n){n=n||{};var s="undefined"==typeof n.delimiter?a.delimiter:n.delimiter,t=[];if("object"!=typeof e||null===e)return"";var r;r=n.arrayFormat in a.arrayPrefixGenerators?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";for(var o=a.arrayPrefixGenerators[r],l=Object.keys(e),i=0,p=l.length;p>i;++i){var c=l[i];t=t.concat(a.stringify(e[c],c,o))}return t.join(s)}},function(e,n){n.arrayToObject=function(e){for(var n={},s=0,t=e.length;t>s;++s)"undefined"!=typeof e[s]&&(n[s]=e[s]);return n},n.merge=function(e,s){if(!s)return e;if("object"!=typeof s)return Array.isArray(e)?e.push(s):e[s]=!0,e;if("object"!=typeof e)return e=[e].concat(s);Array.isArray(e)&&!Array.isArray(s)&&(e=n.arrayToObject(e));for(var t=Object.keys(s),a=0,r=t.length;r>a;++a){var o=t[a],l=s[o];e[o]?e[o]=n.merge(e[o],l):e[o]=l}return e},n.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(n){return e}},n.compact=function(e,s){if("object"!=typeof e||null===e)return e;s=s||[];var t=s.indexOf(e);if(-1!==t)return s[t];if(s.push(e),Array.isArray(e)){for(var a=[],r=0,o=e.length;o>r;++r)"undefined"!=typeof e[r]&&a.push(e[r]);return a}var l=Object.keys(e);for(r=0,o=l.length;o>r;++r){var i=l[r];e[i]=n.compact(e[i],s)}return e},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,n,s){var t=s(162),a={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};a.parseValues=function(e,n){for(var s={},a=e.split(n.delimiter,n.parameterLimit===1/0?void 0:n.parameterLimit),r=0,o=a.length;o>r;++r){var l=a[r],i=-1===l.indexOf("]=")?l.indexOf("="):l.indexOf("]=")+1;if(-1===i)s[t.decode(l)]="";else{var p=t.decode(l.slice(0,i)),c=t.decode(l.slice(i+1));if(Object.prototype.hasOwnProperty(p))continue;s.hasOwnProperty(p)?s[p]=[].concat(s[p]).concat(c):s[p]=c}}return s},a.parseObject=function(e,n,s){if(!e.length)return n;var t=e.shift(),r={};if("[]"===t)r=[],r=r.concat(a.parseObject(e,n,s));else{var o="["===t[0]&&"]"===t[t.length-1]?t.slice(1,t.length-1):t,l=parseInt(o,10),i=""+l;!isNaN(l)&&t!==o&&i===o&&l>=0&&l<=s.arrayLimit?(r=[],r[l]=a.parseObject(e,n,s)):r[o]=a.parseObject(e,n,s)}return r},a.parseKeys=function(e,n,s){if(e){var t=/^([^\[\]]*)/,r=/(\[[^\[\]]*\])/g,o=t.exec(e);if(!Object.prototype.hasOwnProperty(o[1])){var l=[];o[1]&&l.push(o[1]);for(var i=0;null!==(o=r.exec(e))&&i<s.depth;)++i,Object.prototype.hasOwnProperty(o[1].replace(/\[|\]/g,""))||l.push(o[1]);return o&&l.push("["+e.slice(o.index)+"]"),a.parseObject(l,n,s)}}},e.exports=function(e,n){if(""===e||null===e||"undefined"==typeof e)return{};n=n||{},n.delimiter="string"==typeof n.delimiter||t.isRegExp(n.delimiter)?n.delimiter:a.delimiter,n.depth="number"==typeof n.depth?n.depth:a.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:a.arrayLimit,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:a.parameterLimit;for(var s="string"==typeof e?a.parseValues(e,n):e,r={},o=Object.keys(s),l=0,i=o.length;i>l;++l){var p=o[l],c=a.parseKeys(p,s[p],n);r=t.merge(r,c)}return t.compact(r)}},function(e,n,s){"use strict";var t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),r=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(e.__proto__=n)},o=s(2),l=s(165),i=s(13),p=s(155),c="__routeHandler__",u=function(e){function n(){t(this,n),null!=e&&e.apply(this,arguments)}return r(n,e),a(n,[{key:"getChildContext",value:function(){return{routeDepth:this.context.routeDepth+1}}},{key:"componentDidMount",value:function(){this._updateRouteComponent(this.refs[c])}},{key:"componentDidUpdate",value:function(){this._updateRouteComponent(this.refs[c])}},{key:"componentWillUnmount",value:function(){this._updateRouteComponent(null)}},{key:"_updateRouteComponent",value:function(e){this.context.router.setRouteComponentAtDepth(this.getRouteDepth(),e)}},{key:"getRouteDepth",value:function(){return this.context.routeDepth}},{key:"createChildRouteHandler",value:function(e){var n=this.context.router.getRouteAtDepth(this.getRouteDepth());if(null==n)return null;var s=i({},e||this.props,{ref:c,params:this.context.router.getCurrentParams(),query:this.context.router.getCurrentQuery()});return o.createElement(n.handler,s)}},{key:"render",value:function(){var e=this.createChildRouteHandler();return e?o.createElement(l,null,e):o.createElement("script",null)}}]),n}(o.Component);u.contextTypes={routeDepth:p.number.isRequired,router:p.router.isRequired},u.childContextTypes={routeDepth:p.number.isRequired},e.exports=u},function(e,n,s){"use strict";var t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),r=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(e.__proto__=n)},o=s(2),l=function(e){function n(){t(this,n),null!=e&&e.apply(this,arguments)}return r(n,e),a(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);e.exports=l},function(e,n,s){"use strict";var t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),r=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(e.__proto__=n)},o=s(2),l=s(7),i=s(155),p=s(164),c=function(e){function n(){t(this,n),null!=e&&e.apply(this,arguments)}return r(n,e),a(n,[{key:"render",value:function(){l(!1,"%s elements are for router configuration only and should not be rendered",this.constructor.name)}}]),n}(o.Component);c.propTypes={name:i.string,path:i.string,handler:i.func,ignoreScrollBehavior:i.bool},c.defaultProps={handler:p},e.exports=c},function(e,n,s){"use strict";function t(e){return 0===e.button}function a(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var r=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),l=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(e.__proto__=n)},i=s(2),p=s(13),c=s(155),u=function(e){function n(){r(this,n),null!=e&&e.apply(this,arguments)}return l(n,e),o(n,[{key:"handleClick",value:function(e){var n,s=!0;this.props.onClick&&(n=this.props.onClick(e)),!a(e)&&t(e)&&((n===!1||e.defaultPrevented===!0)&&(s=!1),e.preventDefault(),s&&this.context.router.transitionTo(this.props.to,this.props.params,this.props.query))}},{key:"getHref",value:function(){return this.context.router.makeHref(this.props.to,this.props.params,this.props.query)}},{key:"getClassName",value:function(){var e=this.props.className;return this.getActiveState()&&(e+=" "+this.props.activeClassName),e}},{key:"getActiveState",value:function(){return this.context.router.isActive(this.props.to,this.props.params,this.props.query)}},{key:"render",value:function(){var e=p({},this.props,{href:this.getHref(),className:this.getClassName(),onClick:this.handleClick.bind(this)});return e.activeStyle&&this.getActiveState()&&(e.style=e.activeStyle),i.DOM.a(e,this.props.children)}}]),n}(i.Component);u.contextTypes={router:c.router.isRequired},u.propTypes={activeClassName:c.string.isRequired,to:c.oneOfType([c.string,c.route]).isRequired,params:c.object,query:c.object,activeStyle:c.object,onClick:c.func},u.defaultProps={activeClassName:"active",className:""},e.exports=u},function(e,n,s){"use strict";var t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(e.__proto__=n)},r=s(155),o=s(164),l=s(166),i=function(e){function n(){t(this,n),null!=e&&e.apply(this,arguments)}return a(n,e),n}(l);i.propTypes={name:r.string,path:r.falsy,children:r.falsy,handler:r.func.isRequired},i.defaultProps={handler:o},e.exports=i},function(e,n,s){"use strict";var t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(e.__proto__=n)},r=s(155),o=s(166),l=function(e){function n(){t(this,n),null!=e&&e.apply(this,arguments)}return a(n,e),n}(o);l.propTypes={path:r.string,from:r.string,to:r.string,handler:r.falsy},l.defaultProps={},e.exports=l},function(e,n,s){"use strict";function t(e){e===l.PUSH&&(i.length+=1);var n={path:u.getCurrentPath(),type:e};p.forEach(function(e){e.call(u,n)})}function a(){var e=u.getCurrentPath();return"/"===e.charAt(0)?!0:(u.replace("/"+e),!1)}function r(){if(a()){var e=o;o=null,t(e||l.POP)}}var o,l=s(171),i=s(172),p=[],c=!1,u={addChangeListener:function(e){p.push(e),a(),c||(window.addEventListener?window.addEventListener("hashchange",r,!1):window.attachEvent("onhashchange",r),c=!0)},removeChangeListener:function(e){p=p.filter(function(n){return n!==e}),0===p.length&&(window.removeEventListener?window.removeEventListener("hashchange",r,!1):window.removeEvent("onhashchange",r),c=!1)},push:function(e){o=l.PUSH,window.location.hash=e},replace:function(e){o=l.REPLACE,window.location.replace(window.location.pathname+window.location.search+"#"+e)},pop:function(){o=l.POP,i.back()},getCurrentPath:function(){return decodeURI(window.location.href.split("#")[1]||"")},toString:function(){return"<HashLocation>"}};e.exports=u},function(e,n){"use strict";var s={PUSH:"push",REPLACE:"replace",POP:"pop"};e.exports=s},function(e,n,s){"use strict";var t=s(7),a=s(51).canUseDOM,r={length:1,back:function(){t(a,"Cannot use History.back without a DOM"),r.length-=1,window.history.back()}};e.exports=r},function(e,n,s){"use strict";function t(e){var n={path:p.getCurrentPath(),type:e};l.forEach(function(e){e.call(p,n)})}function a(e){void 0!==e.state&&t(r.POP)}var r=s(171),o=s(172),l=[],i=!1,p={addChangeListener:function(e){l.push(e),i||(window.addEventListener?window.addEventListener("popstate",a,!1):window.attachEvent("onpopstate",a),i=!0)},removeChangeListener:function(e){l=l.filter(function(n){return n!==e}),0===l.length&&(window.addEventListener?window.removeEventListener("popstate",a,!1):window.removeEvent("onpopstate",a),i=!1)},push:function(e){window.history.pushState({path:e},"",e),o.length+=1,t(r.PUSH)},replace:function(e){window.history.replaceState({path:e},"",e),t(r.REPLACE)},pop:o.back,getCurrentPath:function(){return decodeURI(window.location.pathname+window.location.search)},toString:function(){return"<HistoryLocation>"}};e.exports=p},function(e,n,s){"use strict";var t=s(173),a=s(172),r={push:function(e){window.location=e},replace:function(e){window.location.replace(e)},pop:a.back,getCurrentPath:t.getCurrentPath,toString:function(){return"<RefreshLocation>"}};e.exports=r},function(e,n,s){"use strict";function t(){o(!1,"You cannot modify a static location")}var a=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),o=s(7),l=function(){function e(n){a(this,e),this.path=n}return r(e,[{key:"getCurrentPath",value:function(){return this.path}},{key:"toString",value:function(){return'<StaticLocation path="'+this.path+'">'}}]),e}();l.prototype.push=t,l.prototype.replace=t,l.prototype.pop=t,e.exports=l},function(e,n,s){"use strict";var t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),r=s(7),o=s(171),l=s(172),i=function(){function e(n){t(this,e),this.history=n||[],this.listeners=[],this._updateHistoryLength()}return a(e,[{key:"needsDOM",get:function(){return!1}},{key:"_updateHistoryLength",value:function(){l.length=this.history.length}},{key:"_notifyChange",value:function(e){for(var n={path:this.getCurrentPath(),type:e},s=0,t=this.listeners.length;t>s;++s)this.listeners[s].call(this,n)}},{key:"addChangeListener",value:function(e){this.listeners.push(e)}},{key:"removeChangeListener",value:function(e){this.listeners=this.listeners.filter(function(n){return n!==e})}},{key:"push",value:function(e){this.history.push(e),this._updateHistoryLength(),this._notifyChange(o.PUSH)}},{key:"replace",value:function(e){r(this.history.length,"You cannot replace the current path with no history"),this.history[this.history.length-1]=e,this._notifyChange(o.REPLACE)}},{key:"pop",value:function(){this.history.pop(),this._updateHistoryLength(),this._notifyChange(o.POP)}},{key:"getCurrentPath",value:function(){return this.history[this.history.length-1]}},{key:"toString",value:function(){return"<TestLocation>"}}]),e}();e.exports=i},function(e,n,s){"use strict";var t=s(171),a={updateScrollPosition:function(e,n){switch(n){case t.PUSH:case t.REPLACE:window.scrollTo(0,0);break;case t.POP:e?window.scrollTo(e.x,e.y):window.scrollTo(0,0)}}};e.exports=a},function(e,n){"use strict";var s={updateScrollPosition:function(){window.scrollTo(0,0)}};e.exports=s},function(e,n,s){"use strict";var t=s(155),a={contextTypes:{router:t.router.isRequired},makePath:function(e,n,s){return this.context.router.makePath(e,n,s)},makeHref:function(e,n,s){return this.context.router.makeHref(e,n,s)},transitionTo:function(e,n,s){this.context.router.transitionTo(e,n,s)},replaceWith:function(e,n,s){this.context.router.replaceWith(e,n,s)},goBack:function(){return this.context.router.goBack()}};e.exports=a},function(e,n,s){"use strict";var t=s(155),a={contextTypes:{router:t.router.isRequired},getPath:function(){return this.context.router.getCurrentPath()},getPathname:function(){return this.context.router.getCurrentPathname()},getParams:function(){return this.context.router.getCurrentParams()},getQuery:function(){return this.context.router.getCurrentQuery()},getRoutes:function(){return this.context.router.getCurrentRoutes()},isActive:function(e,n,s){return this.context.router.isActive(e,n,s)}};e.exports=a},function(e,n,s){"use strict";function t(e,n,s){e=e||"UnknownComponent";for(var t in n)if(n.hasOwnProperty(t)){var a=n[t](s,t,e);a instanceof Error&&p(!1,a.message)}}function a(e){var n=i({},e),s=n.handler;return s&&(n.onEnter=s.willTransitionTo,n.onLeave=s.willTransitionFrom),n}function r(e){if(l.isValidElement(e)){var n=e.type,s=i({},n.defaultProps,e.props);return n.propTypes&&t(n.displayName,n.propTypes,s),n===c?d.createDefaultRoute(a(s)):n===u?d.createNotFoundRoute(a(s)):n===h?d.createRedirect(a(s)):d.createRoute(a(s),function(){s.children&&o(s.children)})}}function o(e){var n=[];return l.Children.forEach(e,function(e){(e=r(e))&&n.push(e)}),n}var l=s(2),i=s(13),p=s(15),c=s(154),u=s(168),h=s(169),d=s(156);e.exports=o},function(e,n,s){"use strict";function t(e,n){for(var s in n)if(n.hasOwnProperty(s)&&e[s]!==n[s])return!1;return!0}function a(e,n,s,a,r,o){return e.some(function(e){if(e!==n)return!1;for(var l,i=n.paramNames,p=0,c=i.length;c>p;++p)if(l=i[p],a[l]!==s[l])return!1;return t(r,o)&&t(o,r)})}function r(e,n){for(var s,t=0,a=e.length;a>t;++t)s=e[t],s.name&&(h(null==n[s.name],'You may not have more than one route named "%s"',s.name),n[s.name]=s),s.childRoutes&&r(s.childRoutes,n)}function o(e,n){return e.some(function(e){return e.name===n})}function l(e,n){for(var s in n)if(String(e[s])!==String(n[s]))return!1;return!0}function i(e,n){for(var s in n)if(String(e[s])!==String(n[s]))return!1;return!0}function p(e){e=e||{},k(e)&&(e={routes:e});var n=[],s=e.location||O,t=e.scrollBehavior||P,p={},m={},M=null,A=null;"string"==typeof s&&(s=new b(s)),s instanceof b?u(!d||!1,"You should not use a static location in a DOM environment because the router will not be kept in sync with the current URL"):h(d||s.needsDOM===!1,"You cannot use %s without a DOM",s),s!==y||I()||(s=v);var q=c.createClass({displayName:"Router",statics:{isRunning:!1,cancelPendingTransition:function(){M&&(M.cancel(),M=null)},clearAllRoutes:function(){q.cancelPendingTransition(),q.namedRoutes={},q.routes=[]},addRoutes:function(e){k(e)&&(e=w(e)),r(e,q.namedRoutes),q.routes.push.apply(q.routes,e)},replaceRoutes:function(e){q.clearAllRoutes(),q.addRoutes(e),q.refresh()},match:function(e){return D.findMatch(q.routes,e)},makePath:function(e,n,s){var t;if(E.isAbsolute(e))t=e;else{var a=e instanceof R?e:q.namedRoutes[e];h(a instanceof R,'Cannot find a route named "%s"',e),t=a.path}return E.withQuery(E.injectParams(t,n),s)},makeHref:function(e,n,t){var a=q.makePath(e,n,t);return s===g?"#"+a:a},transitionTo:function(e,n,t){var a=q.makePath(e,n,t);M?s.replace(a):s.push(a)},replaceWith:function(e,n,t){s.replace(q.makePath(e,n,t))},goBack:function(){return C.length>1||s===v?(s.pop(),!0):(u(!1,"goBack() was ignored because there is no router history"),!1)},handleAbort:e.onAbort||function(e){if(s instanceof b)throw new Error("Unhandled aborted transition! Reason: "+e);e instanceof T||(e instanceof S?s.replace(q.makePath(e.to,e.params,e.query)):s.pop())},handleError:e.onError||function(e){throw e},handleLocationChange:function(e){q.dispatch(e.path,e.type)},dispatch:function(e,s){q.cancelPendingTransition();var t=p.path,r=null==s;if(t!==e||r){t&&s===f.PUSH&&q.recordScrollPosition(t);var o=q.match(e);u(null!=o,'No route matches path "%s". Make sure you have <Route path="%s"> somewhere in your routes',e,e),null==o&&(o={});var l,i,c=p.routes||[],h=p.params||{},d=p.query||{},m=o.routes||[],g=o.params||{},y=o.query||{};c.length?(l=c.filter(function(e){return!a(m,e,h,g,d,y)}),i=m.filter(function(e){return!a(c,e,h,g,d,y)})):(l=[],i=m);var v=new _(e,q.replaceWith.bind(q,e));M=v;var b=n.slice(c.length-l.length);_.from(v,l,b,function(n){return n||v.abortReason?A.call(q,n,v):void _.to(v,i,g,y,function(n){A.call(q,n,v,{path:e,action:s,pathname:o.pathname,routes:m,params:g,query:y})})})}},run:function(e){h(!q.isRunning,"Router is already running"),A=function(n,s,t){n&&q.handleError(n),M===s&&(M=null,s.abortReason?q.handleAbort(s.abortReason):e.call(q,q,m=t))},s instanceof b||(s.addChangeListener&&s.addChangeListener(q.handleLocationChange),q.isRunning=!0),q.refresh()},refresh:function(){q.dispatch(s.getCurrentPath(),null)},stop:function(){q.cancelPendingTransition(),s.removeChangeListener&&s.removeChangeListener(q.handleLocationChange),q.isRunning=!1},getLocation:function(){return s},getScrollBehavior:function(){return t},getRouteAtDepth:function(e){var n=p.routes;return n&&n[e]},setRouteComponentAtDepth:function(e,s){n[e]=s},getCurrentPath:function(){return p.path},getCurrentPathname:function(){return p.pathname},getCurrentParams:function(){return p.params},getCurrentQuery:function(){return p.query},getCurrentRoutes:function(){return p.routes},isActive:function(e,n,s){return E.isAbsolute(e)?e===p.path:o(p.routes,e)&&l(p.params,n)&&(null==s||i(p.query,s))}},mixins:[j],propTypes:{children:x.falsy},childContextTypes:{routeDepth:x.number.isRequired,router:x.router.isRequired},getChildContext:function(){return{routeDepth:1,router:q}},getInitialState:function(){return p=m},componentWillReceiveProps:function(){this.setState(p=m)},componentWillUnmount:function(){q.stop()},render:function(){var e=q.getRouteAtDepth(0);return e?c.createElement(e.handler,this.props):null}});return q.clearAllRoutes(),e.routes&&q.addRoutes(e.routes),q}var c=s(2),u=s(15),h=s(7),d=s(51).canUseDOM,f=s(171),m=s(177),g=s(170),y=s(173),v=s(174),b=s(175),j=s(183),w=s(181),k=s(185),_=s(186),x=s(155),S=s(188),C=s(172),T=s(187),D=s(189),R=s(156),I=s(190),E=s(157),O=d?g:"/",P=d?m:null;e.exports=p},function(e,n,s){"use strict";function t(e,n){if(!n)return!0;if(e.pathname===n.pathname)return!1;var s=e.routes,t=n.routes,a=s.filter(function(e){return-1!==t.indexOf(e)});return!a.some(function(e){return e.ignoreScrollBehavior})}var a=s(7),r=s(51).canUseDOM,o=s(184),l={statics:{recordScrollPosition:function(e){this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[e]=o()},getScrollPosition:function(e){return this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[e]||null}},componentWillMount:function(){a(null==this.constructor.getScrollBehavior()||r,"Cannot use scroll behavior without a DOM")},componentDidMount:function(){this._updateScroll()},componentDidUpdate:function(e,n){this._updateScroll(n)},_updateScroll:function(e){if(t(this.state,e)){var n=this.constructor.getScrollBehavior();n&&n.updateScrollPosition(this.constructor.getScrollPosition(this.state.path),this.state.action)}}};e.exports=l},function(e,n,s){"use strict";function t(){return a(r,"Cannot get current scroll position without a DOM"),{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}var a=s(7),r=s(51).canUseDOM;e.exports=t},function(e,n,s){"use strict";function t(e){return null==e||r.isValidElement(e)}function a(e){return t(e)||Array.isArray(e)&&e.every(t)}var r=s(2);e.exports=a},function(e,n,s){"use strict";function t(e,n){this.path=e,this.abortReason=null,this.retry=n.bind(this)}var a=s(187),r=s(188);t.prototype.abort=function(e){null==this.abortReason&&(this.abortReason=e||"ABORT")},t.prototype.redirect=function(e,n,s){this.abort(new r(e,n,s))},t.prototype.cancel=function(){this.abort(new a)},t.from=function(e,n,s,t){n.reduce(function(n,t,a){return function(r){if(r||e.abortReason)n(r);else if(t.onLeave)try{t.onLeave(e,s[a],n),t.onLeave.length<3&&n()}catch(o){n(o)}else n()}},t)()},t.to=function(e,n,s,t,a){n.reduceRight(function(n,a){return function(r){if(r||e.abortReason)n(r);else if(a.onEnter)try{a.onEnter(e,s,t,n),a.onEnter.length<4&&n()}catch(o){n(o)}else n()}},a)()},e.exports=t},function(e,n){"use strict";function s(){}e.exports=s},function(e,n){"use strict";function s(e,n,s){this.to=e,this.params=n,this.query=s}e.exports=s},function(e,n,s){"use strict";function t(e,n,s){var a=e.childRoutes;if(a)for(var r,i,p=0,c=a.length;c>p;++p)if(i=a[p],!i.isDefault&&!i.isNotFound&&(r=t(i,n,s)))return r.routes.unshift(e),r;var u=e.defaultRoute;if(u&&(d=o.extractParams(u.path,n)))return new l(n,d,s,[e,u]);var h=e.notFoundRoute;if(h&&(d=o.extractParams(h.path,n)))return new l(n,d,s,[e,h]);var d=o.extractParams(e.path,n);return d?new l(n,d,s,[e]):null}var a=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),o=s(157),l=function(){function e(n,s,t,r){a(this,e),this.pathname=n,this.params=s,this.query=t,this.routes=r}return r(e,null,[{key:"findMatch",value:function(e,n){for(var s=o.withoutQuery(n),a=o.extractQuery(n),r=null,l=0,i=e.length;null==r&&i>l;++l)r=t(e[l],s,a);return r}}]),e}();e.exports=l},function(e,n){"use strict";function s(){/*! taken from modernizr
	   * https://github.com/Modernizr/Modernizr/blob/master/LICENSE
	   * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js
	   * changed to avoid false negatives for Windows Phones: https://github.com/rackt/react-router/issues/586
	   */
var e=navigator.userAgent;return-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}e.exports=s},function(e,n,s){"use strict";function t(e,n,s){"function"==typeof n&&(s=n,n=null);var t=a({routes:e,location:n});return t.run(s),t}var a=s(182);e.exports=t},function(e,n,s){var t=s(193),a=s(214),r=a(t);e.exports=r},function(e,n,s){var t=s(194),a=s(213),r=a(t);e.exports=r},function(e,n,s){function t(e,n){return a(e,n,r)}var a=s(195),r=s(199);e.exports=t},function(e,n,s){var t=s(196),a=t();e.exports=a},function(e,n,s){function t(e){return function(n,s,t){for(var r=a(n),o=t(n),l=o.length,i=e?l:-1;e?i--:++i<l;){var p=o[i];if(s(r[p],p,r)===!1)break}return n}}var a=s(197);e.exports=t},function(e,n,s){function t(e){return a(e)?e:Object(e)}var a=s(198);e.exports=t},function(e,n){function s(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}e.exports=s},function(e,n,s){var t=s(200),a=s(204),r=s(198),o=s(208),l=t(Object,"keys"),i=l?function(e){var n=null==e?void 0:e.constructor;return"function"==typeof n&&n.prototype===e||"function"!=typeof e&&a(e)?o(e):r(e)?l(e):[]}:o;e.exports=i},function(e,n,s){function t(e,n){var s=null==e?void 0:e[n];return a(s)?s:void 0}var a=s(201);e.exports=t},function(e,n,s){function t(e){return null==e?!1:a(e)?c.test(i.call(e)):r(e)&&o.test(e)}var a=s(202),r=s(203),o=/^\[object .+?Constructor\]$/,l=Object.prototype,i=Function.prototype.toString,p=l.hasOwnProperty,c=RegExp("^"+i.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=t},function(e,n,s){function t(e){return a(e)&&l.call(e)==r}var a=s(198),r="[object Function]",o=Object.prototype,l=o.toString;e.exports=t},function(e,n){function s(e){return!!e&&"object"==typeof e}e.exports=s},function(e,n,s){function t(e){return null!=e&&r(a(e))}var a=s(205),r=s(207);e.exports=t},function(e,n,s){var t=s(206),a=t("length");e.exports=a},function(e,n){function s(e){return function(n){return null==n?void 0:n[e]}}e.exports=s},function(e,n){function s(e){return"number"==typeof e&&e>-1&&e%1==0&&t>=e}var t=9007199254740991;e.exports=s},function(e,n,s){function t(e){for(var n=i(e),s=n.length,t=s&&e.length,p=!!t&&l(t)&&(r(e)||a(e)),u=-1,h=[];++u<s;){var d=n[u];(p&&o(d,t)||c.call(e,d))&&h.push(d)}return h}var a=s(209),r=s(210),o=s(211),l=s(207),i=s(212),p=Object.prototype,c=p.hasOwnProperty;e.exports=t},function(e,n,s){function t(e){return r(e)&&a(e)&&l.call(e,"callee")&&!i.call(e,"callee")}var a=s(204),r=s(203),o=Object.prototype,l=o.hasOwnProperty,i=o.propertyIsEnumerable;e.exports=t},function(e,n,s){var t=s(200),a=s(207),r=s(203),o="[object Array]",l=Object.prototype,i=l.toString,p=t(Array,"isArray"),c=p||function(e){return r(e)&&a(e.length)&&i.call(e)==o};e.exports=c},function(e,n){function s(e,n){return e="number"==typeof e||t.test(e)?+e:-1,n=null==n?a:n,e>-1&&e%1==0&&n>e}var t=/^\d+$/,a=9007199254740991;e.exports=s},function(e,n,s){function t(e){if(null==e)return[];i(e)||(e=Object(e));var n=e.length;n=n&&l(n)&&(r(e)||a(e))&&n||0;for(var s=e.constructor,t=-1,p="function"==typeof s&&s.prototype===e,u=Array(n),h=n>0;++t<n;)u[t]=t+"";for(var d in e)h&&o(d,n)||"constructor"==d&&(p||!c.call(e,d))||u.push(d);return u}var a=s(209),r=s(210),o=s(211),l=s(207),i=s(198),p=Object.prototype,c=p.hasOwnProperty;e.exports=t},function(e,n,s){function t(e,n){return function(s,t){var l=s?a(s):0;if(!r(l))return e(s,t);for(var i=n?l:-1,p=o(s);(n?i--:++i<l)&&t(p[i],i,p)!==!1;);return s}}var a=s(205),r=s(207),o=s(197);e.exports=t},function(e,n,s){function t(e,n){return function(s,t,i){if(t=a(t,i,3),l(s)){var p=o(s,t,n);return p>-1?s[p]:void 0}return r(s,t,e)}}var a=s(215),r=s(239),o=s(240),l=s(210);e.exports=t},function(e,n,s){function t(e,n,s){var t=typeof e;return"function"==t?void 0===n?e:o(e,n,s):null==e?l:"object"==t?a(e):void 0===n?i(e):r(e,n)}var a=s(216),r=s(228),o=s(235),l=s(236),i=s(237);e.exports=t},function(e,n,s){function t(e){var n=r(e);if(1==n.length&&n[0][2]){var s=n[0][0],t=n[0][1];return function(e){return null==e?!1:e[s]===t&&(void 0!==t||s in o(e))}}return function(e){return a(e,n)}}var a=s(217),r=s(225),o=s(197);e.exports=t},function(e,n,s){function t(e,n,s){var t=n.length,o=t,l=!s;if(null==e)return!o;for(e=r(e);t--;){var i=n[t];if(l&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++t<o;){i=n[t];var p=i[0],c=e[p],u=i[1];if(l&&i[2]){if(void 0===c&&!(p in e))return!1}else{var h=s?s(c,u,p):void 0;if(!(void 0===h?a(u,c,s,!0):h))return!1}}return!0}var a=s(218),r=s(197);e.exports=t},function(e,n,s){function t(e,n,s,l,i,p){return e===n?!0:null==e||null==n||!r(e)&&!o(n)?e!==e&&n!==n:a(e,n,t,s,l,i,p)}var a=s(219),r=s(198),o=s(203);e.exports=t},function(e,n,s){function t(e,n,s,t,h,m,g){var y=l(e),v=l(n),b=c,j=c;y||(b=f.call(e),b==p?b=u:b!=u&&(y=i(e))),v||(j=f.call(n),j==p?j=u:j!=u&&(v=i(n)));var w=b==u,k=j==u,_=b==j;if(_&&!y&&!w)return r(e,n,b);if(!h){var x=w&&d.call(e,"__wrapped__"),S=k&&d.call(n,"__wrapped__");if(x||S)return s(x?e.value():e,S?n.value():n,t,h,m,g)}if(!_)return!1;m||(m=[]),g||(g=[]);for(var C=m.length;C--;)if(m[C]==e)return g[C]==n;m.push(e),g.push(n);var T=(y?a:o)(e,n,s,t,h,m,g);return m.pop(),g.pop(),T}var a=s(220),r=s(222),o=s(223),l=s(210),i=s(224),p="[object Arguments]",c="[object Array]",u="[object Object]",h=Object.prototype,d=h.hasOwnProperty,f=h.toString;e.exports=t},function(e,n,s){function t(e,n,s,t,r,o,l){var i=-1,p=e.length,c=n.length;if(p!=c&&!(r&&c>p))return!1;for(;++i<p;){var u=e[i],h=n[i],d=t?t(r?h:u,r?u:h,i):void 0;if(void 0!==d){if(d)continue;return!1}if(r){if(!a(n,function(e){return u===e||s(u,e,t,r,o,l)}))return!1}else if(u!==h&&!s(u,h,t,r,o,l))return!1}return!0}var a=s(221);e.exports=t},function(e,n){function s(e,n){for(var s=-1,t=e.length;++s<t;)if(n(e[s],s,e))return!0;return!1}e.exports=s},function(e,n){function s(e,n,s){switch(s){case t:case a:return+e==+n;case r:return e.name==n.name&&e.message==n.message;case o:return e!=+e?n!=+n:e==+n;case l:case i:return e==n+""}return!1}var t="[object Boolean]",a="[object Date]",r="[object Error]",o="[object Number]",l="[object RegExp]",i="[object String]";e.exports=s},function(e,n,s){function t(e,n,s,t,r,l,i){var p=a(e),c=p.length,u=a(n),h=u.length;if(c!=h&&!r)return!1;for(var d=c;d--;){var f=p[d];if(!(r?f in n:o.call(n,f)))return!1}for(var m=r;++d<c;){f=p[d];var g=e[f],y=n[f],v=t?t(r?y:g,r?g:y,f):void 0;if(!(void 0===v?s(g,y,t,r,l,i):v))return!1;m||(m="constructor"==f)}if(!m){var b=e.constructor,j=n.constructor;if(b!=j&&"constructor"in e&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j))return!1}return!0}var a=s(199),r=Object.prototype,o=r.hasOwnProperty;e.exports=t},function(e,n,s){function t(e){return r(e)&&a(e.length)&&!!R[E.call(e)]}var a=s(207),r=s(203),o="[object Arguments]",l="[object Array]",i="[object Boolean]",p="[object Date]",c="[object Error]",u="[object Function]",h="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",j="[object Float32Array]",w="[object Float64Array]",k="[object Int8Array]",_="[object Int16Array]",x="[object Int32Array]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",D="[object Uint32Array]",R={};R[j]=R[w]=R[k]=R[_]=R[x]=R[S]=R[C]=R[T]=R[D]=!0,R[o]=R[l]=R[b]=R[i]=R[p]=R[c]=R[u]=R[h]=R[d]=R[f]=R[m]=R[g]=R[y]=R[v]=!1;var I=Object.prototype,E=I.toString;e.exports=t},function(e,n,s){function t(e){for(var n=r(e),s=n.length;s--;)n[s][2]=a(n[s][1]);return n}var a=s(226),r=s(227);e.exports=t},function(e,n,s){function t(e){return e===e&&!a(e)}var a=s(198);e.exports=t},function(e,n,s){function t(e){e=r(e);for(var n=-1,s=a(e),t=s.length,o=Array(t);++n<t;){var l=s[n];o[n]=[l,e[l]]}return o}var a=s(199),r=s(197);e.exports=t},function(e,n,s){function t(e,n){var s=l(e),t=i(e)&&p(n),d=e+"";return e=h(e),function(l){if(null==l)return!1;var i=d;if(l=u(l),(s||!t)&&!(i in l)){if(l=1==e.length?l:a(l,o(e,0,-1)),null==l)return!1;i=c(e),l=u(l)}return l[i]===n?void 0!==n||i in l:r(n,l[i],void 0,!0)}}var a=s(229),r=s(218),o=s(230),l=s(210),i=s(231),p=s(226),c=s(232),u=s(197),h=s(233);e.exports=t},function(e,n,s){function t(e,n,s){if(null!=e){void 0!==s&&s in a(e)&&(n=[s]);for(var t=0,r=n.length;null!=e&&r>t;)e=e[n[t++]];return t&&t==r?e:void 0}}var a=s(197);e.exports=t},function(e,n){function s(e,n,s){var t=-1,a=e.length;n=null==n?0:+n||0,0>n&&(n=-n>a?0:a+n),s=void 0===s||s>a?a:+s||0,0>s&&(s+=a),a=n>s?0:s-n>>>0,n>>>=0;for(var r=Array(a);++t<a;)r[t]=e[t+n];return r}e.exports=s},function(e,n,s){function t(e,n){var s=typeof e;if("string"==s&&l.test(e)||"number"==s)return!0;if(a(e))return!1;var t=!o.test(e);return t||null!=n&&e in r(n)}var a=s(210),r=s(197),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,l=/^\w*$/;e.exports=t},function(e,n){function s(e){var n=e?e.length:0;return n?e[n-1]:void 0}e.exports=s},function(e,n,s){function t(e){if(r(e))return e;var n=[];return a(e).replace(o,function(e,s,t,a){n.push(t?a.replace(l,"$1"):s||e)}),n}var a=s(234),r=s(210),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,l=/\\(\\)?/g;e.exports=t},function(e,n){function s(e){return null==e?"":e+""}e.exports=s},function(e,n,s){function t(e,n,s){if("function"!=typeof e)return a;if(void 0===n)return e;switch(s){case 1:return function(s){return e.call(n,s)};case 3:return function(s,t,a){return e.call(n,s,t,a)};case 4:return function(s,t,a,r){return e.call(n,s,t,a,r)};case 5:return function(s,t,a,r,o){return e.call(n,s,t,a,r,o)}}return function(){return e.apply(n,arguments)}}var a=s(236);e.exports=t},function(e,n){function s(e){return e}e.exports=s},function(e,n,s){function t(e){return o(e)?a(e):r(e)}var a=s(206),r=s(238),o=s(231);e.exports=t},function(e,n,s){function t(e){var n=e+"";return e=r(e),function(s){return a(s,e,n)}}var a=s(229),r=s(233);e.exports=t},function(e,n){function s(e,n,s,t){var a;return s(e,function(e,s,r){return n(e,s,r)?(a=t?s:e,!1):void 0}),a}e.exports=s},function(e,n){function s(e,n,s){for(var t=e.length,a=s?t:-1;s?a--:++a<t;)if(n(e[a],a,e))return a;return-1}e.exports=s},function(e,n,s){function t(e,n,s){var t=l(e)?a:o;return n=r(n,s,3),t(e,n)}var a=s(242),r=s(215),o=s(243),l=s(210);e.exports=t},function(e,n){function s(e,n){for(var s=-1,t=e.length,a=-1,r=[];++s<t;){var o=e[s];n(o,s,e)&&(r[++a]=o)}return r}e.exports=s},function(e,n,s){function t(e,n){var s=[];return a(e,function(e,t,a){n(e,t,a)&&s.push(e)}),s}var a=s(193);e.exports=t},function(e,n,s){var t,a,r,o,l,i;t=s(153),r=s(241),i=s(245),l=s(232),o=s(251),a=s(253).config,e.exports=function(e,n){var a,p,c,u,h,d,f,m,g,y,v,b,j,w,k,_;for(_={},_.root=t.createRoute({name:"root-template",path:"/",handler:n("./_template")}),k=r(e,function(e){return"_template"===e.file.name&&"."!==e.file.dirname}),u=0,d=k.length;d>u;u++)w=k[u],j=r(k,function(e){return o(w.requirePath,e.file.dirname)}),j=i(j,function(e){return null!=e?e.file.dirname.length:void 0}),b=l(j),y=_[null!=b?b.file.dirname:void 0],y||(y=_.root),_[w.file.dirname]=t.createRoute({name:w.file.dirname+"-template",path:w.templatePath,parentRoute:y,handler:n("./"+w.requirePath)});for(a=r(e,function(e){return"_"!==e.file.name.slice(0,1)}),m=s(254),c=s(270),h=0,f=a.length;f>h;h++){switch(g=a[h],g.file.ext){case"md":p=m,g.data=n("./"+g.requirePath);break;case"html":p=c;break;case"jsx":p=n("./"+g.requirePath),g.data=n("./"+g.requirePath).metadata?n("./"+g.requirePath).metadata():void 0;break;case"cjsx":p=n("./"+g.requirePath),g.data=n("./"+g.requirePath).metadata?n("./"+g.requirePath).metadata():void 0;break;default:p=n("./"+g.requirePath)}v=r(k,function(e){return o(g.requirePath,e.file.dirname)}),v=i(v,function(e){return null!=e?e.file.dirname.length:void 0}),b=l(v),y=_[null!=b?b.file.dirname:void 0],y||(y=_.root),o(g.path,"/index")&&y.file.dirname===b.file.dirname?t.createDefaultRoute({name:g.path,parentRoute:y,handler:p}):t.createRoute({name:g.path,path:g.path,parentRoute:y,handler:p})}return _.root}},function(e,n,s){function t(e,n,s){if(null==e)return[];s&&i(e,n,s)&&(n=void 0);var t=-1;n=a(n,s,3);var p=r(e,function(e,s,a){return{criteria:n(e,s,a),index:++t,value:e}});return o(p,l)}var a=s(215),r=s(246),o=s(247),l=s(248),i=s(250);e.exports=t},function(e,n,s){function t(e,n){var s=-1,t=r(e)?Array(e.length):[];return a(e,function(e,a,r){t[++s]=n(e,a,r)}),t}var a=s(193),r=s(204);e.exports=t},function(e,n){function s(e,n){var s=e.length;for(e.sort(n);s--;)e[s]=e[s].value;return e}e.exports=s},function(e,n,s){function t(e,n){return a(e.criteria,n.criteria)||e.index-n.index}var a=s(249);e.exports=t},function(e,n){function s(e,n){if(e!==n){var s=null===e,t=void 0===e,a=e===e,r=null===n,o=void 0===n,l=n===n;if(e>n&&!r||!a||s&&!o&&l||t&&l)return 1;if(n>e&&!s||!l||r&&!t&&a||o&&a)return-1}return 0}e.exports=s},function(e,n,s){function t(e,n,s){if(!o(s))return!1;var t=typeof n;if("number"==t?a(s)&&r(n,s.length):"string"==t&&n in s){var l=s[n];return e===e?e===l:l!==l}return!1}var a=s(204),r=s(211),o=s(198);e.exports=t},function(e,n,s){var t=s(252);e.exports=function(e,n){return""===n?!0:-1!==t(e).indexOf(n)}},function(e,n){e.exports=function(e){return null==e?"":""+e}},function(e,n){e.exports={config:{blogTitle:"christopherbiscardi.com",authorName:"Chris Biscardi",ghPagesURLPrefix:"/"},relativePath:"",pages:[{file:{dirname:".",basename:"_template.jsx",name:"_template",extname:".jsx",extSegments:[".jsx"],ext:"jsx"},requirePath:"_template.jsx",templatePath:"/./"},{file:{dirname:"2015-05-01-hello-world",basename:"index.md",name:"index",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"2015-05-01-hello-world/index.md",data:{title:"Hello World",date:"2015-05-01T22:12:03.284Z",layout:"post",readNext:"/my-second-post/",path:"/hello-world/"},path:"/hello-world/"},{file:{dirname:"2015-05-06-my-second-post",basename:"index.md",name:"index",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"2015-05-06-my-second-post/index.md",data:{title:"My Second Post!",date:"2015-05-06T23:46:37.121Z",layout:"post",readNext:"/hi-folks/",path:"/my-second-post/"},path:"/my-second-post/"},{file:{dirname:"2015-05-28-hi-folks",basename:"index.md",name:"index",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"2015-05-28-hi-folks/index.md",data:{title:"New Beginnings",date:"2015-05-28T22:40:32.169Z",layout:"post",readNext:"/hosting-static-sites-with-docker-and-nginx/",path:"/hi-folks/"},path:"/hi-folks/"},{file:{dirname:"about",basename:"index.md",name:"index",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"about/index.md",data:{title:"About Chris",date:"2015-08-18T22:12:03.284Z",layout:"page",path:"/about/"},path:"/about/"},{file:{dirname:".",basename:"index.jsx",name:"index",extname:".jsx",extSegments:[".jsx"],ext:"jsx"},requirePath:"index.jsx",path:"/"},{file:{dirname:"old-wordpress-posts",basename:"a-foray-into-haxl-postgresql-simple.md",name:"a-foray-into-haxl-postgresql-simple",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/a-foray-into-haxl-postgresql-simple.md",data:{title:"A Foray Into Haxl: PostgreSQL Simple",date:"Fri, 04 Jul 2014 19:22:59 +0000",layout:"post",path:"/2014/7/4/a-foray-into-haxl-postgresql-simple/"},path:"/2014/7/4/a-foray-into-haxl-postgresql-simple/"},{file:{dirname:"old-wordpress-posts",basename:"a-python-flask-crud.md",name:"a-python-flask-crud",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/a-python-flask-crud.md",data:{title:"A Python Flask CRUD",date:"Thu, 06 Dec 2012 08:45:57 +0000",layout:"post",path:"/2012/12/6/a-python-flask-crud/"},path:"/2012/12/6/a-python-flask-crud/"},{file:{dirname:"old-wordpress-posts",basename:"android-listfragment-populated-by-robospice.md",name:"android-listfragment-populated-by-robospice",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/android-listfragment-populated-by-robospice.md",data:{title:"Android ListFragment Populated by RoboSpice",date:"Tue, 28 Jan 2014 15:06:25 +0000",layout:"post",path:"/2014/1/28/android-listfragment-populated-by-robospice/"},path:"/2014/1/28/android-listfragment-populated-by-robospice/"},{file:{dirname:"old-wordpress-posts",basename:"android-robospice-with-googlehttpclient.md",name:"android-robospice-with-googlehttpclient",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/android-robospice-with-googlehttpclient.md",data:{title:"Android RoboSpice with GoogleHttpClient",date:"Mon, 27 Jan 2014 15:54:19 +0000",layout:"post",path:"/2014/1/27/android-robospice-with-googlehttpclient/"},path:"/2014/1/27/android-robospice-with-googlehttpclient/"},{file:{dirname:"old-wordpress-posts",basename:"books-on-my-bookshelf-for-2014.md",name:"books-on-my-bookshelf-for-2014",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/books-on-my-bookshelf-for-2014.md",data:{title:"Books on My Bookshelf for 2014",date:"Wed, 08 Jan 2014 03:00:20 +0000",layout:"post",path:"/2014/1/7/books-on-my-bookshelf-for-2014/"},path:"/2014/1/7/books-on-my-bookshelf-for-2014/"},{file:{dirname:"old-wordpress-posts",basename:"clojure-compojure-jetty-integration.md",name:"clojure-compojure-jetty-integration",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/clojure-compojure-jetty-integration.md",data:{title:"Clojure Compojure Jetty Integration",date:"Mon, 18 Feb 2013 06:04:36 +0000",layout:"post",path:"/2013/2/17/clojure-compojure-jetty-integration/"},path:"/2013/2/17/clojure-compojure-jetty-integration/"},{file:{dirname:"old-wordpress-posts",basename:"common-lisp-on-android-running-the-mocl-android-example.md",name:"common-lisp-on-android-running-the-mocl-android-example",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/common-lisp-on-android-running-the-mocl-android-example.md",data:{title:"Common Lisp on Android: Running the MOCL Android Example",date:"Fri, 10 Jan 2014 19:00:14 +0000",layout:"post",path:"/2014/1/10/common-lisp-on-android-running-the-mocl-android-example/"},path:"/2014/1/10/common-lisp-on-android-running-the-mocl-android-example/"},{file:{dirname:"old-wordpress-posts",basename:"consistant-hash-routing-in-riak-core.md",name:"consistant-hash-routing-in-riak-core",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/consistant-hash-routing-in-riak-core.md",data:{title:"Consistant Hash Routing in Riak Core",date:"Wed, 16 Jan 2013 21:55:29 +0000",layout:"post",path:"/2013/1/16/consistant-hash-routing-in-riak-core/"},path:"/2013/1/16/consistant-hash-routing-in-riak-core/"},{file:{dirname:"old-wordpress-posts",basename:"deploy-haskells-snap-on-heroku.md",name:"deploy-haskells-snap-on-heroku",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/deploy-haskells-snap-on-heroku.md",data:{title:"Deploy Haskell's Snap on Heroku",date:"Sun, 02 Feb 2014 10:36:36 +0000",layout:"post",path:"/2014/2/2/deploy-haskells-snap-on-heroku/"},path:"/2014/2/2/deploy-haskells-snap-on-heroku/"},{file:{dirname:"old-wordpress-posts",basename:"deploying-a-minecraft-server-with-docker-machine.md",name:"deploying-a-minecraft-server-with-docker-machine",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/deploying-a-minecraft-server-with-docker-machine.md",data:{title:"Deploying a Minecraft Server with Docker Machine",date:"Sat, 27 Dec 2014 09:23:28 +0000",layout:"post",path:"/2014/12/27/deploying-a-minecraft-server-with-docker-machine/"},path:"/2014/12/27/deploying-a-minecraft-server-with-docker-machine/"},{file:{dirname:"old-wordpress-posts",basename:"deploying-snap-with-docker.md",name:"deploying-snap-with-docker",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/deploying-snap-with-docker.md",data:{title:"Deploying Snap with Docker",date:"Wed, 15 Oct 2014 20:30:43 +0000",layout:"post",path:"/2014/10/15/deploying-snap-with-docker/"},path:"/2014/10/15/deploying-snap-with-docker/"},{file:{dirname:"old-wordpress-posts",basename:"docker-machine.md",name:"docker-machine",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/docker-machine.md",data:{title:"Docker Machine",date:"Sun, 21 Dec 2014 12:53:09 +0000",layout:"post",featuredImage:"https://images.unsplash.com/photo-1437651025703-2858c944e3eb?q=80&fm=jpg&s=0dcc93030e0301f03e423419c0d6a8f9",path:"/2014/12/21/docker-machine/"},path:"/2014/12/21/docker-machine/"},{file:{dirname:"old-wordpress-posts",basename:"emacs-in-docker.md",name:"emacs-in-docker",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/emacs-in-docker.md",data:{title:"Emacs in Docker",date:"Fri, 17 Oct 2014 21:43:57 +0000",layout:"post",path:"/2014/10/17/emacs-in-docker/"},path:"/2014/10/17/emacs-in-docker/"},{file:{dirname:"old-wordpress-posts",basename:"environment-variables-in-haskell.md",name:"environment-variables-in-haskell",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/environment-variables-in-haskell.md",data:{title:"Environment Variables in Haskell",date:"Thu, 06 Feb 2014 14:39:47 +0000",layout:"post",path:"/2014/2/6/environment-variables-in-haskell/"},path:"/2014/2/6/environment-variables-in-haskell/"},{file:{dirname:"old-wordpress-posts",basename:"flattening-nested-arrays-in-javascript.md",name:"flattening-nested-arrays-in-javascript",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/flattening-nested-arrays-in-javascript.md",data:{title:"Flattening Nested Arrays in JavaScript",date:"Mon, 06 Jan 2014 01:52:04 +0000",layout:"post",path:"/2014/1/5/flattening-nested-arrays-in-javascript/"},path:"/2014/1/5/flattening-nested-arrays-in-javascript/"},{file:{dirname:"old-wordpress-posts",basename:"geospatial-indexing-with-riak-search-2-0-yokozunasolr.md",name:"geospatial-indexing-with-riak-search-2-0-yokozunasolr",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/geospatial-indexing-with-riak-search-2-0-yokozunasolr.md",data:{title:"GeoSpatial Indexing with Riak Search 2.0 (Yokozuna/Solr)",date:"Fri, 07 Feb 2014 21:01:24 +0000",layout:"post",path:"/2014/2/7/geospatial-indexing-with-riak-search-2-0-yokozunasolr/"},path:"/2014/2/7/geospatial-indexing-with-riak-search-2-0-yokozunasolr/"},{file:{dirname:"old-wordpress-posts",basename:"getting-started-with-purescript.md",name:"getting-started-with-purescript",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/getting-started-with-purescript.md",data:{title:"Getting Started with PureScript",date:"Sun, 22 Jun 2014 18:48:27 +0000",layout:"post",path:"/2014/6/22/getting-started-with-purescript/"},path:"/2014/6/22/getting-started-with-purescript/"},{file:{dirname:"old-wordpress-posts",basename:"getting-started-with-robolectric-headless-android-testing-with-vagrant.md",name:"getting-started-with-robolectric-headless-android-testing-with-vagrant",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/getting-started-with-robolectric-headless-android-testing-with-vagrant.md",data:{title:"Getting Started with Robolectric: Headless Android Testing with Vagrant",date:"Sat, 08 Mar 2014 10:41:12 +0000",layout:"post",path:"/2014/3/8/getting-started-with-robolectric-headless-android-testing-with-vagrant/"},path:"/2014/3/8/getting-started-with-robolectric-headless-android-testing-with-vagrant/"},{file:{dirname:"old-wordpress-posts",basename:"getting-started-with-snap-and-user-authentication-part-1.md",name:"getting-started-with-snap-and-user-authentication-part-1",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/getting-started-with-snap-and-user-authentication-part-1.md",data:{title:"Getting Started With Snap (and User Authentication): Part 1",date:"Tue, 07 Jan 2014 07:53:48 +0000",layout:"post",path:"/2014/1/6/getting-started-with-snap-and-user-authentication-part-1/"},path:"/2014/1/6/getting-started-with-snap-and-user-authentication-part-1/"},{file:{dirname:"old-wordpress-posts",basename:"getting-started-with-snap-and-user-authentication-part-2.md",name:"getting-started-with-snap-and-user-authentication-part-2",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/getting-started-with-snap-and-user-authentication-part-2.md",data:{title:"Getting Started With Snap (and User Authentication): Part 2",date:"Fri, 10 Jan 2014 02:23:13 +0000",layout:"post",path:"/2014/1/9/getting-started-with-snap-and-user-authentication-part-2/"},path:"/2014/1/9/getting-started-with-snap-and-user-authentication-part-2/"},{file:{dirname:"old-wordpress-posts",basename:"getting-started-with-snap-and-user-authentication-part-3.md",name:"getting-started-with-snap-and-user-authentication-part-3",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/getting-started-with-snap-and-user-authentication-part-3.md",data:{title:"Getting Started With Snap (and User Authentication): Part 3",date:"Sat, 11 Jan 2014 18:11:28 +0000",layout:"post",path:"/2014/1/11/getting-started-with-snap-and-user-authentication-part-3/"},path:"/2014/1/11/getting-started-with-snap-and-user-authentication-part-3/"},{file:{dirname:"old-wordpress-posts",basename:"ghc-ddump-minimal-imports-and-cpp-error-missing-binary-operator-before-token.md",name:"ghc-ddump-minimal-imports-and-cpp-error-missing-binary-operator-before-token",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/ghc-ddump-minimal-imports-and-cpp-error-missing-binary-operator-before-token.md",data:{title:'GHC -ddump-minimal-imports and CPP error: missing binary operator before token "("',date:"Wed, 05 Mar 2014 14:50:59 +0000",layout:"post",path:"/2014/3/5/ghc-ddump-minimal-imports-and-cpp-error-missing-binary-operator-before-token/"},path:"/2014/3/5/ghc-ddump-minimal-imports-and-cpp-error-missing-binary-operator-before-token/"},{file:{dirname:"old-wordpress-posts",basename:"handling-taps-on-listgrid-items-with-viewpagers-gesture.md",name:"handling-taps-on-listgrid-items-with-viewpagers-gesture",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/handling-taps-on-listgrid-items-with-viewpagers-gesture.md",data:{title:"Handling Taps on List/Grid Items with ViewPagers (GestureDetector)",date:"Wed, 09 Apr 2014 11:05:27 +0000",layout:"post",path:"/2014/4/9/handling-taps-on-listgrid-items-with-viewpagers-gesture/"},path:"/2014/4/9/handling-taps-on-listgrid-items-with-viewpagers-gesture/"},{file:{dirname:"old-wordpress-posts",basename:"in-search-of-a-riak-solr-client-for-haskell.md",name:"in-search-of-a-riak-solr-client-for-haskell",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/in-search-of-a-riak-solr-client-for-haskell.md",data:{title:"In Search of a Riak Solr Client for Haskell",date:"Sat, 01 Feb 2014 09:51:09 +0000",layout:"post",path:"/2014/2/1/in-search-of-a-riak-solr-client-for-haskell/"},path:"/2014/2/1/in-search-of-a-riak-solr-client-for-haskell/"},{file:{dirname:"old-wordpress-posts",basename:"installing-montage-a-riak-sibling-resolution-library-written-in-haskell-on-osx.md",name:"installing-montage-a-riak-sibling-resolution-library-written-in-haskell-on-osx",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/installing-montage-a-riak-sibling-resolution-library-written-in-haskell-on-osx.md",data:{title:"Installing Montage: A Riak sibling resolution library written in Haskell, on OSX",date:"Fri, 26 Jul 2013 04:42:26 +0000",layout:"post",path:"/2013/7/25/installing-montage-a-riak-sibling-resolution-library-written-in-haskell-on-osx/"},path:"/2013/7/25/installing-montage-a-riak-sibling-resolution-library-written-in-haskell-on-osx/"},{file:{dirname:"old-wordpress-posts",basename:"installing-yokozuna-on-osx-lion-with-homebrew.md",name:"installing-yokozuna-on-osx-lion-with-homebrew",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/installing-yokozuna-on-osx-lion-with-homebrew.md",data:{title:"Installing Yokozuna on OSX Lion with Homebrew",date:"Tue, 26 Feb 2013 21:54:52 +0000",layout:"post",path:"/2013/2/26/installing-yokozuna-on-osx-lion-with-homebrew/"},path:"/2013/2/26/installing-yokozuna-on-osx-lion-with-homebrew/"},{file:{dirname:"old-wordpress-posts",basename:"it-is-no-longer-enough-to-know-html.md",name:"it-is-no-longer-enough-to-know-html",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/it-is-no-longer-enough-to-know-html.md",data:{title:'It Is No Longer Enough to "know" HTML',date:"Sun, 28 Sep 2014 13:57:27 +0000",layout:"post",path:"/2014/9/28/it-is-no-longer-enough-to-know-html/"},path:"/2014/9/28/it-is-no-longer-enough-to-know-html/"},{file:{dirname:"old-wordpress-posts",basename:"language-comparisons-0000001.md",name:"language-comparisons-0000001",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/language-comparisons-0000001.md",data:{title:"Language Comparisons 0000001",date:"Wed, 05 Feb 2014 15:53:51 +0000",layout:"post",path:"/2014/2/5/language-comparisons-0000001/"},path:"/2014/2/5/language-comparisons-0000001/"},{file:{dirname:"old-wordpress-posts",basename:"mocl-for-android-part-2-drakma.md",name:"mocl-for-android-part-2-drakma",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/mocl-for-android-part-2-drakma.md",data:{title:"MOCL for Android Part 2: Drakma",date:"Thu, 16 Jan 2014 11:59:30 +0000",layout:"post",path:"/2014/1/16/mocl-for-android-part-2-drakma/"},path:"/2014/1/16/mocl-for-android-part-2-drakma/"},{file:{dirname:"old-wordpress-posts",basename:"quick-tip-haskell-list-comprehensions.md",name:"quick-tip-haskell-list-comprehensions",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/quick-tip-haskell-list-comprehensions.md",data:{title:"Quick Tip: Haskell List Comprehensions",date:"Fri, 08 Feb 2013 19:56:17 +0000",layout:"post",path:"/2013/2/8/quick-tip-haskell-list-comprehensions/"},path:"/2013/2/8/quick-tip-haskell-list-comprehensions/"},{file:{dirname:"old-wordpress-posts",basename:"quick-tip-javascript-partially-applied-functions.md",name:"quick-tip-javascript-partially-applied-functions",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/quick-tip-javascript-partially-applied-functions.md",data:{title:"Quick Tip: JavaScript Partially Applied Functions",date:"Fri, 08 Feb 2013 18:23:06 +0000",layout:"post",path:"/2013/2/8/quick-tip-javascript-partially-applied-functions/"},path:"/2013/2/8/quick-tip-javascript-partially-applied-functions/"},{file:{dirname:"old-wordpress-posts",basename:"riak-core-myappping.md",name:"riak-core-myappping",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/riak-core-myappping.md",data:{title:"Riak Core: myapp:ping().",date:"Sun, 13 Jan 2013 23:45:06 +0000",layout:"post",path:"/2013/1/13/riak-core-myappping/"},path:"/2013/1/13/riak-core-myappping/"},{file:{dirname:"old-wordpress-posts",basename:"riak-core-quickstart.md",name:"riak-core-quickstart",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/riak-core-quickstart.md",data:{title:"Riak Core: Quickstart",date:"Sun, 13 Jan 2013 23:30:49 +0000",layout:"post",path:"/2013/1/13/riak-core-quickstart/"},path:"/2013/1/13/riak-core-quickstart/"},{file:{dirname:"old-wordpress-posts",basename:"riak-core-unique-identifiers.md",name:"riak-core-unique-identifiers",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/riak-core-unique-identifiers.md",data:{title:"Riak Core: Unique Identifiers",date:"Sat, 12 Jan 2013 23:38:01 +0000",layout:"post",path:"/2013/1/12/riak-core-unique-identifiers/"},path:"/2013/1/12/riak-core-unique-identifiers/"},{file:{dirname:"old-wordpress-posts",basename:"riak-core-up-and-running.md",name:"riak-core-up-and-running",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/riak-core-up-and-running.md",data:{title:"Riak Core: Up and Running",
date:"Sun, 13 Jan 2013 07:21:44 +0000",layout:"post",path:"/2013/1/12/riak-core-up-and-running/"},path:"/2013/1/12/riak-core-up-and-running/"},{file:{dirname:"old-wordpress-posts",basename:"riak-haproxy-and-haskell-multimachine-vagrant-on-osx.md",name:"riak-haproxy-and-haskell-multimachine-vagrant-on-osx",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/riak-haproxy-and-haskell-multimachine-vagrant-on-osx.md",data:{title:"Riak, HAProxy and Haskell: MultiMachine Vagrant on OSX",date:"Wed, 12 Feb 2014 17:25:08 +0000",layout:"post",path:"/2014/2/12/riak-haproxy-and-haskell-multimachine-vagrant-on-osx/"},path:"/2014/2/12/riak-haproxy-and-haskell-multimachine-vagrant-on-osx/"},{file:{dirname:"old-wordpress-posts",basename:"scaffolding-a-clojurecompojure-webapp-for-heroku.md",name:"scaffolding-a-clojurecompojure-webapp-for-heroku",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/scaffolding-a-clojurecompojure-webapp-for-heroku.md",data:{title:"Scaffolding a Clojure/Compojure Webapp for Heroku",date:"Wed, 15 Jan 2014 18:32:15 +0000",layout:"post",path:"/2014/1/15/scaffolding-a-clojurecompojure-webapp-for-heroku/"},path:"/2014/1/15/scaffolding-a-clojurecompojure-webapp-for-heroku/"},{file:{dirname:"old-wordpress-posts",basename:"snap-postgres-and-heist-displaying-data-from-queries.md",name:"snap-postgres-and-heist-displaying-data-from-queries",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/snap-postgres-and-heist-displaying-data-from-queries.md",data:{title:"Snap, Postgres and Heist: Displaying Data from Queries",date:"Tue, 08 Apr 2014 11:02:10 +0000",layout:"post",path:"/2014/4/8/snap-postgres-and-heist-displaying-data-from-queries/"},path:"/2014/4/8/snap-postgres-and-heist-displaying-data-from-queries/"},{file:{dirname:"old-wordpress-posts",basename:"stm-containers-benchmarks.md",name:"stm-containers-benchmarks",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/stm-containers-benchmarks.md",data:{title:"STM-Containers Benchmarks",date:"Sun, 29 Jun 2014 11:58:36 +0000",layout:"post",path:"/2014/6/29/stm-containers-benchmarks/"},path:"/2014/6/29/stm-containers-benchmarks/"},{file:{dirname:"old-wordpress-posts",basename:"using-databases-inside-of-snaplet-auth-restricted-routes.md",name:"using-databases-inside-of-snaplet-auth-restricted-routes",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/using-databases-inside-of-snaplet-auth-restricted-routes.md",data:{title:"Using Databases inside of Snaplet Auth Restricted Routes",date:"Thu, 09 Jan 2014 08:39:39 +0000",layout:"post",path:"/2014/1/9/using-databases-inside-of-snaplet-auth-restricted-routes/"},path:"/2014/1/9/using-databases-inside-of-snaplet-auth-restricted-routes/"},{file:{dirname:"old-wordpress-posts",basename:"using-the-docker-haskell-official-image.md",name:"using-the-docker-haskell-official-image",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/using-the-docker-haskell-official-image.md",data:{title:"Using the Docker-Haskell Official Image",date:"Sun, 23 Nov 2014 10:55:18 +0000",layout:"post",path:"/2014/11/23/using-the-docker-haskell-official-image/"},path:"/2014/11/23/using-the-docker-haskell-official-image/"},{file:{dirname:"old-wordpress-posts",basename:"vagrant-can-not-ssh-into-the-box.md",name:"vagrant-can-not-ssh-into-the-box",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/vagrant-can-not-ssh-into-the-box.md",data:{title:"Vagrant Can Not SSH Into the Box",date:"Fri, 12 Jul 2013 18:48:58 +0000",layout:"post",path:"/2013/7/12/vagrant-can-not-ssh-into-the-box/"},path:"/2013/7/12/vagrant-can-not-ssh-into-the-box/"},{file:{dirname:"old-wordpress-posts",basename:"working-with-snap-1-0.md",name:"working-with-snap-1-0",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/working-with-snap-1-0.md",data:{title:"Working with Snap 1.0",date:"Sun, 05 Oct 2014 10:48:56 +0000",layout:"post",path:"/2014/10/5/working-with-snap-1-0/"},path:"/2014/10/5/working-with-snap-1-0/"},{file:{dirname:"old-wordpress-posts",basename:"writing-a-first-emacs-elisp-function.md",name:"writing-a-first-emacs-elisp-function",extname:".md",extSegments:[".md"],ext:"md"},requirePath:"old-wordpress-posts/writing-a-first-emacs-elisp-function.md",data:{title:"Writing A First Emacs Elisp Function",date:"Tue, 04 Feb 2014 13:48:37 +0000",layout:"post",path:"/2014/2/4/writing-a-first-emacs-elisp-function/"},path:"/2014/2/4/writing-a-first-emacs-elisp-function/"}]}},function(e,n,s){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},l=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),i=function(e,n,s){for(var t=!0;t;){var a=e,r=n,o=s;l=p=i=void 0,t=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,r);if(void 0!==l){if("value"in l)return l.value;var i=l.get;return void 0===i?void 0:i.call(o)}var p=Object.getPrototypeOf(a);if(null===p)return void 0;e=p,n=r,s=o,t=!0}},p=s(2),c=t(p),u=s(255),h=t(u),d=s(257),f=t(d),m=(s(259),s(261)),g=t(m),y=s(266),v=t(y);s(268);var b=s(269),j=t(b),w=function(e){function n(){a(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return r(n,e),l(n,[{key:"render",value:function(){var e=this.props.page.data,n=this.props.config;console.log(e);var s=void 0;return e.featuredImage&&(s=c["default"].createElement("div",null,c["default"].createElement("div",{style:{background:"linear-gradient(\n                      rgba(0, 0, 0, 0.45),\n                      rgba(0, 0, 0, 0.45)\n                            ),\nurl("+e.featuredImage+") no-repeat",backgroundSize:"cover"},className:j["default"].feature}),c["default"].createElement("div",{className:j["default"].featureTextWrapper},c["default"].createElement("div",{className:j["default"].featureTextBG},c["default"].createElement("h1",{className:j["default"].featureText},e.title))))),c["default"].createElement(f["default"],{title:e.title+" | "+this.props.config.blogTitle},c["default"].createElement("div",null,s,c["default"].createElement("div",{className:j["default"].row},c["default"].createElement("div",{className:j["default"].content},c["default"].createElement("div",{className:"markdown"},c["default"].createElement("div",{dangerouslySetInnerHTML:{__html:e.body},className:j["default"].contentRow}),c["default"].createElement("em",null,"Posted ",h["default"](e.date).format("MMMM D, YYYY")),c["default"].createElement("hr",null),c["default"].createElement(g["default"],o({post:e},this.props)),c["default"].createElement(v["default"],{authorName:n.authorName}))),c["default"].createElement("div",{className:j["default"].sidebar}))))}}]),n}(p.Component);n["default"]=w,e.exports=n["default"]},function(e,n,s){(function(e){//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(n,s){e.exports=s()}(this,function(){"use strict";function n(){return As.apply(null,arguments)}function s(e){As=e}function t(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,n){var s,t=[];for(s=0;s<e.length;++s)t.push(n(e[s],s));return t}function o(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function l(e,n){for(var s in n)o(n,s)&&(e[s]=n[s]);return o(n,"toString")&&(e.toString=n.toString),o(n,"valueOf")&&(e.valueOf=n.valueOf),e}function i(e,n,s,t){return Re(e,n,s,t,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=p()),e._pf}function u(e){if(null==e._isValid){var n=c(e);e._isValid=!(isNaN(e._d.getTime())||!(n.overflow<0)||n.empty||n.invalidMonth||n.invalidWeekday||n.nullInput||n.invalidFormat||n.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour)}return e._isValid}function h(e){var n=i(NaN);return null!=e?l(c(n),e):c(n).userInvalidated=!0,n}function d(e,n){var s,t,a;if("undefined"!=typeof n._isAMomentObject&&(e._isAMomentObject=n._isAMomentObject),"undefined"!=typeof n._i&&(e._i=n._i),"undefined"!=typeof n._f&&(e._f=n._f),"undefined"!=typeof n._l&&(e._l=n._l),"undefined"!=typeof n._strict&&(e._strict=n._strict),"undefined"!=typeof n._tzm&&(e._tzm=n._tzm),"undefined"!=typeof n._isUTC&&(e._isUTC=n._isUTC),"undefined"!=typeof n._offset&&(e._offset=n._offset),"undefined"!=typeof n._pf&&(e._pf=c(n)),"undefined"!=typeof n._locale&&(e._locale=n._locale),Ns.length>0)for(s in Ns)t=Ns[s],a=n[t],"undefined"!=typeof a&&(e[t]=a);return e}function f(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Fs===!1&&(Fs=!0,n.updateOffset(this),Fs=!1)}function m(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function y(e){var n=+e,s=0;return 0!==n&&isFinite(n)&&(s=g(n)),s}function v(e,n,s){var t,a=Math.min(e.length,n.length),r=Math.abs(e.length-n.length),o=0;for(t=0;a>t;t++)(s&&e[t]!==n[t]||!s&&y(e[t])!==y(n[t]))&&o++;return o+r}function b(){}function j(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var n,s,t,a,r=0;r<e.length;){for(a=j(e[r]).split("-"),n=a.length,s=j(e[r+1]),s=s?s.split("-"):null;n>0;){if(t=k(a.slice(0,n).join("-")))return t;if(s&&s.length>=n&&v(a,s,!0)>=n-1)break;n--}r++}return null}function k(n){var s=null;if(!Ls[n]&&"undefined"!=typeof e&&e&&e.exports)try{s=qs._abbr,!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),_(s)}catch(t){}return Ls[n]}function _(e,n){var s;return e&&(s="undefined"==typeof n?S(e):x(e,n),s&&(qs=s)),qs._abbr}function x(e,n){return null!==n?(n.abbr=e,Ls[e]=Ls[e]||new b,Ls[e].set(n),_(e),Ls[e]):(delete Ls[e],null)}function S(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return qs;if(!t(e)){if(n=k(e))return n;e=[e]}return w(e)}function C(e,n){var s=e.toLowerCase();Us[s]=Us[s+"s"]=Us[n]=e}function T(e){return"string"==typeof e?Us[e]||Us[e.toLowerCase()]:void 0}function D(e){var n,s,t={};for(s in e)o(e,s)&&(n=T(s),n&&(t[n]=e[s]));return t}function R(e,s){return function(t){return null!=t?(E(this,e,t),n.updateOffset(this,s),this):I(this,e)}}function I(e,n){return e._d["get"+(e._isUTC?"UTC":"")+n]()}function E(e,n,s){return e._d["set"+(e._isUTC?"UTC":"")+n](s)}function O(e,n){var s;if("object"==typeof e)for(s in e)this.set(s,e[s]);else if(e=T(e),"function"==typeof this[e])return this[e](n);return this}function P(e,n,s){var t=""+Math.abs(e),a=n-t.length,r=e>=0;return(r?s?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+t}function M(e,n,s,t){var a=t;"string"==typeof t&&(a=function(){return this[t]()}),e&&(Ws[e]=a),n&&(Ws[n[0]]=function(){return P(a.apply(this,arguments),n[1],n[2])}),s&&(Ws[s]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function A(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var n,s,t=e.match(zs);for(n=0,s=t.length;s>n;n++)Ws[t[n]]?t[n]=Ws[t[n]]:t[n]=A(t[n]);return function(a){var r="";for(n=0;s>n;n++)r+=t[n]instanceof Function?t[n].call(a,e):t[n];return r}}function N(e,n){return e.isValid()?(n=F(n,e.localeData()),Hs[n]=Hs[n]||q(n),Hs[n](e)):e.localeData().invalidDate()}function F(e,n){function s(e){return n.longDateFormat(e)||e}var t=5;for(Bs.lastIndex=0;t>=0&&Bs.test(e);)e=e.replace(Bs,s),Bs.lastIndex=0,t-=1;return e}function L(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function U(e,n,s){rt[e]=L(n)?n:function(e){return e&&s?s:n}}function z(e,n){return o(rt,e)?rt[e](n._strict,n._locale):new RegExp(B(e))}function B(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,t,a){return n||s||t||a}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(e,n){var s,t=n;for("string"==typeof e&&(e=[e]),"number"==typeof n&&(t=function(e,s){s[n]=y(e)}),s=0;s<e.length;s++)ot[e[s]]=t}function W(e,n){H(e,function(e,s,t,a){t._w=t._w||{},n(e,t._w,t,a)})}function V(e,n,s){null!=n&&o(ot,e)&&ot[e](n,s._a,s,e)}function G(e,n){return new Date(Date.UTC(e,n+1,0)).getUTCDate()}function Y(e){return this._months[e.month()]}function K(e){return this._monthsShort[e.month()]}function J(e,n,s){var t,a,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),t=0;12>t;t++){if(a=i([2e3,t]),s&&!this._longMonthsParse[t]&&(this._longMonthsParse[t]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[t]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),s||this._monthsParse[t]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),s&&"MMMM"===n&&this._longMonthsParse[t].test(e))return t;if(s&&"MMM"===n&&this._shortMonthsParse[t].test(e))return t;if(!s&&this._monthsParse[t].test(e))return t}}function $(e,n){var s;return"string"==typeof n&&(n=e.localeData().monthsParse(n),"number"!=typeof n)?e:(s=Math.min(e.date(),G(e.year(),n)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](n,s),e)}function X(e){return null!=e?($(this,e),n.updateOffset(this,!0),this):I(this,"Month")}function Q(){return G(this.year(),this.month())}function Z(e){var n,s=e._a;return s&&-2===c(e).overflow&&(n=s[it]<0||s[it]>11?it:s[pt]<1||s[pt]>G(s[lt],s[it])?pt:s[ct]<0||s[ct]>24||24===s[ct]&&(0!==s[ut]||0!==s[ht]||0!==s[dt])?ct:s[ut]<0||s[ut]>59?ut:s[ht]<0||s[ht]>59?ht:s[dt]<0||s[dt]>999?dt:-1,c(e)._overflowDayOfYear&&(lt>n||n>pt)&&(n=pt),c(e).overflow=n),e}function ee(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function ne(e,n){var s=!0;return l(function(){return s&&(ee(e+"\n"+(new Error).stack),s=!1),n.apply(this,arguments)},n)}function se(e,n){gt[e]||(ee(n),gt[e]=!0)}function te(e){var n,s,t=e._i,a=yt.exec(t);if(a){for(c(e).iso=!0,n=0,s=vt.length;s>n;n++)if(vt[n][1].exec(t)){e._f=vt[n][0];break}for(n=0,s=bt.length;s>n;n++)if(bt[n][1].exec(t)){e._f+=(a[6]||" ")+bt[n][0];break}t.match(st)&&(e._f+="Z"),ke(e)}else e._isValid=!1}function ae(e){var s=jt.exec(e._i);return null!==s?void(e._d=new Date(+s[1])):(te(e),void(e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e))))}function re(e,n,s,t,a,r,o){var l=new Date(e,n,s,t,a,r,o);return 1970>e&&l.setFullYear(e),l}function oe(e){var n=new Date(Date.UTC.apply(null,arguments));return 1970>e&&n.setUTCFullYear(e),n}function le(e){return ie(e)?366:365}function ie(e){return e%4===0&&e%100!==0||e%400===0}function pe(){return ie(this.year())}function ce(e,n,s){var t,a=s-n,r=s-e.day();return r>a&&(r-=7),a-7>r&&(r+=7),t=Ie(e).add(r,"d"),{week:Math.ceil(t.dayOfYear()/7),year:t.year()}}function ue(e){return ce(e,this._week.dow,this._week.doy).week}function he(){return this._week.dow}function de(){return this._week.doy}function fe(e){var n=this.localeData().week(this);return null==e?n:this.add(7*(e-n),"d")}function me(e){var n=ce(this,1,4).week;return null==e?n:this.add(7*(e-n),"d")}function ge(e,n,s,t,a){var r,o=6+a-t,l=oe(e,0,1+o),i=l.getUTCDay();return a>i&&(i+=7),s=null!=s?1*s:a,r=1+o+7*(n-1)-i+s,{year:r>0?e:e-1,dayOfYear:r>0?r:le(e-1)+r}}function ye(e){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?n:this.add(e-n,"d")}function ve(e,n,s){return null!=e?e:null!=n?n:s}function be(e){var n=new Date;return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function je(e){var n,s,t,a,r=[];if(!e._d){for(t=be(e),e._w&&null==e._a[pt]&&null==e._a[it]&&we(e),e._dayOfYear&&(a=ve(e._a[lt],t[lt]),e._dayOfYear>le(a)&&(c(e)._overflowDayOfYear=!0),s=oe(a,0,e._dayOfYear),e._a[it]=s.getUTCMonth(),e._a[pt]=s.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=r[n]=t[n];for(;7>n;n++)e._a[n]=r[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[ct]&&0===e._a[ut]&&0===e._a[ht]&&0===e._a[dt]&&(e._nextDay=!0,e._a[ct]=0),e._d=(e._useUTC?oe:re).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ct]=24)}}function we(e){var n,s,t,a,r,o,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(r=1,o=4,s=ve(n.GG,e._a[lt],ce(Ie(),1,4).year),t=ve(n.W,1),a=ve(n.E,1)):(r=e._locale._week.dow,o=e._locale._week.doy,s=ve(n.gg,e._a[lt],ce(Ie(),r,o).year),t=ve(n.w,1),null!=n.d?(a=n.d,r>a&&++t):a=null!=n.e?n.e+r:r),l=ge(s,t,a,o,r),e._a[lt]=l.year,e._dayOfYear=l.dayOfYear}function ke(e){if(e._f===n.ISO_8601)return void te(e);e._a=[],c(e).empty=!0;var s,t,a,r,o,l=""+e._i,i=l.length,p=0;for(a=F(e._f,e._locale).match(zs)||[],s=0;s<a.length;s++)r=a[s],t=(l.match(z(r,e))||[])[0],t&&(o=l.substr(0,l.indexOf(t)),o.length>0&&c(e).unusedInput.push(o),l=l.slice(l.indexOf(t)+t.length),p+=t.length),Ws[r]?(t?c(e).empty=!1:c(e).unusedTokens.push(r),V(r,t,e)):e._strict&&!t&&c(e).unusedTokens.push(r);c(e).charsLeftOver=i-p,l.length>0&&c(e).unusedInput.push(l),c(e).bigHour===!0&&e._a[ct]<=12&&e._a[ct]>0&&(c(e).bigHour=void 0),e._a[ct]=_e(e._locale,e._a[ct],e._meridiem),je(e),Z(e)}function _e(e,n,s){var t;return null==s?n:null!=e.meridiemHour?e.meridiemHour(n,s):null!=e.isPM?(t=e.isPM(s),t&&12>n&&(n+=12),t||12!==n||(n=0),n):n}function xe(e){var n,s,t,a,r;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,n=d({},e),null!=e._useUTC&&(n._useUTC=e._useUTC),n._f=e._f[a],ke(n),u(n)&&(r+=c(n).charsLeftOver,r+=10*c(n).unusedTokens.length,c(n).score=r,(null==t||t>r)&&(t=r,s=n));l(e,s||n)}function Se(e){if(!e._d){var n=D(e._i);e._a=[n.year,n.month,n.day||n.date,n.hour,n.minute,n.second,n.millisecond],je(e)}}function Ce(e){var n=new f(Z(Te(e)));return n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function Te(e){var n=e._i,s=e._f;return e._locale=e._locale||S(e._l),null===n||void 0===s&&""===n?h({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),m(n)?new f(Z(n)):(t(s)?xe(e):s?ke(e):a(n)?e._d=n:De(e),e))}function De(e){var s=e._i;void 0===s?e._d=new Date:a(s)?e._d=new Date(+s):"string"==typeof s?ae(e):t(s)?(e._a=r(s.slice(0),function(e){return parseInt(e,10)}),je(e)):"object"==typeof s?Se(e):"number"==typeof s?e._d=new Date(s):n.createFromInputFallback(e)}function Re(e,n,s,t,a){var r={};return"boolean"==typeof s&&(t=s,s=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=a,r._l=s,r._i=e,r._f=n,r._strict=t,Ce(r)}function Ie(e,n,s,t){return Re(e,n,s,t,!1)}function Ee(e,n){var s,a;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return Ie();for(s=n[0],a=1;a<n.length;++a)(!n[a].isValid()||n[a][e](s))&&(s=n[a]);return s}function Oe(){var e=[].slice.call(arguments,0);return Ee("isBefore",e)}function Pe(){var e=[].slice.call(arguments,0);return Ee("isAfter",e)}function Me(e){var n=D(e),s=n.year||0,t=n.quarter||0,a=n.month||0,r=n.week||0,o=n.day||0,l=n.hour||0,i=n.minute||0,p=n.second||0,c=n.millisecond||0;this._milliseconds=+c+1e3*p+6e4*i+36e5*l,this._days=+o+7*r,this._months=+a+3*t+12*s,this._data={},this._locale=S(),this._bubble()}function Ae(e){return e instanceof Me}function qe(e,n){M(e,0,0,function(){var e=this.utcOffset(),s="+";return 0>e&&(e=-e,s="-"),s+P(~~(e/60),2)+n+P(~~e%60,2)})}function Ne(e){var n=(e||"").match(st)||[],s=n[n.length-1]||[],t=(s+"").match(St)||["-",0,0],a=+(60*t[1])+y(t[2]);return"+"===t[0]?a:-a}function Fe(e,s){var t,r;return s._isUTC?(t=s.clone(),r=(m(e)||a(e)?+e:+Ie(e))-+t,t._d.setTime(+t._d+r),n.updateOffset(t,!1),t):Ie(e).local()}function Le(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ue(e,s){var t,a=this._offset||0;return null!=e?("string"==typeof e&&(e=Ne(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&s&&(t=Le(this)),this._offset=e,this._isUTC=!0,null!=t&&this.add(t,"m"),a!==e&&(!s||this._changeInProgress?sn(this,Xe(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:Le(this)}function ze(e,n){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,n),this):-this.utcOffset()}function Be(e){return this.utcOffset(0,e)}function He(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Le(this),"m")),this}function We(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ne(this._i)),this}function Ve(e){return e=e?Ie(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Ge(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ye(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(d(e,this),e=Te(e),e._a){var n=e._isUTC?i(e._a):Ie(e._a);this._isDSTShifted=this.isValid()&&v(e._a,n.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ke(){return!this._isUTC}function Je(){return this._isUTC}function $e(){return this._isUTC&&0===this._offset}function Xe(e,n){var s,t,a,r=e,l=null;return Ae(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},n?r[n]=e:r.milliseconds=e):(l=Ct.exec(e))?(s="-"===l[1]?-1:1,r={y:0,d:y(l[pt])*s,h:y(l[ct])*s,m:y(l[ut])*s,s:y(l[ht])*s,ms:y(l[dt])*s}):(l=Tt.exec(e))?(s="-"===l[1]?-1:1,r={y:Qe(l[2],s),M:Qe(l[3],s),d:Qe(l[4],s),h:Qe(l[5],s),m:Qe(l[6],s),s:Qe(l[7],s),w:Qe(l[8],s)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=en(Ie(r.from),Ie(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),t=new Me(r),Ae(e)&&o(e,"_locale")&&(t._locale=e._locale),t}function Qe(e,n){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*n}function Ze(e,n){var s={milliseconds:0,months:0};return s.months=n.month()-e.month()+12*(n.year()-e.year()),e.clone().add(s.months,"M").isAfter(n)&&--s.months,s.milliseconds=+n-+e.clone().add(s.months,"M"),s}function en(e,n){var s;return n=Fe(n,e),e.isBefore(n)?s=Ze(e,n):(s=Ze(n,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s}function nn(e,n){return function(s,t){var a,r;return null===t||isNaN(+t)||(se(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period)."),r=s,s=t,t=r),s="string"==typeof s?+s:s,a=Xe(s,t),sn(this,a,e),this}}function sn(e,s,t,a){var r=s._milliseconds,o=s._days,l=s._months;a=null==a?!0:a,r&&e._d.setTime(+e._d+r*t),o&&E(e,"Date",I(e,"Date")+o*t),l&&$(e,I(e,"Month")+l*t),a&&n.updateOffset(e,o||l)}function tn(e,n){var s=e||Ie(),t=Fe(s,this).startOf("day"),a=this.diff(t,"days",!0),r=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(n&&n[r]||this.localeData().calendar(r,this,Ie(s)))}function an(){return new f(this)}function rn(e,n){var s;return n=T("undefined"!=typeof n?n:"millisecond"),"millisecond"===n?(e=m(e)?e:Ie(e),+this>+e):(s=m(e)?+e:+Ie(e),s<+this.clone().startOf(n))}function on(e,n){var s;return n=T("undefined"!=typeof n?n:"millisecond"),"millisecond"===n?(e=m(e)?e:Ie(e),+e>+this):(s=m(e)?+e:+Ie(e),+this.clone().endOf(n)<s)}function ln(e,n,s){return this.isAfter(e,s)&&this.isBefore(n,s)}function pn(e,n){var s;return n=T(n||"millisecond"),"millisecond"===n?(e=m(e)?e:Ie(e),+this===+e):(s=+Ie(e),+this.clone().startOf(n)<=s&&s<=+this.clone().endOf(n))}function cn(e,n,s){var t,a,r=Fe(e,this),o=6e4*(r.utcOffset()-this.utcOffset());return n=T(n),"year"===n||"month"===n||"quarter"===n?(a=un(this,r),"quarter"===n?a/=3:"year"===n&&(a/=12)):(t=this-r,a="second"===n?t/1e3:"minute"===n?t/6e4:"hour"===n?t/36e5:"day"===n?(t-o)/864e5:"week"===n?(t-o)/6048e5:t),s?a:g(a)}function un(e,n){var s,t,a=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(a,"months");return 0>n-r?(s=e.clone().add(a-1,"months"),t=(n-r)/(r-s)):(s=e.clone().add(a+1,"months"),t=(n-r)/(s-r)),-(a+t)}function hn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fn(e){var s=N(this,e||n.defaultFormat);return this.localeData().postformat(s)}function mn(e,n){return this.isValid()?Xe({to:this,from:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function gn(e){return this.from(Ie(),e)}function yn(e,n){return this.isValid()?Xe({from:this,to:e}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function vn(e){return this.to(Ie(),e)}function bn(e){var n;return void 0===e?this._locale._abbr:(n=S(e),null!=n&&(this._locale=n),this)}function jn(){return this._locale}function wn(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function kn(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function _n(){return+this._d-6e4*(this._offset||0)}function xn(){return Math.floor(+this/1e3)}function Sn(){return this._offset?new Date(+this):this._d}function Cn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Dn(){return u(this)}function Rn(){return l({},c(this))}function In(){return c(this).overflow}function En(e,n){M(0,[e,e.length],0,n)}function On(e,n,s){return ce(Ie([e,11,31+n-s]),n,s).week}function Pn(e){var n=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?n:this.add(e-n,"y")}function Mn(e){var n=ce(this,1,4).year;return null==e?n:this.add(e-n,"y")}function An(){return On(this.year(),1,4)}function qn(){var e=this.localeData()._week;return On(this.year(),e.dow,e.doy)}function Nn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Fn(e,n){return"string"!=typeof e?e:isNaN(e)?(e=n.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ln(e){return this._weekdays[e.day()]}function Un(e){return this._weekdaysShort[e.day()]}function zn(e){return this._weekdaysMin[e.day()]}function Bn(e){var n,s,t;for(this._weekdaysParse=this._weekdaysParse||[],n=0;7>n;n++)if(this._weekdaysParse[n]||(s=Ie([2e3,1]).day(n),t="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(t.replace(".",""),"i")),this._weekdaysParse[n].test(e))return n}function Hn(e){var n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Fn(e,this.localeData()),this.add(e-n,"d")):n}function Wn(e){var n=(this.day()+7-this.localeData()._week.dow)%7;return null==e?n:this.add(e-n,"d")}function Vn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Gn(e,n){M(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)})}function Yn(e,n){return n._meridiemParse}function Kn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Jn(e,n,s){return e>11?s?"pm":"PM":s?"am":"AM"}function $n(e,n){n[dt]=y(1e3*("0."+e))}function Xn(){return this._isUTC?"UTC":""}function Qn(){return this._isUTC?"Coordinated Universal Time":""}function Zn(e){return Ie(1e3*e)}function es(){return Ie.apply(null,arguments).parseZone()}function ns(e,n,s){var t=this._calendar[e];return"function"==typeof t?t.call(n,s):t}function ss(e){var n=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return n||!s?n:(this._longDateFormat[e]=s.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function ts(){return this._invalidDate}function as(e){return this._ordinal.replace("%d",e)}function rs(e){return e}function os(e,n,s,t){var a=this._relativeTime[s];return"function"==typeof a?a(e,n,s,t):a.replace(/%d/i,e)}function ls(e,n){var s=this._relativeTime[e>0?"future":"past"];return"function"==typeof s?s(n):s.replace(/%s/i,n)}function is(e){var n,s;for(s in e)n=e[s],"function"==typeof n?this[s]=n:this["_"+s]=n;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ps(e,n,s,t){var a=S(),r=i().set(t,n);return a[s](r,e)}function cs(e,n,s,t,a){if("number"==typeof e&&(n=e,e=void 0),e=e||"",null!=n)return ps(e,n,s,a);var r,o=[];for(r=0;t>r;r++)o[r]=ps(e,r,s,a);return o}function us(e,n){return cs(e,n,"months",12,"month")}function hs(e,n){return cs(e,n,"monthsShort",12,"month")}function ds(e,n){return cs(e,n,"weekdays",7,"day")}function fs(e,n){return cs(e,n,"weekdaysShort",7,"day")}function ms(e,n){return cs(e,n,"weekdaysMin",7,"day")}function gs(){var e=this._data;return this._milliseconds=$t(this._milliseconds),this._days=$t(this._days),this._months=$t(this._months),e.milliseconds=$t(e.milliseconds),e.seconds=$t(e.seconds),e.minutes=$t(e.minutes),e.hours=$t(e.hours),e.months=$t(e.months),e.years=$t(e.years),this}function ys(e,n,s,t){var a=Xe(n,s);return e._milliseconds+=t*a._milliseconds,e._days+=t*a._days,e._months+=t*a._months,e._bubble()}function vs(e,n){return ys(this,e,n,1)}function bs(e,n){return ys(this,e,n,-1)}function js(e){return 0>e?Math.floor(e):Math.ceil(e)}function ws(){var e,n,s,t,a,r=this._milliseconds,o=this._days,l=this._months,i=this._data;return r>=0&&o>=0&&l>=0||0>=r&&0>=o&&0>=l||(r+=864e5*js(_s(l)+o),o=0,l=0),i.milliseconds=r%1e3,e=g(r/1e3),i.seconds=e%60,n=g(e/60),i.minutes=n%60,s=g(n/60),i.hours=s%24,o+=g(s/24),a=g(ks(o)),l+=a,o-=js(_s(a)),t=g(l/12),l%=12,i.days=o,i.months=l,i.years=t,this}function ks(e){return 4800*e/146097}function _s(e){return 146097*e/4800}function xs(e){var n,s,t=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return n=this._days+t/864e5,s=this._months+ks(n),"month"===e?s:s/12;switch(n=this._days+Math.round(_s(this._months)),e){case"week":return n/7+t/6048e5;case"day":return n+t/864e5;case"hour":return 24*n+t/36e5;case"minute":return 1440*n+t/6e4;case"second":return 86400*n+t/1e3;case"millisecond":return Math.floor(864e5*n)+t;default:throw new Error("Unknown unit "+e)}}function Ss(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Cs(e){return function(){return this.as(e)}}function Ts(e){return e=T(e),this[e+"s"]()}function Ds(e){return function(){return this._data[e]}}function Rs(){return g(this.days()/7)}function Is(e,n,s,t,a){return a.relativeTime(n||1,!!s,e,t)}function Es(e,n,s){var t=Xe(e).abs(),a=ha(t.as("s")),r=ha(t.as("m")),o=ha(t.as("h")),l=ha(t.as("d")),i=ha(t.as("M")),p=ha(t.as("y")),c=a<da.s&&["s",a]||1===r&&["m"]||r<da.m&&["mm",r]||1===o&&["h"]||o<da.h&&["hh",o]||1===l&&["d"]||l<da.d&&["dd",l]||1===i&&["M"]||i<da.M&&["MM",i]||1===p&&["y"]||["yy",p];return c[2]=n,c[3]=+e>0,c[4]=s,Is.apply(null,c)}function Os(e,n){return void 0===da[e]?!1:void 0===n?da[e]:(da[e]=n,!0)}function Ps(e){var n=this.localeData(),s=Es(this,!e,n);return e&&(s=n.pastFuture(+this,s)),n.postformat(s)}function Ms(){var e,n,s,t=fa(this._milliseconds)/1e3,a=fa(this._days),r=fa(this._months);e=g(t/60),n=g(e/60),t%=60,e%=60,s=g(r/12),r%=12;var o=s,l=r,i=a,p=n,c=e,u=t,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(o?o+"Y":"")+(l?l+"M":"")+(i?i+"D":"")+(p||c||u?"T":"")+(p?p+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var As,qs,Ns=n.momentProperties=[],Fs=!1,Ls={},Us={},zs=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Bs=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hs={},Ws={},Vs=/\d/,Gs=/\d\d/,Ys=/\d{3}/,Ks=/\d{4}/,Js=/[+-]?\d{6}/,$s=/\d\d?/,Xs=/\d{1,3}/,Qs=/\d{1,4}/,Zs=/[+-]?\d{1,6}/,et=/\d+/,nt=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,tt=/[+-]?\d+(\.\d{1,3})?/,at=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,rt={},ot={},lt=0,it=1,pt=2,ct=3,ut=4,ht=5,dt=6;M("M",["MM",2],"Mo",function(){return this.month()+1}),M("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),M("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),U("M",$s),U("MM",$s,Gs),U("MMM",at),U("MMMM",at),H(["M","MM"],function(e,n){n[it]=y(e)-1}),H(["MMM","MMMM"],function(e,n,s,t){var a=s._locale.monthsParse(e,t,s._strict);null!=a?n[it]=a:c(s).invalidMonth=e});var ft="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gt={};n.suppressDeprecationWarnings=!1;var yt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jt=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=ne("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),M(0,["YY",2],0,function(){return this.year()%100}),M(0,["YYYY",4],0,"year"),M(0,["YYYYY",5],0,"year"),M(0,["YYYYYY",6,!0],0,"year"),C("year","y"),U("Y",nt),U("YY",$s,Gs),U("YYYY",Qs,Ks),U("YYYYY",Zs,Js),U("YYYYYY",Zs,Js),H(["YYYYY","YYYYYY"],lt),H("YYYY",function(e,s){s[lt]=2===e.length?n.parseTwoDigitYear(e):y(e)}),H("YY",function(e,s){s[lt]=n.parseTwoDigitYear(e)}),n.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var wt=R("FullYear",!1);M("w",["ww",2],"wo","week"),M("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),U("w",$s),U("ww",$s,Gs),U("W",$s),U("WW",$s,Gs),W(["w","ww","W","WW"],function(e,n,s,t){n[t.substr(0,1)]=y(e)});var kt={dow:0,doy:6};M("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),U("DDD",Xs),U("DDDD",Ys),H(["DDD","DDDD"],function(e,n,s){s._dayOfYear=y(e)}),n.ISO_8601=function(){};var _t=ne("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ie.apply(null,arguments);return this>e?this:e}),xt=ne("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ie.apply(null,arguments);return e>this?this:e});qe("Z",":"),qe("ZZ",""),U("Z",st),U("ZZ",st),H(["Z","ZZ"],function(e,n,s){s._useUTC=!0,s._tzm=Ne(e)});var St=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Ct=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Tt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xe.fn=Me.prototype;var Dt=nn(1,"add"),Rt=nn(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var It=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});M(0,["gg",2],0,function(){return this.weekYear()%100}),M(0,["GG",2],0,function(){return this.isoWeekYear()%100}),En("gggg","weekYear"),En("ggggg","weekYear"),En("GGGG","isoWeekYear"),En("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),U("G",nt),U("g",nt),U("GG",$s,Gs),U("gg",$s,Gs),U("GGGG",Qs,Ks),U("gggg",Qs,Ks),U("GGGGG",Zs,Js),U("ggggg",Zs,Js),W(["gggg","ggggg","GGGG","GGGGG"],function(e,n,s,t){n[t.substr(0,2)]=y(e)}),W(["gg","GG"],function(e,s,t,a){s[a]=n.parseTwoDigitYear(e)}),M("Q",0,0,"quarter"),C("quarter","Q"),U("Q",Vs),H("Q",function(e,n){n[it]=3*(y(e)-1)}),M("D",["DD",2],"Do","date"),C("date","D"),U("D",$s),U("DD",$s,Gs),U("Do",function(e,n){return e?n._ordinalParse:n._ordinalParseLenient}),H(["D","DD"],pt),H("Do",function(e,n){n[pt]=y(e.match($s)[0],10)});var Et=R("Date",!0);M("d",0,"do","day"),M("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),M("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),M("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),M("e",0,0,"weekday"),M("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),U("d",$s),U("e",$s),U("E",$s),U("dd",at),U("ddd",at),U("dddd",at),W(["dd","ddd","dddd"],function(e,n,s){var t=s._locale.weekdaysParse(e);null!=t?n.d=t:c(s).invalidWeekday=e}),W(["d","e","E"],function(e,n,s,t){n[t]=y(e)});var Ot="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");M("H",["HH",2],0,"hour"),M("h",["hh",2],0,function(){return this.hours()%12||12}),Gn("a",!0),Gn("A",!1),C("hour","h"),U("a",Yn),U("A",Yn),U("H",$s),U("h",$s),U("HH",$s,Gs),U("hh",$s,Gs),H(["H","HH"],ct),H(["a","A"],function(e,n,s){s._isPm=s._locale.isPM(e),s._meridiem=e}),H(["h","hh"],function(e,n,s){n[ct]=y(e),c(s).bigHour=!0});var At=/[ap]\.?m?\.?/i,qt=R("Hours",!0);M("m",["mm",2],0,"minute"),C("minute","m"),U("m",$s),U("mm",$s,Gs),H(["m","mm"],ut);var Nt=R("Minutes",!1);M("s",["ss",2],0,"second"),C("second","s"),U("s",$s),U("ss",$s,Gs),H(["s","ss"],ht);var Ft=R("Seconds",!1);M("S",0,0,function(){return~~(this.millisecond()/100)}),M(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),M(0,["SSS",3],0,"millisecond"),M(0,["SSSS",4],0,function(){return 10*this.millisecond()}),M(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),M(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),M(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),M(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),M(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),U("S",Xs,Vs),U("SS",Xs,Gs),U("SSS",Xs,Ys);var Lt;for(Lt="SSSS";Lt.length<=9;Lt+="S")U(Lt,et);for(Lt="S";Lt.length<=9;Lt+="S")H(Lt,$n);var Ut=R("Milliseconds",!1);M("z",0,0,"zoneAbbr"),M("zz",0,0,"zoneName");var zt=f.prototype;zt.add=Dt,zt.calendar=tn,zt.clone=an,zt.diff=cn,zt.endOf=kn,zt.format=fn,zt.from=mn,zt.fromNow=gn,zt.to=yn,zt.toNow=vn,zt.get=O,zt.invalidAt=In,zt.isAfter=rn,zt.isBefore=on,zt.isBetween=ln,zt.isSame=pn,zt.isValid=Dn,zt.lang=It,zt.locale=bn,zt.localeData=jn,zt.max=xt,zt.min=_t,zt.parsingFlags=Rn,zt.set=O,zt.startOf=wn,zt.subtract=Rt,zt.toArray=Cn,zt.toObject=Tn,zt.toDate=Sn,zt.toISOString=dn,zt.toJSON=dn,zt.toString=hn,zt.unix=xn,zt.valueOf=_n,zt.year=wt,zt.isLeapYear=pe,zt.weekYear=Pn,zt.isoWeekYear=Mn,zt.quarter=zt.quarters=Nn,zt.month=X,zt.daysInMonth=Q,zt.week=zt.weeks=fe,zt.isoWeek=zt.isoWeeks=me,zt.weeksInYear=qn,zt.isoWeeksInYear=An,zt.date=Et,zt.day=zt.days=Hn,zt.weekday=Wn,zt.isoWeekday=Vn,zt.dayOfYear=ye,zt.hour=zt.hours=qt,zt.minute=zt.minutes=Nt,zt.second=zt.seconds=Ft,zt.millisecond=zt.milliseconds=Ut,zt.utcOffset=Ue,
zt.utc=Be,zt.local=He,zt.parseZone=We,zt.hasAlignedHourOffset=Ve,zt.isDST=Ge,zt.isDSTShifted=Ye,zt.isLocal=Ke,zt.isUtcOffset=Je,zt.isUtc=$e,zt.isUTC=$e,zt.zoneAbbr=Xn,zt.zoneName=Qn,zt.dates=ne("dates accessor is deprecated. Use date instead.",Et),zt.months=ne("months accessor is deprecated. Use month instead",X),zt.years=ne("years accessor is deprecated. Use year instead",wt),zt.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",ze);var Bt=zt,Ht={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Wt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Vt="Invalid date",Gt="%d",Yt=/\d{1,2}/,Kt={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Jt=b.prototype;Jt._calendar=Ht,Jt.calendar=ns,Jt._longDateFormat=Wt,Jt.longDateFormat=ss,Jt._invalidDate=Vt,Jt.invalidDate=ts,Jt._ordinal=Gt,Jt.ordinal=as,Jt._ordinalParse=Yt,Jt.preparse=rs,Jt.postformat=rs,Jt._relativeTime=Kt,Jt.relativeTime=os,Jt.pastFuture=ls,Jt.set=is,Jt.months=Y,Jt._months=ft,Jt.monthsShort=K,Jt._monthsShort=mt,Jt.monthsParse=J,Jt.week=ue,Jt._week=kt,Jt.firstDayOfYear=de,Jt.firstDayOfWeek=he,Jt.weekdays=Ln,Jt._weekdays=Ot,Jt.weekdaysMin=zn,Jt._weekdaysMin=Mt,Jt.weekdaysShort=Un,Jt._weekdaysShort=Pt,Jt.weekdaysParse=Bn,Jt.isPM=Kn,Jt._meridiemParse=At,Jt.meridiem=Jn,_("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var n=e%10,s=1===y(e%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th";return e+s}}),n.lang=ne("moment.lang is deprecated. Use moment.locale instead.",_),n.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",S);var $t=Math.abs,Xt=Cs("ms"),Qt=Cs("s"),Zt=Cs("m"),ea=Cs("h"),na=Cs("d"),sa=Cs("w"),ta=Cs("M"),aa=Cs("y"),ra=Ds("milliseconds"),oa=Ds("seconds"),la=Ds("minutes"),ia=Ds("hours"),pa=Ds("days"),ca=Ds("months"),ua=Ds("years"),ha=Math.round,da={s:45,m:45,h:22,d:26,M:11},fa=Math.abs,ma=Me.prototype;ma.abs=gs,ma.add=vs,ma.subtract=bs,ma.as=xs,ma.asMilliseconds=Xt,ma.asSeconds=Qt,ma.asMinutes=Zt,ma.asHours=ea,ma.asDays=na,ma.asWeeks=sa,ma.asMonths=ta,ma.asYears=aa,ma.valueOf=Ss,ma._bubble=ws,ma.get=Ts,ma.milliseconds=ra,ma.seconds=oa,ma.minutes=la,ma.hours=ia,ma.days=pa,ma.weeks=Rs,ma.months=ca,ma.years=ua,ma.humanize=Ps,ma.toISOString=Ms,ma.toString=Ms,ma.toJSON=Ms,ma.locale=bn,ma.localeData=jn,ma.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ms),ma.lang=It,M("X",0,0,"unix"),M("x",0,0,"valueOf"),U("x",nt),U("X",tt),H("X",function(e,n,s){s._d=new Date(1e3*parseFloat(e,10))}),H("x",function(e,n,s){s._d=new Date(y(e))}),n.version="2.10.6",s(Ie),n.fn=Bt,n.min=Oe,n.max=Pe,n.utc=i,n.unix=Zn,n.months=us,n.isDate=a,n.locale=_,n.invalid=h,n.duration=Xe,n.isMoment=m,n.weekdays=ds,n.parseZone=es,n.localeData=S,n.isDuration=Ae,n.monthsShort=hs,n.weekdaysMin=ms,n.defineLocale=x,n.weekdaysShort=fs,n.normalizeUnits=T,n.relativeTimeThreshold=Os;var ga=n;return ga})}).call(n,s(256)(e))},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,n,s){"use strict";function t(e){var n=e[e.length-1];return n?n.title:void 0}var a=s(2),r=s(258),o=null,l=r(function(e){var n=t(e);"undefined"!=typeof document?document.title=n||"":o=n||null},{displayName:"DocumentTitle",propTypes:{title:a.PropTypes.string.isRequired},statics:{peek:function(){return o},rewind:function(){var e=o;return this.dispose(),e}}});e.exports=l},function(e,n,s){"use strict";function t(e,n){function s(){e(t.map(function(e){return e.props}))}r("function"==typeof e,"onChange(propsList) is a required argument.");var t=[];return a.createClass({mixins:[n],statics:{dispose:function(){t=[],s()}},shouldComponentUpdate:function(e){return!o(e,this.props)},componentWillMount:function(){t.push(this),s()},componentDidUpdate:function(){s()},componentWillUnmount:function(){var e=t.indexOf(this);t.splice(e,1),s()},render:function(){return this.props.children?a.Children.only(this.props.children):null}})}var a=s(2),r=s(7),o=s(137);e.exports=t},function(e,n,s){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=s(253),r=s(241),o=t(r),l=s(260),i=t(l),p=s(251),c=t(p);n.link=function(e){return e},n.templateChildrenPages=function(e,n){var s=e.split("/");s.pop();var t=s.join("/");""===t&&(t="/");var r=i["default"](o["default"](n.routes,function(e){return c["default"](e.path,t)})).childRoutes,l=r.map(function(e){return e.path});if(l)var p=o["default"](a.pages,function(e){return l.indexOf(e.path)>=0});else p=[];return p}},function(e,n){function s(e){return e?e[0]:void 0}e.exports=s},function(e,n,s){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=s(2),r=t(a),o=s(153),l=(t(o),s(262)),i=t(l),p=s(251),c=t(p),u=s(192),h=t(u);e.exports=r["default"].createClass({displayName:"exports",render:function(){var e=void 0,n=this.props.post.readNext;if(null!=n&&(e=h["default"](this.props.pages,function(e){return c["default"](e.path,n.slice(1,-1))})),e){e=h["default"](this.props.pages,function(e){return c["default"](e.path,n.slice(1,-1))});var s=e.data.body,t=i["default"](s.replace(/<[^>]*>/g,""),200);return r["default"].createElement("div",null,r["default"].createElement("h6",null,"READ THIS NEXT:"),r["default"].createElement("h3",null,r["default"].createElement(o.Link,{to:e.path,query:{readNext:!0}},e.data.title)),r["default"].createElement("p",null,t),r["default"].createElement("hr",null))}return r["default"].createElement("noscript",null)}})},function(e,n,s){var t=s(252),a=s(263);e.exports=function(e,n,s){if(e=t(e),n=~~n,s=null!=s?String(s):"...",e.length<=n)return e;var r=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},o=e.slice(0,n+1).replace(/.(?=\W*\w*$)/g,r);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):a(o.slice(0,o.length-1)),(o+s).length>e.length?e:e.slice(0,o.length)+s}},function(e,n,s){var t=s(252),a=s(264),r=String.prototype.trimRight;e.exports=function(e,n){return e=t(e),!n&&r?r.call(e):(n=a(n),e.replace(new RegExp(n+"+$"),""))}},function(e,n,s){var t=s(265);e.exports=function(e){return null==e?"\\s":e.source?e.source:"["+t(e)+"]"}},function(e,n,s){var t=s(252);e.exports=function(e){return t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},function(e,n,s){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),l=function(e,n,s){for(var t=!0;t;){var a=e,r=n,o=s;l=p=i=void 0,t=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,r);if(void 0!==l){if("value"in l)return l.value;var i=l.get;return void 0===i?void 0:i.call(o)}var p=Object.getPrototypeOf(a);if(null===p)return void 0;e=p,n=r,s=o,t=!0}},i=s(2),p=t(i),c=s(267),u=t(c),h=i.PropTypes.string,d=function(e){function n(){a(this,n),l(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return r(n,e),o(n,[{key:"render",value:function(){return p["default"].createElement("p",null,p["default"].createElement("img",{className:u["default"].img,src:"/headshot.png"}),"Written by ",p["default"].createElement("strong",null,this.props.authorName)," who lives and works in San Francisco building useful things. ",p["default"].createElement("a",{href:"https://twitter.com/chrisbiscardi"},"Follow on Twitter"))}}],[{key:"propTypes",value:{authorName:h},enumerable:!0}]),n}(i.Component);n["default"]=d,e.exports=n["default"]},function(e,n){e.exports={container:"AuthorBlock__container___2kMUe",img:"AuthorBlock__img___oOXEp",content:"AuthorBlock__content___Yr7G7"}},function(e,n){},function(e,n){e.exports={row:"md__row___3VqUs",content:"md__content___37B4l",contentRow:"md__contentRow___2v2h6",feature:"md__feature___2FYKP",featureTextWrapper:"md__featureTextWrapper___1BV28",featureTextBG:"md__featureTextBG___1xV9m",featureText:"md__featureText___3HMMw"}},function(e,n,s){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=s(2),r=t(a);e.exports=r["default"].createClass({displayName:"exports",render:function(){var e;return e="<div>fix me</div>",r["default"].createElement("div",{dangerouslySetInnerHTML:{__html:e}})}})},function(e,n,s){"use strict";n.loadContext=function(e){var n=s(272);return e(n)}},function(e,n,s){function t(e){return s(a(e))}function a(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./2015-05-01-hello-world/index.md":273,"./2015-05-01-hello-world/salty_egg.jpg":274,"./2015-05-06-my-second-post/index.md":275,"./2015-05-28-hi-folks/index.md":276,"./_template":277,"./_template.css":280,"./_template.jsx":277,"./about/index.md":281,"./about/portrait.jpg":282,"./favicon.ico":283,"./header-bg.png":284,"./headshot.png":285,"./index":286,"./index.css":292,"./index.jsx":286,"./old-wordpress-posts/a-foray-into-haxl-postgresql-simple.md":293,"./old-wordpress-posts/a-python-flask-crud.md":294,"./old-wordpress-posts/android-listfragment-populated-by-robospice.md":295,"./old-wordpress-posts/android-robospice-with-googlehttpclient.md":296,"./old-wordpress-posts/books-on-my-bookshelf-for-2014.md":297,"./old-wordpress-posts/clojure-compojure-jetty-integration.md":298,"./old-wordpress-posts/common-lisp-on-android-running-the-mocl-android-example.md":299,"./old-wordpress-posts/consistant-hash-routing-in-riak-core.md":300,"./old-wordpress-posts/deploy-haskells-snap-on-heroku.md":301,"./old-wordpress-posts/deploying-a-minecraft-server-with-docker-machine.md":302,"./old-wordpress-posts/deploying-snap-with-docker.md":303,"./old-wordpress-posts/docker-machine.md":304,"./old-wordpress-posts/emacs-in-docker.md":305,"./old-wordpress-posts/environment-variables-in-haskell.md":306,"./old-wordpress-posts/flattening-nested-arrays-in-javascript.md":307,"./old-wordpress-posts/geospatial-indexing-with-riak-search-2-0-yokozunasolr.md":308,"./old-wordpress-posts/getting-started-with-purescript.md":309,"./old-wordpress-posts/getting-started-with-robolectric-headless-android-testing-with-vagrant.md":310,"./old-wordpress-posts/getting-started-with-snap-and-user-authentication-part-1.md":311,"./old-wordpress-posts/getting-started-with-snap-and-user-authentication-part-2.md":312,"./old-wordpress-posts/getting-started-with-snap-and-user-authentication-part-3.md":313,"./old-wordpress-posts/ghc-ddump-minimal-imports-and-cpp-error-missing-binary-operator-before-token.md":314,"./old-wordpress-posts/handling-taps-on-listgrid-items-with-viewpagers-gesture.md":315,"./old-wordpress-posts/in-search-of-a-riak-solr-client-for-haskell.md":316,"./old-wordpress-posts/installing-montage-a-riak-sibling-resolution-library-written-in-haskell-on-osx.md":317,"./old-wordpress-posts/installing-yokozuna-on-osx-lion-with-homebrew.md":318,"./old-wordpress-posts/it-is-no-longer-enough-to-know-html.md":319,"./old-wordpress-posts/language-comparisons-0000001.md":320,"./old-wordpress-posts/mocl-for-android-part-2-drakma.md":321,"./old-wordpress-posts/quick-tip-haskell-list-comprehensions.md":322,"./old-wordpress-posts/quick-tip-javascript-partially-applied-functions.md":323,"./old-wordpress-posts/riak-core-myappping.md":324,"./old-wordpress-posts/riak-core-quickstart.md":325,"./old-wordpress-posts/riak-core-unique-identifiers.md":326,"./old-wordpress-posts/riak-core-up-and-running.md":327,"./old-wordpress-posts/riak-haproxy-and-haskell-multimachine-vagrant-on-osx.md":328,"./old-wordpress-posts/scaffolding-a-clojurecompojure-webapp-for-heroku.md":329,"./old-wordpress-posts/snap-postgres-and-heist-displaying-data-from-queries.md":330,"./old-wordpress-posts/stm-containers-benchmarks.md":331,"./old-wordpress-posts/using-databases-inside-of-snaplet-auth-restricted-routes.md":332,"./old-wordpress-posts/using-the-docker-haskell-official-image.md":333,"./old-wordpress-posts/vagrant-can-not-ssh-into-the-box.md":334,"./old-wordpress-posts/working-with-snap-1-0.md":335,"./old-wordpress-posts/writing-a-first-emacs-elisp-function.md":336,"./robots.txt":337};t.keys=function(){return Object.keys(r)},t.resolve=a,e.exports=t,t.id=272},function(e,n){e.exports={title:"Hello World",date:"2015-05-01T22:12:03.284Z",layout:"post",readNext:"/my-second-post/",path:"/hello-world/",body:'<p>This is my first post on my new fake blog! How exciting!</p>\n<p>I’m sure I’ll write a lot more interesting things in the future.</p>\n<p>Oh, and here’s a great quote from this Wikipedia on <a href="http://en.wikipedia.org/wiki/Salted_duck_egg">salted duck eggs</a>.</p>\n<blockquote>\n<p>A salted duck egg is a Chinese preserved food product made by soaking duck eggs in brine, or packing each egg in damp, salted charcoal. In Asian supermarkets, these eggs are sometimes sold covered in a thick layer of salted charcoal paste. The eggs may also be sold with the salted paste removed, wrapped in plastic, and vacuum packed. From the salt curing process, the salted duck eggs have a briny aroma, a gelatin-like egg white and a firm-textured, round yolk that is bright orange-red in color.</p>\n</blockquote>\n<p><img src="./salty_egg.jpg" alt="Chinese Salty Egg"></p>\n'}},function(e,n){},function(e,n){e.exports={title:"My Second Post!",date:"2015-05-06T23:46:37.121Z",layout:"post",readNext:"/hi-folks/",path:"/my-second-post/",body:'<p>Wow! I love blogging so much already.</p>\n<p>Did you know that “despite its name, salted duck eggs can also be made from chicken eggs, though the taste and texture will be somewhat different, and the egg yolk will be less rich.”? (<a href="http://en.wikipedia.org/wiki/Salted_duck_egg">Wikipedia Link</a>)</p>\n<p>Yeah, I didn’t either.</p>\n'}},function(e,n){e.exports={title:"New Beginnings",date:"2015-05-28T22:40:32.169Z",layout:"post",readNext:"/hosting-static-sites-with-docker-and-nginx/",path:"/hi-folks/",body:"<p><em>This post is going to be a little hard to read for those that don’t speak latin.</em></p>\n<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vel neque dignissim mi maximus interdum. Cras dictum quam et ex molestie facilisis. Proin dapibus sed sapien nec gravida. Praesent at leo ut erat varius rhoncus at non mi. Quisque cursus non leo et varius. Maecenas porttitor scelerisque sapien at venenatis. Proin pellentesque gravida elementum. Nam eget porttitor ligula. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean nec commodo lacus, eu mollis nisi. Nullam felis mi, tempus ac ipsum a, venenatis blandit magna. Sed mattis magna est, quis tincidunt massa aliquam vitae. Ut in ipsum blandit, ultrices lacus a, condimentum nibh. Sed commodo, lorem eget interdum molestie, lacus nisi lacinia velit, tempus commodo lacus erat porttitor dolor.</p>\n<p>Phasellus vitae ante justo. Fusce dui elit, finibus non posuere sed, ullamcorper at odio. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Pellentesque molestie lorem dolor, eget tincidunt ligula suscipit sit amet. Maecenas tempor nulla orci, sed scelerisque massa convallis id. Fusce iaculis nibh et lectus bibendum viverra. Nulla volutpat vehicula tortor non cursus. Maecenas vulputate mi nec accumsan ultricies. Praesent vitae tellus ligula. Praesent placerat fringilla purus, ac fermentum ipsum faucibus sed. Fusce semper, sapien hendrerit fringilla sagittis, lacus felis accumsan tellus, ac mollis ex arcu vitae lorem. Duis vitae semper felis. Duis consectetur, diam id laoreet suscipit, felis felis imperdiet sem, vel posuere leo ligula nec sapien. Maecenas at imperdiet nulla. Quisque quam nibh, feugiat vitae rhoncus ac, hendrerit eu quam. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\n<p>Nullam vehicula lorem sed felis rutrum gravida. Nam mattis cursus lacinia. Cras sit amet interdum elit. Morbi viverra, est a tincidunt facilisis, est est maximus urna, id rhoncus mi metus et lacus. Pellentesque finibus ex vel nulla fermentum tempus. Nunc vel lorem enim. Sed varius scelerisque nulla, nec ultrices ligula gravida eu. Curabitur eu turpis sit amet nisl vehicula tempor ultrices eu lacus. Curabitur malesuada nulla neque. Aenean mattis lectus ex, molestie ultricies elit fringilla eget. Quisque iaculis volutpat nisl, vitae lobortis ipsum elementum sed. Nulla facilisi. Maecenas cursus turpis ac lacus efficitur, non bibendum ligula consequat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Mauris accumsan placerat felis, at bibendum ante.</p>\n<p>Quisque varius dui vel commodo lobortis. Vestibulum eu metus vel dui lobortis volutpat. Cras vitae neque ornare, vehicula urna et, efficitur dolor. Nunc congue euismod leo non rhoncus. Nulla mollis libero a ullamcorper placerat. Morbi bibendum viverra orci in auctor. Donec in est varius, hendrerit risus vitae, commodo purus. Praesent eget rhoncus ligula. Suspendisse quis ultricies ligula. Nullam tincidunt rutrum nisl eget luctus. Phasellus eget nulla semper, varius ligula a, gravida urna. Etiam tempor feugiat elit eu cursus. Donec tristique ligula a aliquam tempor.</p>\n<p>Proin nec nunc tellus. Donec sapien leo, ornare quis condimentum a, euismod sit amet augue. Aliquam tincidunt mauris at arcu suscipit, quis scelerisque justo rhoncus. Vestibulum lobortis dui at odio lacinia mattis. Praesent nunc urna, bibendum ut dui eget, consequat suscipit leo. Curabitur auctor vel dui fermentum auctor. Sed ultrices ligula mauris, id blandit sapien ultrices id. Morbi volutpat tortor quis ex convallis aliquam. Nunc eleifend risus eget dui condimentum scelerisque.</p>\n"}},function(e,n,s){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),l=function(e,n,s){for(var t=!0;t;){var a=e,r=n,o=s;l=p=i=void 0,t=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,r);if(void 0!==l){if("value"in l)return l.value;var i=l.get;return void 0===i?void 0:i.call(o)}var p=Object.getPrototypeOf(a);if(null===p)return void 0;e=p,n=r,s=o,t=!0}};s(278),s(279);var i=s(2),p=t(i),c=s(153),u=s(259),h=s(280),d=t(h),f=function(e){function n(){a(this,n),l(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return r(n,e),o(n,[{key:"render",value:function(){return console.log("Navigation",d["default"]),p["default"].createElement("nav",{className:d["default"].nav},p["default"].createElement("div",{className:d["default"].wrap},p["default"].createElement("div",{className:d["default"].navCenter},p["default"].createElement("ul",{className:d["default"].navList},p["default"].createElement("li",{className:d["default"].brand},p["default"].createElement(c.Link,{to:u.link("/")},"chrisbiscardi")),p["default"].createElement("li",{className:d["default"].link},p["default"].createElement(c.Link,{to:u.link("/talks")},"talks")),p["default"].createElement("li",{className:d["default"].link},p["default"].createElement("a",{href:"https://twitter.com/chrisbiscardi"},"twitter")),p["default"].createElement("li",{className:d["default"].link},p["default"].createElement(c.Link,{to:u.link("/projects")},"projects")),p["default"].createElement("li",{className:d["default"].link},p["default"].createElement(c.Link,{to:u.link("/books")},"books"))))))}}]),n}(i.Component),m=function(e){function n(){a(this,n),l(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return r(n,e),o(n,[{key:"render",value:function(){var e,n;return this.props.state.path===u.link("/")?(e=p["default"].createElement("h1",null,p["default"].createElement(c.Link,{to:u.link("/")},this.props.config.blogTitle)),n=p["default"].createElement("div",{className:d["default"].headerBG})):e=p["default"].createElement("h3",null,p["default"].createElement(c.Link,{to:u.link("/")},this.props.config.blogTitle)),p["default"].createElement("div",null,n,p["default"].createElement(f,null),p["default"].createElement(c.RouteHandler,this.props))}}]),n}(i.Component);n["default"]=m,e.exports=n["default"]},268,268,function(e,n){e.exports={headerBG:"_template__headerBG___Rr_O2",wrap:"_template__wrap___RDu80",navCenter:"_template__navCenter___1JbrB",nav:"_template__nav___vG7VF",navList:"_template__navList___2GVCF",link:"_template__link___3U7d6",brand:"_template__brand___16vnG"}},function(e,n){e.exports={title:"About Chris",date:"2015-08-18T22:12:03.284Z",layout:"page",path:"/about/",body:'<p><img src="./portrait.jpg" alt="portrait"></p>\n'}},274,274,274,274,function(e,n,s){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var s=0;s<n.length;s++){var t=n[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,s,t){return s&&e(n.prototype,s),t&&e(n,t),n}}(),l=function(e,n,s){for(var t=!0;t;){var a=e,r=n,o=s;l=p=i=void 0,t=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,r);if(void 0!==l){if("value"in l)return l.value;var i=l.get;return void 0===i?void 0:i.call(o)}var p=Object.getPrototypeOf(a);if(null===p)return void 0;e=p,n=r,s=o,t=!0}},i=s(2),p=t(i),c=s(153),u=(t(c),s(245)),h=t(u),d=s(287),f=t(d),m=s(291),g=t(m),y=s(257),v=t(y),b=s(259),j=s(266),w=t(j),k=s(292),_=t(k),x=function(e){function n(){a(this,n),l(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return r(n,e),o(n,[{key:"sortPages",value:function(e){return h["default"](e,function(e){return e.data?e.data.date:void 0})}},{key:"render",value:function(){var e=this.props.pages;console.log("pages",e);var n=[];f["default"](g["default"](this.sortPages(e)).reverse().value(),function(e){var s=e.data,t=e.path,a=e.draft,r=null;r=s&&s.title?s.title:t,t===b.link("/")||a||n.push(p["default"].createElement("li",{key:t,className:_["default"].linkedTitle},p["default"].createElement(c.Link,{to:t},r)))});var s=this.props.config;return p["default"].createElement(v["default"],{title:s.blogTitle},p["default"].createElement("div",{className:_["default"].row},p["default"].createElement(w["default"],{authorName:s.authorName}),p["default"].createElement("ul",{className:_["default"].posts},n)))}}]),n}(i.Component);n["default"]=x,e.exports=n["default"]},function(e,n,s){e.exports=s(288)},function(e,n,s){var t=s(289),a=s(193),r=s(290),o=r(t,a);e.exports=o},function(e,n){function s(e,n){for(var s=-1,t=e.length;++s<t&&n(e[s],s,e)!==!1;);return e}e.exports=s},function(e,n,s){function t(e,n){return function(s,t,o){return"function"==typeof t&&void 0===o&&r(s)?e(s,t):n(s,a(t,o,3))}}var a=s(235),r=s(210);e.exports=t},function(e,n,s){var t;(function(e,a){(function(){function r(e,n){if(e!==n){var s=null===e,t=e===T,a=e===e,r=null===n,o=n===T,l=n===n;if(e>n&&!r||!a||s&&!o&&l||t&&l)return 1;if(n>e&&!s||!l||r&&!t&&a||o&&a)return-1}return 0}function o(e,n,s){for(var t=e.length,a=s?t:-1;s?a--:++a<t;)if(n(e[a],a,e))return a;return-1}function l(e,n,s){if(n!==n)return v(e,s);for(var t=s-1,a=e.length;++t<a;)if(e[t]===n)return t;return-1}function i(e){return"function"==typeof e||!1}function p(e){return null==e?"":e+""}function c(e,n){for(var s=-1,t=e.length;++s<t&&n.indexOf(e.charAt(s))>-1;);return s}function u(e,n){for(var s=e.length;s--&&n.indexOf(e.charAt(s))>-1;);return s}function h(e,n){return r(e.criteria,n.criteria)||e.index-n.index}function d(e,n,s){for(var t=-1,a=e.criteria,o=n.criteria,l=a.length,i=s.length;++t<l;){var p=r(a[t],o[t]);if(p){if(t>=i)return p;var c=s[t];return p*("asc"===c||c===!0?1:-1)}}return e.index-n.index}function f(e){return Ge[e]}function m(e){return Ye[e]}function g(e,n,s){return n?e=$e[e]:s&&(e=Xe[e]),"\\"+e}function y(e){return"\\"+Xe[e]}function v(e,n,s){for(var t=e.length,a=n+(s?0:-1);s?a--:++a<t;){var r=e[a];if(r!==r)return a}return-1}function b(e){return!!e&&"object"==typeof e}function j(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function w(e,n){for(var s=-1,t=e.length,a=-1,r=[];++s<t;)e[s]===n&&(e[s]=G,r[++a]=s);return r}function k(e,n){for(var s,t=-1,a=e.length,r=-1,o=[];++t<a;){var l=e[t],i=n?n(l,t,e):l;t&&s===i||(s=i,o[++r]=l)}return o}function _(e){for(var n=-1,s=e.length;++n<s&&j(e.charCodeAt(n)););return n}function x(e){for(var n=e.length;n--&&j(e.charCodeAt(n)););return n}function S(e){return Ke[e]}function C(e){function n(e){if(b(e)&&!Rl(e)&&!(e instanceof a)){if(e instanceof t)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return dt(e)}return new t(e)}function s(){}function t(e,n,s){this.__wrapped__=e,this.__actions__=s||[],this.__chain__=!!n}function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Do,this.__views__=[]}function j(){var e=new a(this.__wrapped__);return e.__actions__=en(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=en(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=en(this.__views__),e}function Z(){if(this.__filtered__){var e=new a(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function te(){var e=this.__wrapped__.value(),n=this.__dir__,s=Rl(e),t=0>n,a=s?e.length:0,r=Gs(0,a,this.__views__),o=r.start,l=r.end,i=l-o,p=t?l:o-1,c=this.__iteratees__,u=c.length,h=0,d=_o(i,this.__takeCount__);if(!s||B>a||a==i&&d==i)return ts(t&&s?e.reverse():e,this.__actions__);var f=[];e:for(;i--&&d>h;){p+=n;for(var m=-1,g=e[p];++m<u;){var y=c[m],v=y.iteratee,b=y.type,j=v(g);if(b==W)g=j;else if(!j){if(b==H)continue e;break e}}f[h++]=g}return f}function re(){this.__data__={}}function Ge(e){return this.has(e)&&delete this.__data__[e]}function Ye(e){return"__proto__"==e?T:this.__data__[e]}function Ke(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Je(e,n){return"__proto__"!=e&&(this.__data__[e]=n),this}function $e(e){var n=e?e.length:0;for(this.data={hash:yo(null),set:new co};n--;)this.push(e[n])}function Xe(e,n){var s=e.data,t="string"==typeof n||Ma(n)?s.set.has(n):s.hash[n];return t?0:-1}function Qe(e){var n=this.data;"string"==typeof e||Ma(e)?n.set.add(e):n.hash[e]=!0}function Ze(e,n){for(var s=-1,t=e.length,a=-1,r=n.length,o=Ur(t+r);++s<t;)o[s]=e[s];for(;++a<r;)o[s++]=n[a];return o}function en(e,n){var s=-1,t=e.length;for(n||(n=Ur(t));++s<t;)n[s]=e[s];return n}function nn(e,n){for(var s=-1,t=e.length;++s<t&&n(e[s],s,e)!==!1;);return e}function sn(e,n){for(var s=e.length;s--&&n(e[s],s,e)!==!1;);return e}function rn(e,n){for(var s=-1,t=e.length;++s<t;)if(!n(e[s],s,e))return!1;return!0}function on(e,n,s,t){for(var a=-1,r=e.length,o=t,l=o;++a<r;){var i=e[a],p=+n(i);s(p,o)&&(o=p,l=i)}return l}function ln(e,n){for(var s=-1,t=e.length,a=-1,r=[];++s<t;){var o=e[s];n(o,s,e)&&(r[++a]=o)}return r}function pn(e,n){for(var s=-1,t=e.length,a=Ur(t);++s<t;)a[s]=n(e[s],s,e);return a}function cn(e,n){for(var s=-1,t=n.length,a=e.length;++s<t;)e[a+s]=n[s];return e}function un(e,n,s,t){var a=-1,r=e.length;for(t&&r&&(s=e[++a]);++a<r;)s=n(s,e[a],a,e);return s}function hn(e,n,s,t){var a=e.length;for(t&&a&&(s=e[--a]);a--;)s=n(s,e[a],a,e);return s}function dn(e,n){for(var s=-1,t=e.length;++s<t;)if(n(e[s],s,e))return!0;return!1}function fn(e,n){for(var s=e.length,t=0;s--;)t+=+n(e[s])||0;return t}function mn(e,n){return e===T?n:e}function gn(e,n,s,t){return e!==T&&eo.call(t,s)?e:n}function yn(e,n,s){for(var t=-1,a=Ul(n),r=a.length;++t<r;){var o=a[t],l=e[o],i=s(l,n[o],o,e,n);(i===i?i===l:l!==l)&&(l!==T||o in e)||(e[o]=i)}return e}function vn(e,n){return null==n?e:jn(n,Ul(n),e)}function bn(e,n){for(var s=-1,t=null==e,a=!t&&Xs(e),r=a?e.length:0,o=n.length,l=Ur(o);++s<o;){var i=n[s];a?l[s]=Qs(i,r)?e[i]:T:l[s]=t?T:e[i]}return l}function jn(e,n,s){s||(s={});for(var t=-1,a=n.length;++t<a;){var r=n[t];s[r]=e[r]}return s}function wn(e,n,s){var t=typeof e;return"function"==t?n===T?e:os(e,n,s):null==e?Tr:"object"==t?Un(e):n===T?Pr(e):zn(e,n)}function kn(e,n,s,t,a,r,o){var l;if(s&&(l=a?s(e,t,a):s(e)),l!==T)return l;if(!Ma(e))return e;var i=Rl(e);if(i){if(l=Ys(e),!n)return en(e,l)}else{var p=so.call(e),c=p==Q;if(p!=ne&&p!=Y&&(!c||a))return Ve[p]?Js(e,p,n):a?e:{};if(l=Ks(c?{}:e),!n)return vn(l,e)}r||(r=[]),o||(o=[]);for(var u=r.length;u--;)if(r[u]==e)return o[u];return r.push(e),o.push(l),(i?nn:On)(e,function(t,a){l[a]=kn(t,n,s,a,e,r,o)}),l}function _n(e,n,s){if("function"!=typeof e)throw new Jr(V);return uo(function(){e.apply(T,s)},n)}function xn(e,n){var s=e?e.length:0,t=[];if(!s)return t;var a=-1,r=Hs(),o=r==l,i=o&&n.length>=B?ms(n):null,p=n.length;i&&(r=Xe,o=!1,n=i);e:for(;++a<s;){var c=e[a];if(o&&c===c){for(var u=p;u--;)if(n[u]===c)continue e;t.push(c)}else r(n,c,0)<0&&t.push(c)}return t}function Sn(e,n){var s=!0;return qo(e,function(e,t,a){return s=!!n(e,t,a)}),s}function Cn(e,n,s,t){var a=t,r=a;return qo(e,function(e,o,l){var i=+n(e,o,l);(s(i,a)||i===t&&i===r)&&(a=i,r=e)}),r}function Tn(e,n,s,t){var a=e.length;for(s=null==s?0:+s||0,0>s&&(s=-s>a?0:a+s),t=t===T||t>a?a:+t||0,0>t&&(t+=a),a=s>t?0:t>>>0,s>>>=0;a>s;)e[s++]=n;return e}function Dn(e,n){var s=[];return qo(e,function(e,t,a){n(e,t,a)&&s.push(e)}),s}function Rn(e,n,s,t){var a;return s(e,function(e,s,r){return n(e,s,r)?(a=t?s:e,!1):void 0}),a}function In(e,n,s,t){t||(t=[]);for(var a=-1,r=e.length;++a<r;){var o=e[a];b(o)&&Xs(o)&&(s||Rl(o)||Sa(o))?n?In(o,n,s,t):cn(t,o):s||(t[t.length]=o)}return t}function En(e,n){return Fo(e,n,er)}function On(e,n){return Fo(e,n,Ul)}function Pn(e,n){return Lo(e,n,Ul)}function Mn(e,n){for(var s=-1,t=n.length,a=-1,r=[];++s<t;){var o=n[s];Pa(e[o])&&(r[++a]=o)}return r}function An(e,n,s){if(null!=e){s!==T&&s in ut(e)&&(n=[s]);for(var t=0,a=n.length;null!=e&&a>t;)e=e[n[t++]];return t&&t==a?e:T}}function qn(e,n,s,t,a,r){return e===n?!0:null==e||null==n||!Ma(e)&&!b(n)?e!==e&&n!==n:Nn(e,n,qn,s,t,a,r)}function Nn(e,n,s,t,a,r,o){var l=Rl(e),i=Rl(n),p=K,c=K;l||(p=so.call(e),p==Y?p=ne:p!=ne&&(l=Ha(e))),i||(c=so.call(n),c==Y?c=ne:c!=ne&&(i=Ha(n)));var u=p==ne,h=c==ne,d=p==c;if(d&&!l&&!u)return Ls(e,n,p);if(!a){var f=u&&eo.call(e,"__wrapped__"),m=h&&eo.call(n,"__wrapped__");if(f||m)return s(f?e.value():e,m?n.value():n,t,a,r,o);
}if(!d)return!1;r||(r=[]),o||(o=[]);for(var g=r.length;g--;)if(r[g]==e)return o[g]==n;r.push(e),o.push(n);var y=(l?Fs:Us)(e,n,s,t,a,r,o);return r.pop(),o.pop(),y}function Fn(e,n,s){var t=n.length,a=t,r=!s;if(null==e)return!a;for(e=ut(e);t--;){var o=n[t];if(r&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++t<a;){o=n[t];var l=o[0],i=e[l],p=o[1];if(r&&o[2]){if(i===T&&!(l in e))return!1}else{var c=s?s(i,p,l):T;if(!(c===T?qn(p,i,s,!0):c))return!1}}return!0}function Ln(e,n){var s=-1,t=Xs(e)?Ur(e.length):[];return qo(e,function(e,a,r){t[++s]=n(e,a,r)}),t}function Un(e){var n=Ws(e);if(1==n.length&&n[0][2]){var s=n[0][0],t=n[0][1];return function(e){return null==e?!1:e[s]===t&&(t!==T||s in ut(e))}}return function(e){return Fn(e,n)}}function zn(e,n){var s=Rl(e),t=et(e)&&tt(n),a=e+"";return e=ht(e),function(r){if(null==r)return!1;var o=a;if(r=ut(r),(s||!t)&&!(o in r)){if(r=1==e.length?r:An(r,Jn(e,0,-1)),null==r)return!1;o=Ct(e),r=ut(r)}return r[o]===n?n!==T||o in r:qn(n,r[o],T,!0)}}function Bn(e,n,s,t,a){if(!Ma(e))return e;var r=Xs(n)&&(Rl(n)||Ha(n)),o=r?T:Ul(n);return nn(o||n,function(l,i){if(o&&(i=l,l=n[i]),b(l))t||(t=[]),a||(a=[]),Hn(e,n,i,Bn,s,t,a);else{var p=e[i],c=s?s(p,l,i,e,n):T,u=c===T;u&&(c=l),c===T&&(!r||i in e)||!u&&(c===c?c===p:p!==p)||(e[i]=c)}}),e}function Hn(e,n,s,t,a,r,o){for(var l=r.length,i=n[s];l--;)if(r[l]==i)return void(e[s]=o[l]);var p=e[s],c=a?a(p,i,s,e,n):T,u=c===T;u&&(c=i,Xs(i)&&(Rl(i)||Ha(i))?c=Rl(p)?p:Xs(p)?en(p):[]:Ua(i)||Sa(i)?c=Sa(p)?Ka(p):Ua(p)?p:{}:u=!1),r.push(i),o.push(c),u?e[s]=t(c,i,a,r,o):(c===c?c!==p:p===p)&&(e[s]=c)}function Wn(e){return function(n){return null==n?T:n[e]}}function Vn(e){var n=e+"";return e=ht(e),function(s){return An(s,e,n)}}function Gn(e,n){for(var s=e?n.length:0;s--;){var t=n[s];if(t!=a&&Qs(t)){var a=t;ho.call(e,t,1)}}return e}function Yn(e,n){return e+vo(Co()*(n-e+1))}function Kn(e,n,s,t,a){return a(e,function(e,a,r){s=t?(t=!1,e):n(s,e,a,r)}),s}function Jn(e,n,s){var t=-1,a=e.length;n=null==n?0:+n||0,0>n&&(n=-n>a?0:a+n),s=s===T||s>a?a:+s||0,0>s&&(s+=a),a=n>s?0:s-n>>>0,n>>>=0;for(var r=Ur(a);++t<a;)r[t]=e[t+n];return r}function $n(e,n){var s;return qo(e,function(e,t,a){return s=n(e,t,a),!s}),!!s}function Xn(e,n){var s=e.length;for(e.sort(n);s--;)e[s]=e[s].value;return e}function Qn(e,n,s){var t=zs(),a=-1;n=pn(n,function(e){return t(e)});var r=Ln(e,function(e){var s=pn(n,function(n){return n(e)});return{criteria:s,index:++a,value:e}});return Xn(r,function(e,n){return d(e,n,s)})}function Zn(e,n){var s=0;return qo(e,function(e,t,a){s+=+n(e,t,a)||0}),s}function es(e,n){var s=-1,t=Hs(),a=e.length,r=t==l,o=r&&a>=B,i=o?ms():null,p=[];i?(t=Xe,r=!1):(o=!1,i=n?[]:p);e:for(;++s<a;){var c=e[s],u=n?n(c,s,e):c;if(r&&c===c){for(var h=i.length;h--;)if(i[h]===u)continue e;n&&i.push(u),p.push(c)}else t(i,u,0)<0&&((n||o)&&i.push(u),p.push(c))}return p}function ns(e,n){for(var s=-1,t=n.length,a=Ur(t);++s<t;)a[s]=e[n[s]];return a}function ss(e,n,s,t){for(var a=e.length,r=t?a:-1;(t?r--:++r<a)&&n(e[r],r,e););return s?Jn(e,t?0:r,t?r+1:a):Jn(e,t?r+1:0,t?a:r)}function ts(e,n){var s=e;s instanceof a&&(s=s.value());for(var t=-1,r=n.length;++t<r;){var o=n[t];s=o.func.apply(o.thisArg,cn([s],o.args))}return s}function as(e,n,s){var t=0,a=e?e.length:t;if("number"==typeof n&&n===n&&Eo>=a){for(;a>t;){var r=t+a>>>1,o=e[r];(s?n>=o:n>o)&&null!==o?t=r+1:a=r}return a}return rs(e,n,Tr,s)}function rs(e,n,s,t){n=s(n);for(var a=0,r=e?e.length:0,o=n!==n,l=null===n,i=n===T;r>a;){var p=vo((a+r)/2),c=s(e[p]),u=c!==T,h=c===c;if(o)var d=h||t;else d=l?h&&u&&(t||null!=c):i?h&&(t||u):null==c?!1:t?n>=c:n>c;d?a=p+1:r=p}return _o(r,Io)}function os(e,n,s){if("function"!=typeof e)return Tr;if(n===T)return e;switch(s){case 1:return function(s){return e.call(n,s)};case 3:return function(s,t,a){return e.call(n,s,t,a)};case 4:return function(s,t,a,r){return e.call(n,s,t,a,r)};case 5:return function(s,t,a,r,o){return e.call(n,s,t,a,r,o)}}return function(){return e.apply(n,arguments)}}function ls(e){var n=new ro(e.byteLength),s=new fo(n);return s.set(new fo(e)),n}function is(e,n,s){for(var t=s.length,a=-1,r=ko(e.length-t,0),o=-1,l=n.length,i=Ur(l+r);++o<l;)i[o]=n[o];for(;++a<t;)i[s[a]]=e[a];for(;r--;)i[o++]=e[a++];return i}function ps(e,n,s){for(var t=-1,a=s.length,r=-1,o=ko(e.length-a,0),l=-1,i=n.length,p=Ur(o+i);++r<o;)p[r]=e[r];for(var c=r;++l<i;)p[c+l]=n[l];for(;++t<a;)p[c+s[t]]=e[r++];return p}function cs(e,n){return function(s,t,a){var r=n?n():{};if(t=zs(t,a,3),Rl(s))for(var o=-1,l=s.length;++o<l;){var i=s[o];e(r,i,t(i,o,s),s)}else qo(s,function(n,s,a){e(r,n,t(n,s,a),a)});return r}}function us(e){return ya(function(n,s){var t=-1,a=null==n?0:s.length,r=a>2?s[a-2]:T,o=a>2?s[2]:T,l=a>1?s[a-1]:T;for("function"==typeof r?(r=os(r,l,5),a-=2):(r="function"==typeof l?l:T,a-=r?1:0),o&&Zs(s[0],s[1],o)&&(r=3>a?T:r,a=1);++t<a;){var i=s[t];i&&e(n,i,r)}return n})}function hs(e,n){return function(s,t){var a=s?Bo(s):0;if(!st(a))return e(s,t);for(var r=n?a:-1,o=ut(s);(n?r--:++r<a)&&t(o[r],r,o)!==!1;);return s}}function ds(e){return function(n,s,t){for(var a=ut(n),r=t(n),o=r.length,l=e?o:-1;e?l--:++l<o;){var i=r[l];if(s(a[i],i,a)===!1)break}return n}}function fs(e,n){function s(){var a=this&&this!==tn&&this instanceof s?t:e;return a.apply(n,arguments)}var t=ys(e);return s}function ms(e){return yo&&co?new $e(e):null}function gs(e){return function(n){for(var s=-1,t=xr(cr(n)),a=t.length,r="";++s<a;)r=e(r,t[s],s);return r}}function ys(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=Ao(e.prototype),t=e.apply(s,n);return Ma(t)?t:s}}function vs(e){function n(s,t,a){a&&Zs(s,t,a)&&(t=T);var r=Ns(s,e,T,T,T,T,T,t);return r.placeholder=n.placeholder,r}return n}function bs(e,n){return ya(function(s){var t=s[0];return null==t?t:(s.push(n),e.apply(T,s))})}function js(e,n){return function(s,t,a){if(a&&Zs(s,t,a)&&(t=T),t=zs(t,a,3),1==t.length){s=Rl(s)?s:ct(s);var r=on(s,t,e,n);if(!s.length||r!==n)return r}return Cn(s,t,e,n)}}function ws(e,n){return function(s,t,a){if(t=zs(t,a,3),Rl(s)){var r=o(s,t,n);return r>-1?s[r]:T}return Rn(s,t,e)}}function ks(e){return function(n,s,t){return n&&n.length?(s=zs(s,t,3),o(n,s,e)):-1}}function _s(e){return function(n,s,t){return s=zs(s,t,3),Rn(n,s,e,!0)}}function xs(e){return function(){for(var n,s=arguments.length,a=e?s:-1,r=0,o=Ur(s);e?a--:++a<s;){var l=o[r++]=arguments[a];if("function"!=typeof l)throw new Jr(V);!n&&t.prototype.thru&&"wrapper"==Bs(l)&&(n=new t([],!0))}for(a=n?-1:s;++a<s;){l=o[a];var i=Bs(l),p="wrapper"==i?zo(l):T;n=p&&nt(p[0])&&p[1]==(q|O|M|N)&&!p[4].length&&1==p[9]?n[Bs(p[0])].apply(n,p[3]):1==l.length&&nt(l)?n[i]():n.thru(l)}return function(){var e=arguments,t=e[0];if(n&&1==e.length&&Rl(t)&&t.length>=B)return n.plant(t).value();for(var a=0,r=s?o[a].apply(this,e):t;++a<s;)r=o[a].call(this,r);return r}}}function Ss(e,n){return function(s,t,a){return"function"==typeof t&&a===T&&Rl(s)?e(s,t):n(s,os(t,a,3))}}function Cs(e){return function(n,s,t){return("function"!=typeof s||t!==T)&&(s=os(s,t,3)),e(n,s,er)}}function Ts(e){return function(n,s,t){return("function"!=typeof s||t!==T)&&(s=os(s,t,3)),e(n,s)}}function Ds(e){return function(n,s,t){var a={};return s=zs(s,t,3),On(n,function(n,t,r){var o=s(n,t,r);t=e?o:t,n=e?n:o,a[t]=n}),a}}function Rs(e){return function(n,s,t){return n=p(n),(e?n:"")+Ps(n,s,t)+(e?"":n)}}function Is(e){var n=ya(function(s,t){var a=w(t,n.placeholder);return Ns(s,e,T,t,a)});return n}function Es(e,n){return function(s,t,a,r){var o=arguments.length<3;return"function"==typeof t&&r===T&&Rl(s)?e(s,t,a,o):Kn(s,zs(t,r,4),a,o,n)}}function Os(e,n,s,t,a,r,o,l,i,p){function c(){for(var v=arguments.length,b=v,j=Ur(v);b--;)j[b]=arguments[b];if(t&&(j=is(j,t,a)),r&&(j=ps(j,r,o)),f||g){var k=c.placeholder,_=w(j,k);if(v-=_.length,p>v){var x=l?en(l):T,S=ko(p-v,0),C=f?_:T,D=f?T:_,E=f?j:T,O=f?T:j;n|=f?M:A,n&=~(f?A:M),m||(n&=~(R|I));var P=[e,n,s,E,C,O,D,x,i,S],q=Os.apply(T,P);return nt(e)&&Ho(q,P),q.placeholder=k,q}}var N=h?s:this,F=d?N[e]:e;return l&&(j=it(j,l)),u&&i<j.length&&(j.length=i),this&&this!==tn&&this instanceof c&&(F=y||ys(e)),F.apply(N,j)}var u=n&q,h=n&R,d=n&I,f=n&O,m=n&E,g=n&P,y=d?T:ys(e);return c}function Ps(e,n,s){var t=e.length;if(n=+n,t>=n||!jo(n))return"";var a=n-t;return s=null==s?" ":s+"",gr(s,go(a/s.length)).slice(0,a)}function Ms(e,n,s,t){function a(){for(var n=-1,l=arguments.length,i=-1,p=t.length,c=Ur(p+l);++i<p;)c[i]=t[i];for(;l--;)c[i++]=arguments[++n];var u=this&&this!==tn&&this instanceof a?o:e;return u.apply(r?s:this,c)}var r=n&R,o=ys(e);return a}function As(e){var n=Wr[e];return function(e,s){return s=s===T?0:+s||0,s?(s=io(10,s),n(e*s)/s):n(e)}}function qs(e){return function(n,s,t,a){var r=zs(t);return null==t&&r===wn?as(n,s,e):rs(n,s,r(t,a,1),e)}}function Ns(e,n,s,t,a,r,o,l){var i=n&I;if(!i&&"function"!=typeof e)throw new Jr(V);var p=t?t.length:0;if(p||(n&=~(M|A),t=a=T),p-=a?a.length:0,n&A){var c=t,u=a;t=a=T}var h=i?T:zo(e),d=[e,n,s,t,a,c,u,r,o,l];if(h&&(at(d,h),n=d[1],l=d[9]),d[9]=null==l?i?0:e.length:ko(l-p,0)||0,n==R)var f=fs(d[0],d[2]);else f=n!=M&&n!=(R|M)||d[4].length?Os.apply(T,d):Ms.apply(T,d);var m=h?Uo:Ho;return m(f,d)}function Fs(e,n,s,t,a,r,o){var l=-1,i=e.length,p=n.length;if(i!=p&&!(a&&p>i))return!1;for(;++l<i;){var c=e[l],u=n[l],h=t?t(a?u:c,a?c:u,l):T;if(h!==T){if(h)continue;return!1}if(a){if(!dn(n,function(e){return c===e||s(c,e,t,a,r,o)}))return!1}else if(c!==u&&!s(c,u,t,a,r,o))return!1}return!0}function Ls(e,n,s){switch(s){case J:case $:return+e==+n;case X:return e.name==n.name&&e.message==n.message;case ee:return e!=+e?n!=+n:e==+n;case se:case ae:return e==n+""}return!1}function Us(e,n,s,t,a,r,o){var l=Ul(e),i=l.length,p=Ul(n),c=p.length;if(i!=c&&!a)return!1;for(var u=i;u--;){var h=l[u];if(!(a?h in n:eo.call(n,h)))return!1}for(var d=a;++u<i;){h=l[u];var f=e[h],m=n[h],g=t?t(a?m:f,a?f:m,h):T;if(!(g===T?s(f,m,t,a,r,o):g))return!1;d||(d="constructor"==h)}if(!d){var y=e.constructor,v=n.constructor;if(y!=v&&"constructor"in e&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v))return!1}return!0}function zs(e,s,t){var a=n.callback||Sr;return a=a===Sr?wn:a,t?a(e,s,t):a}function Bs(e){for(var n=e.name,s=Mo[n],t=s?s.length:0;t--;){var a=s[t],r=a.func;if(null==r||r==e)return a.name}return n}function Hs(e,s,t){var a=n.indexOf||xt;return a=a===xt?l:a,e?a(e,s,t):a}function Ws(e){for(var n=nr(e),s=n.length;s--;)n[s][2]=tt(n[s][1]);return n}function Vs(e,n){var s=null==e?T:e[n];return Na(s)?s:T}function Gs(e,n,s){for(var t=-1,a=s.length;++t<a;){var r=s[t],o=r.size;switch(r.type){case"drop":e+=o;break;case"dropRight":n-=o;break;case"take":n=_o(n,e+o);break;case"takeRight":e=ko(e,n-o)}}return{start:e,end:n}}function Ys(e){var n=e.length,s=new e.constructor(n);return n&&"string"==typeof e[0]&&eo.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function Ks(e){var n=e.constructor;return"function"==typeof n&&n instanceof n||(n=Gr),new n}function Js(e,n,s){var t=e.constructor;switch(n){case oe:return ls(e);case J:case $:return new t(+e);case le:case ie:case pe:case ce:case ue:case he:case de:case fe:case me:var a=e.buffer;return new t(s?ls(a):a,e.byteOffset,e.length);case ee:case ae:return new t(e);case se:var r=new t(e.source,Me.exec(e));r.lastIndex=e.lastIndex}return r}function $s(e,n,s){null==e||et(n,e)||(n=ht(n),e=1==n.length?e:An(e,Jn(n,0,-1)),n=Ct(n));var t=null==e?e:e[n];return null==t?T:t.apply(e,s)}function Xs(e){return null!=e&&st(Bo(e))}function Qs(e,n){return e="number"==typeof e||Ne.test(e)?+e:-1,n=null==n?Oo:n,e>-1&&e%1==0&&n>e}function Zs(e,n,s){if(!Ma(s))return!1;var t=typeof n;if("number"==t?Xs(s)&&Qs(n,s.length):"string"==t&&n in s){var a=s[n];return e===e?e===a:a!==a}return!1}function et(e,n){var s=typeof e;if("string"==s&&Te.test(e)||"number"==s)return!0;if(Rl(e))return!1;var t=!Ce.test(e);return t||null!=n&&e in ut(n)}function nt(e){var s=Bs(e);if(!(s in a.prototype))return!1;var t=n[s];if(e===t)return!0;var r=zo(t);return!!r&&e===r[0]}function st(e){return"number"==typeof e&&e>-1&&e%1==0&&Oo>=e}function tt(e){return e===e&&!Ma(e)}function at(e,n){var s=e[1],t=n[1],a=s|t,r=q>a,o=t==q&&s==O||t==q&&s==N&&e[7].length<=n[8]||t==(q|N)&&s==O;if(!r&&!o)return e;t&R&&(e[2]=n[2],a|=s&R?0:E);var l=n[3];if(l){var i=e[3];e[3]=i?is(i,l,n[4]):en(l),e[4]=i?w(e[3],G):en(n[4])}return l=n[5],l&&(i=e[5],e[5]=i?ps(i,l,n[6]):en(l),e[6]=i?w(e[5],G):en(n[6])),l=n[7],l&&(e[7]=en(l)),t&q&&(e[8]=null==e[8]?n[8]:_o(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=a,e}function rt(e,n){return e===T?n:Il(e,n,rt)}function ot(e,n){e=ut(e);for(var s=-1,t=n.length,a={};++s<t;){var r=n[s];r in e&&(a[r]=e[r])}return a}function lt(e,n){var s={};return En(e,function(e,t,a){n(e,t,a)&&(s[t]=e)}),s}function it(e,n){for(var s=e.length,t=_o(n.length,s),a=en(e);t--;){var r=n[t];e[t]=Qs(r,s)?a[r]:T}return e}function pt(e){for(var n=er(e),s=n.length,t=s&&e.length,a=!!t&&st(t)&&(Rl(e)||Sa(e)),r=-1,o=[];++r<s;){var l=n[r];(a&&Qs(l,t)||eo.call(e,l))&&o.push(l)}return o}function ct(e){return null==e?[]:Xs(e)?Ma(e)?e:Gr(e):rr(e)}function ut(e){return Ma(e)?e:Gr(e)}function ht(e){if(Rl(e))return e;var n=[];return p(e).replace(De,function(e,s,t,a){n.push(t?a.replace(Oe,"$1"):s||e)}),n}function dt(e){return e instanceof a?e.clone():new t(e.__wrapped__,e.__chain__,en(e.__actions__))}function ft(e,n,s){n=(s?Zs(e,n,s):null==n)?1:ko(vo(n)||1,1);for(var t=0,a=e?e.length:0,r=-1,o=Ur(go(a/n));a>t;)o[++r]=Jn(e,t,t+=n);return o}function mt(e){for(var n=-1,s=e?e.length:0,t=-1,a=[];++n<s;){var r=e[n];r&&(a[++t]=r)}return a}function gt(e,n,s){var t=e?e.length:0;return t?((s?Zs(e,n,s):null==n)&&(n=1),Jn(e,0>n?0:n)):[]}function yt(e,n,s){var t=e?e.length:0;return t?((s?Zs(e,n,s):null==n)&&(n=1),n=t-(+n||0),Jn(e,0,0>n?0:n)):[]}function vt(e,n,s){return e&&e.length?ss(e,zs(n,s,3),!0,!0):[]}function bt(e,n,s){return e&&e.length?ss(e,zs(n,s,3),!0):[]}function jt(e,n,s,t){var a=e?e.length:0;return a?(s&&"number"!=typeof s&&Zs(e,n,s)&&(s=0,t=a),Tn(e,n,s,t)):[]}function wt(e){return e?e[0]:T}function kt(e,n,s){var t=e?e.length:0;return s&&Zs(e,n,s)&&(n=!1),t?In(e,n):[]}function _t(e){var n=e?e.length:0;return n?In(e,!0):[]}function xt(e,n,s){var t=e?e.length:0;if(!t)return-1;if("number"==typeof s)s=0>s?ko(t+s,0):s;else if(s){var a=as(e,n);return t>a&&(n===n?n===e[a]:e[a]!==e[a])?a:-1}return l(e,n,s||0)}function St(e){return yt(e,1)}function Ct(e){var n=e?e.length:0;return n?e[n-1]:T}function Tt(e,n,s){var t=e?e.length:0;if(!t)return-1;var a=t;if("number"==typeof s)a=(0>s?ko(t+s,0):_o(s||0,t-1))+1;else if(s){a=as(e,n,!0)-1;var r=e[a];return(n===n?n===r:r!==r)?a:-1}if(n!==n)return v(e,a,!0);for(;a--;)if(e[a]===n)return a;return-1}function Dt(){var e=arguments,n=e[0];if(!n||!n.length)return n;for(var s=0,t=Hs(),a=e.length;++s<a;)for(var r=0,o=e[s];(r=t(n,o,r))>-1;)ho.call(n,r,1);return n}function Rt(e,n,s){var t=[];if(!e||!e.length)return t;var a=-1,r=[],o=e.length;for(n=zs(n,s,3);++a<o;){var l=e[a];n(l,a,e)&&(t.push(l),r.push(a))}return Gn(e,r),t}function It(e){return gt(e,1)}function Et(e,n,s){var t=e?e.length:0;return t?(s&&"number"!=typeof s&&Zs(e,n,s)&&(n=0,s=t),Jn(e,n,s)):[]}function Ot(e,n,s){var t=e?e.length:0;return t?((s?Zs(e,n,s):null==n)&&(n=1),Jn(e,0,0>n?0:n)):[]}function Pt(e,n,s){var t=e?e.length:0;return t?((s?Zs(e,n,s):null==n)&&(n=1),n=t-(+n||0),Jn(e,0>n?0:n)):[]}function Mt(e,n,s){return e&&e.length?ss(e,zs(n,s,3),!1,!0):[]}function At(e,n,s){return e&&e.length?ss(e,zs(n,s,3)):[]}function qt(e,n,s,t){var a=e?e.length:0;if(!a)return[];null!=n&&"boolean"!=typeof n&&(t=s,s=Zs(e,n,t)?T:n,n=!1);var r=zs();return(null!=s||r!==wn)&&(s=r(s,t,3)),n&&Hs()==l?k(e,s):es(e,s)}function Nt(e){if(!e||!e.length)return[];var n=-1,s=0;e=ln(e,function(e){return Xs(e)?(s=ko(e.length,s),!0):void 0});for(var t=Ur(s);++n<s;)t[n]=pn(e,Wn(n));return t}function Ft(e,n,s){var t=e?e.length:0;if(!t)return[];var a=Nt(e);return null==n?a:(n=os(n,s,4),pn(a,function(e){return un(e,n,T,!0)}))}function Lt(){for(var e=-1,n=arguments.length;++e<n;){var s=arguments[e];if(Xs(s))var t=t?cn(xn(t,s),xn(s,t)):s}return t?es(t):[]}function Ut(e,n){var s=-1,t=e?e.length:0,a={};for(!t||n||Rl(e[0])||(n=[]);++s<t;){var r=e[s];n?a[r]=n[s]:r&&(a[r[0]]=r[1])}return a}function zt(e){var s=n(e);return s.__chain__=!0,s}function Bt(e,n,s){return n.call(s,e),e}function Ht(e,n,s){return n.call(s,e)}function Wt(){return zt(this)}function Vt(){return new t(this.value(),this.__chain__)}function Gt(e){for(var n,t=this;t instanceof s;){var a=dt(t);n?r.__wrapped__=a:n=a;var r=a;t=t.__wrapped__}return r.__wrapped__=e,n}function Yt(){var e=this.__wrapped__,n=function(e){return s&&s.__dir__<0?e:e.reverse()};if(e instanceof a){var s=e;return this.__actions__.length&&(s=new a(this)),s=s.reverse(),s.__actions__.push({func:Ht,args:[n],thisArg:T}),new t(s,this.__chain__)}return this.thru(n)}function Kt(){return this.value()+""}function Jt(){return ts(this.__wrapped__,this.__actions__)}function $t(e,n,s){var t=Rl(e)?rn:Sn;return s&&Zs(e,n,s)&&(n=T),("function"!=typeof n||s!==T)&&(n=zs(n,s,3)),t(e,n)}function Xt(e,n,s){var t=Rl(e)?ln:Dn;return n=zs(n,s,3),t(e,n)}function Qt(e,n){return al(e,Un(n))}function Zt(e,n,s,t){var a=e?Bo(e):0;return st(a)||(e=rr(e),a=e.length),s="number"!=typeof s||t&&Zs(n,s,t)?0:0>s?ko(a+s,0):s||0,"string"==typeof e||!Rl(e)&&Ba(e)?a>=s&&e.indexOf(n,s)>-1:!!a&&Hs(e,n,s)>-1}function ea(e,n,s){var t=Rl(e)?pn:Ln;return n=zs(n,s,3),t(e,n)}function na(e,n){return ea(e,Pr(n))}function sa(e,n,s){var t=Rl(e)?ln:Dn;return n=zs(n,s,3),t(e,function(e,s,t){return!n(e,s,t)})}function ta(e,n,s){if(s?Zs(e,n,s):null==n){e=ct(e);var t=e.length;return t>0?e[Yn(0,t-1)]:T}var a=-1,r=Ya(e),t=r.length,o=t-1;for(n=_o(0>n?0:+n||0,t);++a<n;){var l=Yn(a,o),i=r[l];r[l]=r[a],r[a]=i}return r.length=n,r}function aa(e){return ta(e,Do)}function ra(e){var n=e?Bo(e):0;return st(n)?n:Ul(e).length}function oa(e,n,s){var t=Rl(e)?dn:$n;return s&&Zs(e,n,s)&&(n=T),("function"!=typeof n||s!==T)&&(n=zs(n,s,3)),t(e,n)}function la(e,n,s){if(null==e)return[];s&&Zs(e,n,s)&&(n=T);var t=-1;n=zs(n,s,3);var a=Ln(e,function(e,s,a){return{criteria:n(e,s,a),index:++t,value:e}});return Xn(a,h)}function ia(e,n,s,t){return null==e?[]:(t&&Zs(n,s,t)&&(s=T),Rl(n)||(n=null==n?[]:[n]),Rl(s)||(s=null==s?[]:[s]),Qn(e,n,s))}function pa(e,n){return Xt(e,Un(n))}function ca(e,n){if("function"!=typeof n){if("function"!=typeof e)throw new Jr(V);var s=e;e=n,n=s}return e=jo(e=+e)?e:0,function(){return--e<1?n.apply(this,arguments):void 0}}function ua(e,n,s){return s&&Zs(e,n,s)&&(n=T),n=e&&null==n?e.length:ko(+n||0,0),Ns(e,q,T,T,T,T,n)}function ha(e,n){var s;if("function"!=typeof n){if("function"!=typeof e)throw new Jr(V);var t=e;e=n,n=t}return function(){return--e>0&&(s=n.apply(this,arguments)),1>=e&&(n=T),s}}function da(e,n,s){function t(){d&&oo(d),p&&oo(p),m=0,p=d=f=T}function a(n,s){s&&oo(s),p=d=f=T,n&&(m=ml(),c=e.apply(h,i),d||p||(i=h=T))}function r(){var e=n-(ml()-u);0>=e||e>n?a(f,p):d=uo(r,e)}function o(){a(y,d)}function l(){if(i=arguments,u=ml(),h=this,f=y&&(d||!v),g===!1)var s=v&&!d;else{p||v||(m=u);var t=g-(u-m),a=0>=t||t>g;a?(p&&(p=oo(p)),m=u,c=e.apply(h,i)):p||(p=uo(o,t))}return a&&d?d=oo(d):d||n===g||(d=uo(r,n)),s&&(a=!0,c=e.apply(h,i)),!a||d||p||(i=h=T),c}var i,p,c,u,h,d,f,m=0,g=!1,y=!0;if("function"!=typeof e)throw new Jr(V);if(n=0>n?0:+n||0,s===!0){var v=!0;y=!1}else Ma(s)&&(v=!!s.leading,g="maxWait"in s&&ko(+s.maxWait||0,n),y="trailing"in s?!!s.trailing:y);return l.cancel=t,l}function fa(e,n){if("function"!=typeof e||n&&"function"!=typeof n)throw new Jr(V);var s=function(){var t=arguments,a=n?n.apply(this,t):t[0],r=s.cache;if(r.has(a))return r.get(a);var o=e.apply(this,t);return s.cache=r.set(a,o),o};return s.cache=new fa.Cache,s}function ma(e){if("function"!=typeof e)throw new Jr(V);return function(){return!e.apply(this,arguments)}}function ga(e){return ha(2,e)}function ya(e,n){if("function"!=typeof e)throw new Jr(V);return n=ko(n===T?e.length-1:+n||0,0),function(){for(var s=arguments,t=-1,a=ko(s.length-n,0),r=Ur(a);++t<a;)r[t]=s[n+t];switch(n){case 0:return e.call(this,r);case 1:return e.call(this,s[0],r);case 2:return e.call(this,s[0],s[1],r)}var o=Ur(n+1);for(t=-1;++t<n;)o[t]=s[t];return o[n]=r,e.apply(this,o)}}function va(e){if("function"!=typeof e)throw new Jr(V);return function(n){return e.apply(this,n)}}function ba(e,n,s){var t=!0,a=!0;if("function"!=typeof e)throw new Jr(V);return s===!1?t=!1:Ma(s)&&(t="leading"in s?!!s.leading:t,a="trailing"in s?!!s.trailing:a),da(e,n,{leading:t,maxWait:+n,trailing:a})}function ja(e,n){return n=null==n?Tr:n,Ns(n,M,T,[e],[])}function wa(e,n,s,t){return n&&"boolean"!=typeof n&&Zs(e,n,s)?n=!1:"function"==typeof n&&(t=s,s=n,n=!1),"function"==typeof s?kn(e,n,os(s,t,1)):kn(e,n)}function ka(e,n,s){return"function"==typeof n?kn(e,!0,os(n,s,1)):kn(e,!0)}function _a(e,n){return e>n}function xa(e,n){return e>=n}function Sa(e){return b(e)&&Xs(e)&&eo.call(e,"callee")&&!po.call(e,"callee")}function Ca(e){return e===!0||e===!1||b(e)&&so.call(e)==J}function Ta(e){return b(e)&&so.call(e)==$}function Da(e){return!!e&&1===e.nodeType&&b(e)&&!Ua(e)}function Ra(e){return null==e?!0:Xs(e)&&(Rl(e)||Ba(e)||Sa(e)||b(e)&&Pa(e.splice))?!e.length:!Ul(e).length}function Ia(e,n,s,t){s="function"==typeof s?os(s,t,3):T;var a=s?s(e,n):T;return a===T?qn(e,n,s):!!a}function Ea(e){return b(e)&&"string"==typeof e.message&&so.call(e)==X}function Oa(e){return"number"==typeof e&&jo(e)}function Pa(e){return Ma(e)&&so.call(e)==Q}function Ma(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function Aa(e,n,s,t){return s="function"==typeof s?os(s,t,3):T,Fn(e,Ws(n),s)}function qa(e){return La(e)&&e!=+e}function Na(e){return null==e?!1:Pa(e)?ao.test(Zr.call(e)):b(e)&&qe.test(e)}function Fa(e){return null===e}function La(e){return"number"==typeof e||b(e)&&so.call(e)==ee}function Ua(e){var n;if(!b(e)||so.call(e)!=ne||Sa(e)||!eo.call(e,"constructor")&&(n=e.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var s;return En(e,function(e,n){s=n}),s===T||eo.call(e,s)}function za(e){return Ma(e)&&so.call(e)==se}function Ba(e){return"string"==typeof e||b(e)&&so.call(e)==ae}function Ha(e){return b(e)&&st(e.length)&&!!We[so.call(e)]}function Wa(e){return e===T}function Va(e,n){return n>e}function Ga(e,n){return n>=e}function Ya(e){var n=e?Bo(e):0;return st(n)?n?en(e):[]:rr(e)}function Ka(e){return jn(e,er(e))}function Ja(e,n,s){var t=Ao(e);return s&&Zs(e,n,s)&&(n=T),n?vn(t,n):t}function $a(e){return Mn(e,er(e))}function Xa(e,n,s){var t=null==e?T:An(e,ht(n),n+"");return t===T?s:t}function Qa(e,n){if(null==e)return!1;var s=eo.call(e,n);if(!s&&!et(n)){if(n=ht(n),e=1==n.length?e:An(e,Jn(n,0,-1)),null==e)return!1;n=Ct(n),s=eo.call(e,n)}return s||st(e.length)&&Qs(n,e.length)&&(Rl(e)||Sa(e))}function Za(e,n,s){s&&Zs(e,n,s)&&(n=T);for(var t=-1,a=Ul(e),r=a.length,o={};++t<r;){var l=a[t],i=e[l];n?eo.call(o,i)?o[i].push(l):o[i]=[l]:o[i]=l}return o}function er(e){if(null==e)return[];Ma(e)||(e=Gr(e));var n=e.length;n=n&&st(n)&&(Rl(e)||Sa(e))&&n||0;for(var s=e.constructor,t=-1,a="function"==typeof s&&s.prototype===e,r=Ur(n),o=n>0;++t<n;)r[t]=t+"";for(var l in e)o&&Qs(l,n)||"constructor"==l&&(a||!eo.call(e,l))||r.push(l);return r}function nr(e){e=ut(e);for(var n=-1,s=Ul(e),t=s.length,a=Ur(t);++n<t;){var r=s[n];a[n]=[r,e[r]]}return a}function sr(e,n,s){var t=null==e?T:e[n];return t===T&&(null==e||et(n,e)||(n=ht(n),e=1==n.length?e:An(e,Jn(n,0,-1)),t=null==e?T:e[Ct(n)]),t=t===T?s:t),Pa(t)?t.call(e):t}function tr(e,n,s){if(null==e)return e;var t=n+"";n=null!=e[t]||et(n,e)?[t]:ht(n);for(var a=-1,r=n.length,o=r-1,l=e;null!=l&&++a<r;){var i=n[a];Ma(l)&&(a==o?l[i]=s:null==l[i]&&(l[i]=Qs(n[a+1])?[]:{})),l=l[i]}return e}function ar(e,n,s,t){var a=Rl(e)||Ha(e);if(n=zs(n,t,4),null==s)if(a||Ma(e)){var r=e.constructor;s=a?Rl(e)?new r:[]:Ao(Pa(r)?r.prototype:T)}else s={};return(a?nn:On)(e,function(e,t,a){return n(s,e,t,a)}),s}function rr(e){return ns(e,Ul(e))}function or(e){return ns(e,er(e))}function lr(e,n,s){return n=+n||0,s===T?(s=n,n=0):s=+s||0,e>=_o(n,s)&&e<ko(n,s)}function ir(e,n,s){s&&Zs(e,n,s)&&(n=s=T);var t=null==e,a=null==n;if(null==s&&(a&&"boolean"==typeof e?(s=e,e=1):"boolean"==typeof n&&(s=n,a=!0)),t&&a&&(n=1,a=!1),e=+e||0,a?(n=e,e=0):n=+n||0,s||e%1||n%1){var r=Co();return _o(e+r*(n-e+lo("1e-"+((r+"").length-1))),n)}return Yn(e,n)}function pr(e){return e=p(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function cr(e){return e=p(e),e&&e.replace(Fe,f).replace(Ee,"")}function ur(e,n,s){e=p(e),n+="";var t=e.length;return s=s===T?t:_o(0>s?0:+s||0,t),s-=n.length,s>=0&&e.indexOf(n,s)==s}function hr(e){return e=p(e),e&&ke.test(e)?e.replace(je,m):e}function dr(e){return e=p(e),e&&Ie.test(e)?e.replace(Re,g):e||"(?:)"}function fr(e,n,s){e=p(e),n=+n;var t=e.length;if(t>=n||!jo(n))return e;var a=(n-t)/2,r=vo(a),o=go(a);return s=Ps("",o,s),s.slice(0,r)+e+s}function mr(e,n,s){return(s?Zs(e,n,s):null==n)?n=0:n&&(n=+n),e=br(e),So(e,n||(Ae.test(e)?16:10))}function gr(e,n){var s="";if(e=p(e),n=+n,1>n||!e||!jo(n))return s;do n%2&&(s+=e),n=vo(n/2),e+=e;while(n);return s}function yr(e,n,s){return e=p(e),s=null==s?0:_o(0>s?0:+s||0,e.length),e.lastIndexOf(n,s)==s}function vr(e,s,t){var a=n.templateSettings;t&&Zs(e,s,t)&&(s=t=T),e=p(e),s=yn(vn({},t||s),a,gn);var r,o,l=yn(vn({},s.imports),a.imports,gn),i=Ul(l),c=ns(l,i),u=0,h=s.interpolate||Le,d="__p += '",f=Yr((s.escape||Le).source+"|"+h.source+"|"+(h===Se?Pe:Le).source+"|"+(s.evaluate||Le).source+"|$","g"),m="//# sourceURL="+("sourceURL"in s?s.sourceURL:"lodash.templateSources["+ ++He+"]")+"\n";e.replace(f,function(n,s,t,a,l,i){return t||(t=a),d+=e.slice(u,i).replace(Ue,y),s&&(r=!0,d+="' +\n__e("+s+") +\n'"),l&&(o=!0,d+="';\n"+l+";\n__p += '"),t&&(d+="' +\n((__t = ("+t+")) == null ? '' : __t) +\n'"),u=i+n.length,n}),d+="';\n";var g=s.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(ge,""):d).replace(ye,"$1").replace(ve,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Xl(function(){return Hr(i,m+"return "+d).apply(T,c)});if(v.source=d,Ea(v))throw v;return v}function br(e,n,s){var t=e;return(e=p(e))?(s?Zs(t,n,s):null==n)?e.slice(_(e),x(e)+1):(n+="",e.slice(c(e,n),u(e,n)+1)):e}function jr(e,n,s){var t=e;return e=p(e),e?(s?Zs(t,n,s):null==n)?e.slice(_(e)):e.slice(c(e,n+"")):e}function wr(e,n,s){var t=e;return e=p(e),e?(s?Zs(t,n,s):null==n)?e.slice(0,x(e)+1):e.slice(0,u(e,n+"")+1):e}function kr(e,n,s){s&&Zs(e,n,s)&&(n=T);var t=F,a=L;if(null!=n)if(Ma(n)){var r="separator"in n?n.separator:r;t="length"in n?+n.length||0:t,a="omission"in n?p(n.omission):a}else t=+n||0;if(e=p(e),t>=e.length)return e;var o=t-a.length;if(1>o)return a;var l=e.slice(0,o);if(null==r)return l+a;if(za(r)){if(e.slice(o).search(r)){var i,c,u=e.slice(0,o);for(r.global||(r=Yr(r.source,(Me.exec(r)||"")+"g")),r.lastIndex=0;i=r.exec(u);)c=i.index;l=l.slice(0,null==c?o:c)}}else if(e.indexOf(r,o)!=o){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+a}function _r(e){return e=p(e),e&&we.test(e)?e.replace(be,S):e}function xr(e,n,s){return s&&Zs(e,n,s)&&(n=T),e=p(e),e.match(n||ze)||[]}function Sr(e,n,s){return s&&Zs(e,n,s)&&(n=T),b(e)?Dr(e):wn(e,n)}function Cr(e){return function(){return e}}function Tr(e){return e}function Dr(e){return Un(kn(e,!0))}function Rr(e,n){return zn(e,kn(n,!0))}function Ir(e,n,s){if(null==s){var t=Ma(n),a=t?Ul(n):T,r=a&&a.length?Mn(n,a):T;(r?r.length:t)||(r=!1,s=n,n=e,e=this)}r||(r=Mn(n,Ul(n)));var o=!0,l=-1,i=Pa(e),p=r.length;s===!1?o=!1:Ma(s)&&"chain"in s&&(o=s.chain);for(;++l<p;){var c=r[l],u=n[c];e[c]=u,i&&(e.prototype[c]=function(n){return function(){var s=this.__chain__;if(o||s){var t=e(this.__wrapped__),a=t.__actions__=en(this.__actions__);return a.push({func:n,args:arguments,thisArg:e}),t.__chain__=s,t}return n.apply(e,cn([this.value()],arguments))}}(u))}return e}function Er(){return tn._=to,this}function Or(){}function Pr(e){return et(e)?Wn(e):Vn(e)}function Mr(e){return function(n){return An(e,ht(n),n+"")}}function Ar(e,n,s){s&&Zs(e,n,s)&&(n=s=T),e=+e||0,s=null==s?1:+s||0,null==n?(n=e,e=0):n=+n||0;for(var t=-1,a=ko(go((n-e)/(s||1)),0),r=Ur(a);++t<a;)r[t]=e,e+=s;return r}function qr(e,n,s){if(e=vo(e),1>e||!jo(e))return[];var t=-1,a=Ur(_o(e,Ro));for(n=os(n,s,1);++t<e;)Ro>t?a[t]=n(t):n(t);return a}function Nr(e){var n=++no;return p(e)+n}function Fr(e,n){return(+e||0)+(+n||0)}function Lr(e,n,s){return s&&Zs(e,n,s)&&(n=T),n=zs(n,s,3),1==n.length?fn(Rl(e)?e:ct(e),n):Zn(e,n)}e=e?an.defaults(tn.Object(),e,an.pick(tn,Be)):tn;var Ur=e.Array,zr=e.Date,Br=e.Error,Hr=e.Function,Wr=e.Math,Vr=e.Number,Gr=e.Object,Yr=e.RegExp,Kr=e.String,Jr=e.TypeError,$r=Ur.prototype,Xr=Gr.prototype,Qr=Kr.prototype,Zr=Hr.prototype.toString,eo=Xr.hasOwnProperty,no=0,so=Xr.toString,to=tn._,ao=Yr("^"+Zr.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ro=e.ArrayBuffer,oo=e.clearTimeout,lo=e.parseFloat,io=Wr.pow,po=Xr.propertyIsEnumerable,co=Vs(e,"Set"),uo=e.setTimeout,ho=$r.splice,fo=e.Uint8Array,mo=Vs(e,"WeakMap"),go=Wr.ceil,yo=Vs(Gr,"create"),vo=Wr.floor,bo=Vs(Ur,"isArray"),jo=e.isFinite,wo=Vs(Gr,"keys"),ko=Wr.max,_o=Wr.min,xo=Vs(zr,"now"),So=e.parseInt,Co=Wr.random,To=Vr.NEGATIVE_INFINITY,Do=Vr.POSITIVE_INFINITY,Ro=4294967295,Io=Ro-1,Eo=Ro>>>1,Oo=9007199254740991,Po=mo&&new mo,Mo={};n.support={};n.templateSettings={escape:_e,evaluate:xe,interpolate:Se,variable:"",imports:{_:n}};var Ao=function(){function e(){}return function(n){if(Ma(n)){e.prototype=n;var s=new e;e.prototype=T}return s||{}}}(),qo=hs(On),No=hs(Pn,!0),Fo=ds(),Lo=ds(!0),Uo=Po?function(e,n){return Po.set(e,n),e}:Tr,zo=Po?function(e){return Po.get(e)}:Or,Bo=Wn("length"),Ho=function(){var e=0,n=0;return function(s,t){var a=ml(),r=z-(a-n);if(n=a,r>0){if(++e>=U)return s}else e=0;return Uo(s,t)}}(),Wo=ya(function(e,n){return b(e)&&Xs(e)?xn(e,In(n,!1,!0)):[]}),Vo=ks(),Go=ks(!0),Yo=ya(function(e){for(var n=e.length,s=n,t=Ur(u),a=Hs(),r=a==l,o=[];s--;){var i=e[s]=Xs(i=e[s])?i:[];t[s]=r&&i.length>=120?ms(s&&i):null}var p=e[0],c=-1,u=p?p.length:0,h=t[0];e:for(;++c<u;)if(i=p[c],(h?Xe(h,i):a(o,i,0))<0){for(var s=n;--s;){var d=t[s];if((d?Xe(d,i):a(e[s],i,0))<0)continue e}h&&h.push(i),o.push(i)}return o}),Ko=ya(function(e,n){n=In(n);var s=bn(e,n);return Gn(e,n.sort(r)),s}),Jo=qs(),$o=qs(!0),Xo=ya(function(e){return es(In(e,!1,!0))}),Qo=ya(function(e,n){return Xs(e)?xn(e,n):[]}),Zo=ya(Nt),el=ya(function(e){var n=e.length,s=n>2?e[n-2]:T,t=n>1?e[n-1]:T;return n>2&&"function"==typeof s?n-=2:(s=n>1&&"function"==typeof t?(--n,t):T,t=T),e.length=n,Ft(e,s,t)}),nl=ya(function(e){return e=In(e),this.thru(function(n){return Ze(Rl(n)?n:[ut(n)],e)})}),sl=ya(function(e,n){return bn(e,In(n))}),tl=cs(function(e,n,s){eo.call(e,s)?++e[s]:e[s]=1}),al=ws(qo),rl=ws(No,!0),ol=Ss(nn,qo),ll=Ss(sn,No),il=cs(function(e,n,s){eo.call(e,s)?e[s].push(n):e[s]=[n]}),pl=cs(function(e,n,s){e[s]=n}),cl=ya(function(e,n,s){var t=-1,a="function"==typeof n,r=et(n),o=Xs(e)?Ur(e.length):[];return qo(e,function(e){var l=a?n:r&&null!=e?e[n]:T;o[++t]=l?l.apply(e,s):$s(e,n,s)}),o}),ul=cs(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]}),hl=Es(un,qo),dl=Es(hn,No),fl=ya(function(e,n){if(null==e)return[];var s=n[2];return s&&Zs(n[0],n[1],s)&&(n.length=1),Qn(e,In(n),[])}),ml=xo||function(){return(new zr).getTime()},gl=ya(function(e,n,s){var t=R;if(s.length){var a=w(s,gl.placeholder);t|=M}return Ns(e,t,n,s,a)}),yl=ya(function(e,n){n=n.length?In(n):$a(e);for(var s=-1,t=n.length;++s<t;){var a=n[s];e[a]=Ns(e[a],R,e)}return e}),vl=ya(function(e,n,s){var t=R|I;if(s.length){var a=w(s,vl.placeholder);t|=M}return Ns(n,t,e,s,a)}),bl=vs(O),jl=vs(P),wl=ya(function(e,n){return _n(e,1,n)}),kl=ya(function(e,n,s){return _n(e,n,s)}),_l=xs(),xl=xs(!0),Sl=ya(function(e,n){if(n=In(n),"function"!=typeof e||!rn(n,i))throw new Jr(V);
var s=n.length;return ya(function(t){for(var a=_o(t.length,s);a--;)t[a]=n[a](t[a]);return e.apply(this,t)})}),Cl=Is(M),Tl=Is(A),Dl=ya(function(e,n){return Ns(e,N,T,T,T,In(n))}),Rl=bo||function(e){return b(e)&&st(e.length)&&so.call(e)==K},Il=us(Bn),El=us(function(e,n,s){return s?yn(e,n,s):vn(e,n)}),Ol=bs(El,mn),Pl=bs(Il,rt),Ml=_s(On),Al=_s(Pn),ql=Cs(Fo),Nl=Cs(Lo),Fl=Ts(On),Ll=Ts(Pn),Ul=wo?function(e){var n=null==e?T:e.constructor;return"function"==typeof n&&n.prototype===e||"function"!=typeof e&&Xs(e)?pt(e):Ma(e)?wo(e):[]}:pt,zl=Ds(!0),Bl=Ds(),Hl=ya(function(e,n){if(null==e)return{};if("function"!=typeof n[0]){var n=pn(In(n),Kr);return ot(e,xn(er(e),n))}var s=os(n[0],n[1],3);return lt(e,function(e,n,t){return!s(e,n,t)})}),Wl=ya(function(e,n){return null==e?{}:"function"==typeof n[0]?lt(e,os(n[0],n[1],3)):ot(e,In(n))}),Vl=gs(function(e,n,s){return n=n.toLowerCase(),e+(s?n.charAt(0).toUpperCase()+n.slice(1):n)}),Gl=gs(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),Yl=Rs(),Kl=Rs(!0),Jl=gs(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()}),$l=gs(function(e,n,s){return e+(s?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))}),Xl=ya(function(e,n){try{return e.apply(T,n)}catch(s){return Ea(s)?s:new Br(s)}}),Ql=ya(function(e,n){return function(s){return $s(s,e,n)}}),Zl=ya(function(e,n){return function(s){return $s(e,s,n)}}),ei=As("ceil"),ni=As("floor"),si=js(_a,To),ti=js(Va,Do),ai=As("round");return n.prototype=s.prototype,t.prototype=Ao(s.prototype),t.prototype.constructor=t,a.prototype=Ao(s.prototype),a.prototype.constructor=a,re.prototype["delete"]=Ge,re.prototype.get=Ye,re.prototype.has=Ke,re.prototype.set=Je,$e.prototype.push=Qe,fa.Cache=re,n.after=ca,n.ary=ua,n.assign=El,n.at=sl,n.before=ha,n.bind=gl,n.bindAll=yl,n.bindKey=vl,n.callback=Sr,n.chain=zt,n.chunk=ft,n.compact=mt,n.constant=Cr,n.countBy=tl,n.create=Ja,n.curry=bl,n.curryRight=jl,n.debounce=da,n.defaults=Ol,n.defaultsDeep=Pl,n.defer=wl,n.delay=kl,n.difference=Wo,n.drop=gt,n.dropRight=yt,n.dropRightWhile=vt,n.dropWhile=bt,n.fill=jt,n.filter=Xt,n.flatten=kt,n.flattenDeep=_t,n.flow=_l,n.flowRight=xl,n.forEach=ol,n.forEachRight=ll,n.forIn=ql,n.forInRight=Nl,n.forOwn=Fl,n.forOwnRight=Ll,n.functions=$a,n.groupBy=il,n.indexBy=pl,n.initial=St,n.intersection=Yo,n.invert=Za,n.invoke=cl,n.keys=Ul,n.keysIn=er,n.map=ea,n.mapKeys=zl,n.mapValues=Bl,n.matches=Dr,n.matchesProperty=Rr,n.memoize=fa,n.merge=Il,n.method=Ql,n.methodOf=Zl,n.mixin=Ir,n.modArgs=Sl,n.negate=ma,n.omit=Hl,n.once=ga,n.pairs=nr,n.partial=Cl,n.partialRight=Tl,n.partition=ul,n.pick=Wl,n.pluck=na,n.property=Pr,n.propertyOf=Mr,n.pull=Dt,n.pullAt=Ko,n.range=Ar,n.rearg=Dl,n.reject=sa,n.remove=Rt,n.rest=It,n.restParam=ya,n.set=tr,n.shuffle=aa,n.slice=Et,n.sortBy=la,n.sortByAll=fl,n.sortByOrder=ia,n.spread=va,n.take=Ot,n.takeRight=Pt,n.takeRightWhile=Mt,n.takeWhile=At,n.tap=Bt,n.throttle=ba,n.thru=Ht,n.times=qr,n.toArray=Ya,n.toPlainObject=Ka,n.transform=ar,n.union=Xo,n.uniq=qt,n.unzip=Nt,n.unzipWith=Ft,n.values=rr,n.valuesIn=or,n.where=pa,n.without=Qo,n.wrap=ja,n.xor=Lt,n.zip=Zo,n.zipObject=Ut,n.zipWith=el,n.backflow=xl,n.collect=ea,n.compose=xl,n.each=ol,n.eachRight=ll,n.extend=El,n.iteratee=Sr,n.methods=$a,n.object=Ut,n.select=Xt,n.tail=It,n.unique=qt,Ir(n,n),n.add=Fr,n.attempt=Xl,n.camelCase=Vl,n.capitalize=pr,n.ceil=ei,n.clone=wa,n.cloneDeep=ka,n.deburr=cr,n.endsWith=ur,n.escape=hr,n.escapeRegExp=dr,n.every=$t,n.find=al,n.findIndex=Vo,n.findKey=Ml,n.findLast=rl,n.findLastIndex=Go,n.findLastKey=Al,n.findWhere=Qt,n.first=wt,n.floor=ni,n.get=Xa,n.gt=_a,n.gte=xa,n.has=Qa,n.identity=Tr,n.includes=Zt,n.indexOf=xt,n.inRange=lr,n.isArguments=Sa,n.isArray=Rl,n.isBoolean=Ca,n.isDate=Ta,n.isElement=Da,n.isEmpty=Ra,n.isEqual=Ia,n.isError=Ea,n.isFinite=Oa,n.isFunction=Pa,n.isMatch=Aa,n.isNaN=qa,n.isNative=Na,n.isNull=Fa,n.isNumber=La,n.isObject=Ma,n.isPlainObject=Ua,n.isRegExp=za,n.isString=Ba,n.isTypedArray=Ha,n.isUndefined=Wa,n.kebabCase=Gl,n.last=Ct,n.lastIndexOf=Tt,n.lt=Va,n.lte=Ga,n.max=si,n.min=ti,n.noConflict=Er,n.noop=Or,n.now=ml,n.pad=fr,n.padLeft=Yl,n.padRight=Kl,n.parseInt=mr,n.random=ir,n.reduce=hl,n.reduceRight=dl,n.repeat=gr,n.result=sr,n.round=ai,n.runInContext=C,n.size=ra,n.snakeCase=Jl,n.some=oa,n.sortedIndex=Jo,n.sortedLastIndex=$o,n.startCase=$l,n.startsWith=yr,n.sum=Lr,n.template=vr,n.trim=br,n.trimLeft=jr,n.trimRight=wr,n.trunc=kr,n.unescape=_r,n.uniqueId=Nr,n.words=xr,n.all=$t,n.any=oa,n.contains=Zt,n.eq=Ia,n.detect=al,n.foldl=hl,n.foldr=dl,n.head=wt,n.include=Zt,n.inject=hl,Ir(n,function(){var e={};return On(n,function(s,t){n.prototype[t]||(e[t]=s)}),e}(),!1),n.sample=ta,n.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(n){return ta(n,e)}):ta(this.value())},n.VERSION=D,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),nn(["drop","take"],function(e,n){a.prototype[e]=function(s){var t=this.__filtered__;if(t&&!n)return new a(this);s=null==s?1:ko(vo(s)||0,0);var r=this.clone();return t?r.__takeCount__=_o(r.__takeCount__,s):r.__views__.push({size:s,type:e+(r.__dir__<0?"Right":"")}),r},a.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),nn(["filter","map","takeWhile"],function(e,n){var s=n+1,t=s!=W;a.prototype[e]=function(e,n){var a=this.clone();return a.__iteratees__.push({iteratee:zs(e,n,1),type:s}),a.__filtered__=a.__filtered__||t,a}}),nn(["first","last"],function(e,n){var s="take"+(n?"Right":"");a.prototype[e]=function(){return this[s](1).value()[0]}}),nn(["initial","rest"],function(e,n){var s="drop"+(n?"":"Right");a.prototype[e]=function(){return this.__filtered__?new a(this):this[s](1)}}),nn(["pluck","where"],function(e,n){var s=n?"filter":"map",t=n?Un:Pr;a.prototype[e]=function(e){return this[s](t(e))}}),a.prototype.compact=function(){return this.filter(Tr)},a.prototype.reject=function(e,n){return e=zs(e,n,1),this.filter(function(n){return!e(n)})},a.prototype.slice=function(e,n){e=null==e?0:+e||0;var s=this;return s.__filtered__&&(e>0||0>n)?new a(s):(0>e?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==T&&(n=+n||0,s=0>n?s.dropRight(-n):s.take(n-e)),s)},a.prototype.takeRightWhile=function(e,n){return this.reverse().takeWhile(e,n).reverse()},a.prototype.toArray=function(){return this.take(Do)},On(a.prototype,function(e,s){var r=/^(?:filter|map|reject)|While$/.test(s),o=/^(?:first|last)$/.test(s),l=n[o?"take"+("last"==s?"Right":""):s];l&&(n.prototype[s]=function(){var n=o?[1]:arguments,s=this.__chain__,i=this.__wrapped__,p=!!this.__actions__.length,c=i instanceof a,u=n[0],h=c||Rl(i);h&&r&&"function"==typeof u&&1!=u.length&&(c=h=!1);var d=function(e){return o&&s?l(e,1)[0]:l.apply(T,cn([e],n))},f={func:Ht,args:[d],thisArg:T},m=c&&!p;if(o&&!s)return m?(i=i.clone(),i.__actions__.push(f),e.call(i)):l.call(T,this.value())[0];if(!o&&h){i=m?i:new a(this);var g=e.apply(i,n);return g.__actions__.push(f),new t(g,s)}return this.thru(d)})}),nn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var s=(/^(?:replace|split)$/.test(e)?Qr:$r)[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:join|pop|replace|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;return a&&!this.__chain__?s.apply(this.value(),e):this[t](function(n){return s.apply(n,e)})}}),On(a.prototype,function(e,s){var t=n[s];if(t){var a=t.name,r=Mo[a]||(Mo[a]=[]);r.push({name:s,func:t})}}),Mo[Os(T,I).name]=[{name:"wrapper",func:T}],a.prototype.clone=j,a.prototype.reverse=Z,a.prototype.value=te,n.prototype.chain=Wt,n.prototype.commit=Vt,n.prototype.concat=nl,n.prototype.plant=Gt,n.prototype.reverse=Yt,n.prototype.toString=Kt,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Jt,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var T,D="3.10.1",R=1,I=2,E=4,O=8,P=16,M=32,A=64,q=128,N=256,F=30,L="...",U=150,z=16,B=200,H=1,W=2,V="Expected a function",G="__lodash_placeholder__",Y="[object Arguments]",K="[object Array]",J="[object Boolean]",$="[object Date]",X="[object Error]",Q="[object Function]",Z="[object Map]",ee="[object Number]",ne="[object Object]",se="[object RegExp]",te="[object Set]",ae="[object String]",re="[object WeakMap]",oe="[object ArrayBuffer]",le="[object Float32Array]",ie="[object Float64Array]",pe="[object Int8Array]",ce="[object Int16Array]",ue="[object Int32Array]",he="[object Uint8Array]",de="[object Uint8ClampedArray]",fe="[object Uint16Array]",me="[object Uint32Array]",ge=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,je=/[&<>"'`]/g,we=RegExp(be.source),ke=RegExp(je.source),_e=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Te=/^\w*$/,De=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Re=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ie=RegExp(Re.source),Ee=/[\u0300-\u036f\ufe20-\ufe23]/g,Oe=/\\(\\)?/g,Pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Me=/\w*$/,Ae=/^0[xX]/,qe=/^\[object .+?Constructor\]$/,Ne=/^\d+$/,Fe=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Ue=/['\n\r\u2028\u2029\\]/g,ze=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+n+")|"+e+"?"+n+"|"+e+"+|[0-9]+","g")}(),Be=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],He=-1,We={};We[le]=We[ie]=We[pe]=We[ce]=We[ue]=We[he]=We[de]=We[fe]=We[me]=!0,We[Y]=We[K]=We[oe]=We[J]=We[$]=We[X]=We[Q]=We[Z]=We[ee]=We[ne]=We[se]=We[te]=We[ae]=We[re]=!1;var Ve={};Ve[Y]=Ve[K]=Ve[oe]=Ve[J]=Ve[$]=Ve[le]=Ve[ie]=Ve[pe]=Ve[ce]=Ve[ue]=Ve[ee]=Ve[ne]=Ve[se]=Ve[ae]=Ve[he]=Ve[de]=Ve[fe]=Ve[me]=!0,Ve[X]=Ve[Q]=Ve[Z]=Ve[te]=Ve[re]=!1;var Ge={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ke={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Je={"function":!0,object:!0},$e={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qe=Je[typeof n]&&n&&!n.nodeType&&n,Ze=Je[typeof e]&&e&&!e.nodeType&&e,en=Qe&&Ze&&"object"==typeof a&&a&&a.Object&&a,nn=Je[typeof self]&&self&&self.Object&&self,sn=Je[typeof window]&&window&&window.Object&&window,tn=(Ze&&Ze.exports===Qe&&Qe,en||sn!==(this&&this.window)&&sn||nn||this),an=C();tn._=an,t=function(){return an}.call(n,s,n,e),!(t!==T&&(e.exports=t))}).call(this)}).call(n,s(256)(e),function(){return this}())},function(e,n){e.exports={row:"index__row___3dbfk",posts:"index__posts___8I9Ct",linkedTitle:"index__linkedTitle___2Vxgq"}},function(e,n){e.exports={title:"A Foray Into Haxl: PostgreSQL Simple",date:"Fri, 04 Jul 2014 19:22:59 +0000",layout:"post",path:"/2014/7/4/a-foray-into-haxl-postgresql-simple/",body:'<p>I wrote a simple Haxl DataSource and I thought it would be good to share. If you don’t know what Haxl is you can find out more <a href="https://github.com/facebook/Haxl">here</a>.</p>\n<p>The gist with the relevant .cabal and DataSource is <a href="https://gist.github.com/ChristopherBiscardi/45c765eb292d96ab4549">here</a></p>\n<h2>Table</h2>\n<p>We will need a people table to store our people:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"sql"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;CREATE TABLE people (\n    _id bigserial primary key,\n    first_name text <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,\n    last_name text <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,\n    age <span class="hljs-built_in">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>\n);```\n\n<span class="hljs-keyword">And</span> some data <span class="hljs-keyword">to</span> query:\n\n</code></pre>\n<p><code class="sql" style="overflow-x:auto">INSERT INTO people (“first_name”, “last_name”, “age”) VALUES (‘Bob’,‘Seger’,69);\nINSERT INTO people (“first_name”, “last_name”, “age”) VALUES (‘Billy’,‘Idol’,58);```</p>\n<p>which gives us a table that looks like:</p>\n<pre><code><span class="hljs-variable">&lt;code class="asciidoc" style="overflow-x:auto"&gt;</span>peopledb=<span class="hljs-comment"># select * from people;</span>\n _id |<span class="hljs-string"> first_name </span>|<span class="hljs-string"> last_name </span>|<span class="hljs-string"> age\n-----+------------+-----------+-----\n   1 </span>|<span class="hljs-string"> Bob        </span>|<span class="hljs-string"> Seger     </span>|<span class="hljs-string">  69\n   2 </span>|<span class="hljs-string"> Billy      </span>|<span class="hljs-string"> Idol      </span>|<span class="hljs-string">  58\n(2 rows)```\n\nWe can then head into ghci and check out the Haxl DataSource.\n\n</span></code></pre>\n<p><code class="ghci" style="overflow-x:auto">ghci DataSource.hs\nlet cinfo = defaultConnectInfo {connectUser = “pgsuper”, connectPassword = “password”, connectDatabase = “peopledb”}\npgstate ```</p>\n<p>If we check out the value of <code>r</code> we see a <code>Just Person</code>.</p>\n<p><code>&lt;code class=&quot;ghci&quot; style=&quot;overflow-x:auto&quot;&gt;Just (Person {_id = PersonId 1, first_name = &quot;Bob&quot;, last_name = &quot;Seger&quot;, age = 69})</code></p>\n<h2>The Code</h2>\n<p>First, we need a datatype to be querying. Of note is that we’ve <code>newtype</code>\'d <code>PersonId</code>, so we’ll use <code>GeneralizedNewtypeDeriving</code> to get the <code>FromField</code> instance from <code>Int</code></p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;<span class="hljs-typedef"><span class="hljs-keyword">newtype</span> <span class="hljs-type">PersonId</span> = <span class="hljs-type">PersonId</span> <span class="hljs-type">Int</span> <span class="hljs-keyword">deriving</span> <span class="hljs-container">(<span class="hljs-type">Show</span>, <span class="hljs-type">Eq</span>, <span class="hljs-type">FromField</span>)</span></span>\n\n<span class="hljs-typedef"><span class="hljs-keyword">data</span> <span class="hljs-type">Person</span> = <span class="hljs-type">Person</span> <span class="hljs-container">{ <span class="hljs-title">_id</span>        :: <span class="hljs-type">PersonId</span>\n                     , <span class="hljs-title">first_name</span> :: <span class="hljs-type">Text</span>\n                     , <span class="hljs-title">last_name</span>  :: <span class="hljs-type">Text</span>\n                     , <span class="hljs-title">age</span>        :: <span class="hljs-type">Int</span> }</span> <span class="hljs-keyword">deriving</span> <span class="hljs-container">(<span class="hljs-type">Show</span>, <span class="hljs-type">Typeable</span>)</span>```</span>\n\n<span class="hljs-type">Next</span> we\'ll define our requests <span class="hljs-keyword">as</span> a <span class="hljs-type">GADT</span>. <span class="hljs-type">In</span> this <span class="hljs-keyword">case</span> we only have a single request <span class="hljs-typedef"><span class="hljs-keyword">type</span>: "<span class="hljs-type">GetPerson</span>", which takes a `<span class="hljs-type">PersonId</span>` and looks up that user.</span>\n\n</code></pre>\n<p><code class="haskell" style="overflow-x:auto">data PGReq a where\nGetPerson :: PersonId -&gt; PGReq (Maybe Person)\nderiving Typeable```</p>\n<p>Now we need some simple boilerplate. The Hashable instance defines the hash of our request types for the cache. In this case a <code>GetPerson</code> request is as a tuple of <code>(0,PersonId)</code>.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;deriving<span class="hljs-instruction"> instance </span>Eq<span class="hljs-function"> (</span>PGReq a<span class="hljs-function">)</span>\nderiving<span class="hljs-instruction"> instance </span>Show<span class="hljs-function"> (</span>PGReq a<span class="hljs-function">)</span>\n<span class="hljs-instruction">\ninstance </span>Show1 PGReq where show1 = show\n<span class="hljs-instruction">\ninstance </span>Hashable<span class="hljs-function"> (</span>PGReq a<span class="hljs-function">)</span> where\n  hashWithSalt s<span class="hljs-function"> (</span>GetPerson<span class="hljs-function"> (</span>PersonId pid<span class="hljs-function">)</span><span class="hljs-function">)</span> = hashWithSalt s<span class="hljs-function"> (</span>0::Int, pid<span class="hljs-function">)</span>```\n\nFollowing the boilerplate we\'ll create a `StateKey` instance. Since this is a simple implementation, we\'ll put the connection information in our state so we can create connections later. We\'ll also define a function to initialize said state.\n\n</code></pre>\n<p><code class="haskell" style="overflow-x:auto">instance StateKey PGReq where\ndata State PGReq =\nPGState\n{ connInfo :: ConnectInfo }</p>\n<p>initHaxlState\n:: ConnectInfo\n-&gt; IO (State PGReq)\ninitHaxlState cInfo = do\nreturn PGState\n{ connInfo = cInfo }```</p>\n<p>Haxl needs us to name our DataSource and tell it which function to use for fetching data.</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;instance DataSourceName PGReq <span class="hljs-keyword">where</span>\n  dataSourceName _ = <span class="hljs-string">"Postgres"</span>\n\ninstance DataSource u PGReq <span class="hljs-keyword">where</span>\n  fetch = pgFetch```\n\nThen we can define our asynchronous fetch functions which will process our `BlockedFetch`es. We <span class="hljs-keyword">put</span> a failure <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> exceptions <span class="hljs-keyword">and</span> pass <span class="hljs-keyword">the</span> data <span class="hljs-keyword">through</span> <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> a success.\n\n</code></pre>\n<p><code class="haskell" style="overflow-x:auto">pgFetch\n:: State PGReq\n-&gt; Flags\n-&gt; u\n-&gt; [BlockedFetch PGReq]\n-&gt; PerformFetch\npgFetch PGState {…} _flags _user bfs =\nAsyncFetch $ \\inner -&gt; do\nasyncs  BlockedFetch PGReq\n-&gt; IO (Async ())\nfetchAsync creds (BlockedFetch req rvar) =\nasync $ do\nbracket (connect creds) (close) $ \\conn -&gt; do\ne  putFailure rvar (ex :: SomeException)\nRight val -&gt; putSuccess rvar val```</p>\n<p>Finally, we can define our application logic. In this case our only request type is <code>GetPerson</code>, so we need to get a single <code>Person</code> by <code>PersonId</code>. We could also write more <code>fetchReq</code> patterns if we had more request types.</p>\n<p><code>getPerson</code> is the function we’ll actually call to get a person by id; As seen in the intro to this post.</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;fetchReq\n  :: Connection\n  -&gt; PGReq <span class="hljs-tag">a</span>\n  -&gt; IO <span class="hljs-tag">a</span>\nfetchReq conn (GetPerson (PersonId pid)) = do\n  people  GenHaxl u (Maybe Person)\ngetPerson pid = dataFetch (GetPerson pid)```\n\n\n</code></pre>\n'}},function(e,n){e.exports={title:"A Python Flask CRUD",date:"Thu, 06 Dec 2012 08:45:57 +0000",layout:"post",path:"/2012/12/6/a-python-flask-crud/",body:'<p>Recently I was asked to build a CRUD app.</p>\n<p>The task was open to using any tech I wanted on the backend, so my first thought was a distributed service in Erlang with a WebMachine interface. This would satisfy the REST requirements for the location service, which we could access via an application server for web.</p>\n<p>However, the preferred method for this task was described to be Python/Flask, So we’ll use that.</p>\n<p>Since sessions are not technically RESTful, they cannot be included in a user authentication scheme. Client side on mobile devices is a different story, with iOS using keychain for security and Android advocating OAuth-type approaches. As it happens, the task language doesn’t include the concept of users, just locations, so we’ll skip authentication to make it REST-Compliant (note: REST doesn’t have a spec.)</p>\n<p>Attributes of a favorite location object include:</p>\n<ul>\n<li>id</li>\n<li>lat</li>\n<li>lng</li>\n<li>address (e.g. 800 Market Street, San Francisco, CA 94114)</li>\n<li>name (e.g. Work)</li>\n</ul>\n<p>This could easily fit in a SQL database, but since we’re using Geolocation and I happen to know that MongoDB’s Geo facilities would allow us to query based on distance from our current position, we’ll use Mongo. Alternatively, we could have also used ElasticSearch/Solr/Lucene but Mongo will serve our purposes just fine.</p>\n<p>We will be deploying on Heroku to use the free ssl support and addons. In reality Heroku is a test platform due to being hosted on EC2 US East only. We will also be skipping the CDN (CloudFront/S3/etc) as the total users here will be under 5.</p>\n<p>I’ve never used Flask before, so this will take a little longer than normal. If I was going for turnaround time, I might have used node.js and express or RESTify because I’m stronger with JS/node.</p>\n<p>To connect to the Mongo Instance on Heroku || localhost:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"python"</span>&gt;\n  import pymongo\n\n  # Get MongoDB URL <span class="hljs-keyword">if</span> <span class="hljs-keyword">on</span> Heroku, <span class="hljs-keyword">else</span> <span class="hljs-keyword">use</span> localhost\n  MONGO_URL = os.environ.<span class="hljs-literal">get</span>(\'MONGOHQ_URL\')\n   \n   <span class="hljs-keyword">if</span> MONGO_URL:\n       # Get a connection\n       conn = pymongo.Connection(MONGO_URL)\n   \n       # Get the database\n       <span class="hljs-keyword">db</span> = conn[urlparse(MONGO_URL).path[1:]]\n   <span class="hljs-keyword">else</span>:\n       # Not <span class="hljs-keyword">on</span> <span class="hljs-keyword">an</span> <span class="hljs-keyword">app</span> with the MongoHQ add-<span class="hljs-keyword">on</span>, <span class="hljs-keyword">do</span> some localhost action\n       conn = pymongo.Connection(\'localhost\', 27017)\n       <span class="hljs-keyword">db</span> = conn[\'<span class="hljs-keyword">test</span>\']\n  # locations Collection\n  locationsC = <span class="hljs-keyword">db</span>.locations\n</code></pre>\n<p>And set up some content negotiation formatters:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"python"</span>&gt;\n<span class="hljs-comment"># Content Negotiation Formatters</span>\n\n\nclass <span class="hljs-constant">JSONFormatter(Formatter)</span><span class="hljs-symbol">:</span>\n    format = <span class="hljs-string">\'json\'</span>\n    mimetypes = [<span class="hljs-string">\'application/json\'</span>]\n\n    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">render</span></span>(<span class="hljs-keyword">self</span>, obj)<span class="hljs-symbol">:</span>\n        <span class="hljs-keyword">return</span> json.dumps(obj)\n\n\nclass <span class="hljs-constant">HTMLFormatter(Formatter)</span><span class="hljs-symbol">:</span>\n    format = <span class="hljs-string">\'json\'</span>\n    mimetypes = [<span class="hljs-string">\'text/html\'</span>]\n\n    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">configure</span></span>(<span class="hljs-keyword">self</span>, template)<span class="hljs-symbol">:</span>\n        <span class="hljs-keyword">self</span>.template = template\n\n    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">render</span></span>(<span class="hljs-keyword">self</span>, obj)<span class="hljs-symbol">:</span>\n        <span class="hljs-keyword">return</span> render_template(<span class="hljs-keyword">self</span>.template, **obj)\n</code></pre>\n<p>Having got some server basics out of the way I started on the structure of the home page. There isn’t a defined business purpose here, so I chose to make the design based around creating new locations.</p>\n<p><a href="http://www.christopherbiscardi.com/2012/12/06/a-python-flask-crud/screen-shot-2013-01-18-at-8-31-37-am/"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/h_174,w_300/v1428611529/Screen-shot-2013-01-18-at-8.31.37-AM_vtxjto.png" alt="Python Crud App Homepage"></a></p>\n'}},function(e,n){e.exports={title:"Android ListFragment Populated by RoboSpice",date:"Tue, 28 Jan 2014 15:06:25 +0000",layout:"post",path:"/2014/1/28/android-listfragment-populated-by-robospice/",body:'<p>In this post we are going to add a ListFragment backed by the RoboSpice data from the <a href="http://www.christopherbiscardi.com/2014/01/27/android-robospice-with-googlehttpclient/">first post</a></p>\n<p>The git repo is <a href="https://github.com/ChristopherBiscardi/robospice-googlehttpclient-example/tree/8f64ab7d761d095737811018624b0da31b6e4b7b">here</a>.</p>\n<p>Firstly, we are going to need to bump the sdk version to 11 in <code>AndroidManifest.xml</code>. We could use the support version of the Fragment api, but in this instance we don’t need to.</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"xml"</span>&gt;&lt;uses-sdk\n        android:minSdkVersion=<span class="hljs-string">"11"</span>\n        android:targetSdkVersion=<span class="hljs-string">"17"</span> /&gt;```\n\nThen we’ll create <span class="hljs-tag">a</span> RedditListFragment by extending ListFragment:\n\n</code></pre>\n<p><code class="java" style="overflow-x:scroll">public class RedditListFragment extends ListFragment {</p>\n<pre><code>@Override\npublic void onListItemClick(ListView l, View v, int position, long id) {\n    Log.e(&quot;RedditListingsClick&quot;,position + &quot; &quot; + id);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState) {\n    ArrayList&lt;redditchild&gt; redditChildren = new ArrayList&lt;redditchild&gt;();\n    RedditChildAdapter adapter = new RedditChildAdapter(inflater.getContext(), redditChildren);\n    setListAdapter(adapter);\n    return super.onCreateView(inflater, container, savedInstanceState);\n}\n</code></pre>\n<p>}</redditchild></redditchild>```</p>\n<p>Notably, we have it set to log out the position of taps to LogCat and we set a new adapter (with empty content) for the ListView.</p>\n<h4>item_reddit_listing.xml</h4>\n<p>We also need an item layout to display our data. We use a simple <code>LinearLayout</code> with vertical alignment and some sensible margins to arrange our three <code>TextView</code>s. We set some stylistic effects (color, bold/italics) on our <code>TextView</code>s to make the display a little nicer.</p>\n<p>Of note is the <code>android:id</code> fields. We will use these in our adapter to identify each <code>TextView</code>.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"xml"</span>&gt;&lt;LinearLayout xmlns:android=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>\n    android:layout_width=<span class="hljs-string">"fill_parent"</span>\n    android:layout_height=<span class="hljs-string">"fill_parent"</span>\n    android:background=<span class="hljs-string">"#EDEDED"</span>\n    android:orientation=<span class="hljs-string">"vertical"</span>\n    android:paddingBottom=<span class="hljs-string">"10dp"</span>\n    android:paddingLeft=<span class="hljs-string">"20dp"</span>\n    android:paddingRight=<span class="hljs-string">"20dp"</span>\n    android:paddingTop=<span class="hljs-string">"10dp"</span> &gt;\n\n    &lt;TextView\n        android:id=<span class="hljs-string">"@+id/rTitle"</span>\n        android:layout_width=<span class="hljs-string">"wrap_content"</span>\n        android:layout_height=<span class="hljs-string">"wrap_content"</span>\n        android:textColor=<span class="hljs-string">"#454545"</span>\n        android:textStyle=<span class="hljs-string">"bold"</span> /&gt;\n\n    &lt;TextView\n        android:id=<span class="hljs-string">"@+id/rAuthor"</span>\n        android:layout_width=<span class="hljs-string">"wrap_content"</span>\n        android:layout_height=<span class="hljs-string">"wrap_content"</span>\n        android:textColor=<span class="hljs-string">"#acacac"</span>\n        android:textStyle=<span class="hljs-string">"italic"</span> /&gt;\n\n    &lt;TextView\n        android:id=<span class="hljs-string">"@+id/rDomain"</span>\n        android:layout_width=<span class="hljs-string">"wrap_content"</span>\n        android:layout_height=<span class="hljs-string">"wrap_content"</span>\n        android:textColor=<span class="hljs-string">"#acacac"</span> /&gt;\n\n&lt;/LinearLayout&gt;```\n\n<span class="hljs-comment">#### RedditChildAdapter</span>\n\nNext we need <span class="hljs-built_in">to</span> extend <span class="hljs-operator">an</span> adapter <span class="hljs-built_in">to</span> map <span class="hljs-operator">the</span> data we <span class="hljs-built_in">get</span> <span class="hljs-built_in">from</span> RoboSpice <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> `item_reddit_listing.xml` layout.\n\nNotably, we are <span class="hljs-keyword">using</span> <span class="hljs-operator">the</span> ViewHolder pattern <span class="hljs-keyword">for</span> performance <span class="hljs-operator">and</span> <span class="hljs-keyword">using</span> `child.getData()` <span class="hljs-built_in">to</span> <span class="hljs-built_in">get</span> <span class="hljs-keyword">at</span> <span class="hljs-keyword">each</span> `RedditListing`.\n\n</code></pre>\n<p><code class="java" style="overflow-x:scroll">package com.christopherbiscardi.robospicetest.lists;</p>\n<p>import java.util.ArrayList;</p>\n<p>import com.christopherbiscardi.robospicetest.R;\nimport com.christopherbiscardi.robospicetest.RedditChild;</p>\n<p>import android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.TextView;</p>\n<p>public class RedditChildAdapter extends ArrayAdapter<redditchild> {\nprivate static class ViewHolder {\nTextView title;\nTextView author;\nTextView domain;\n}</p>\n<pre><code>public RedditChildAdapter(Context context, ArrayList&lt;redditchild&gt; redditChildren) {\n    super(context, R.layout.item_reddit_listing, redditChildren);\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    // Get the data item for this position\n    RedditChild child = getItem(position);    \n    // Check if an existing view is being reused, otherwise inflate the view\n       ViewHolder viewHolder; // view lookup cache stored in tag\n       if (convertView == null) {\n          viewHolder = new ViewHolder();\n          LayoutInflater inflater = LayoutInflater.from(getContext());\n          convertView = inflater.inflate(R.layout.item_reddit_listing, null);\n          viewHolder.title = (TextView) convertView.findViewById(R.id.rTitle);\n          viewHolder.author = (TextView) convertView.findViewById(R.id.rAuthor);\n          viewHolder.domain = (TextView) convertView.findViewById(R.id.rDomain);\n          convertView.setTag(viewHolder);\n       } else {\n           viewHolder = (ViewHolder) convertView.getTag();\n       }\n       // Populate the data into the template view using the data object\n       viewHolder.title.setText(child.getData().getTitle());\n       viewHolder.author.setText(child.getData().getAuthor());\n       viewHolder.domain.setText(child.getData().getDomain());\n       // Return the completed view to render on screen\n       return convertView;\n}\n</code></pre>\n<p>}\n</redditchild></redditchild>```</p>\n<h4>MainActivity.java</h4>\n<p>Finally, in <code>MainActivity.java</code>:</p>\n<p>Add a RedditListFragment to the view using FragmentManager:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"java"</span> style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span>(<span class="hljs-params">Bundle savedInstanceState</span>) </span>{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    \n    FragmentManager fm = getFragmentManager();\n\n    <span class="hljs-keyword">if</span> (fm.findFragmentById(android.R.id.content) == <span class="hljs-keyword">null</span>) {\n        RedditListFragment list = <span class="hljs-keyword">new</span> RedditListFragment();\n        fm.beginTransaction().add(android.R.id.content, list).commit();\n    }\n    spiceRequestReddit = <span class="hljs-keyword">new</span> SpiceRequestReddit( <span class="hljs-string">"Riak"</span> );\n}```\n\nThen <span class="hljs-keyword">in</span> our Request Listener add the data to the ListFragment Adapter:\n\n</code></pre>\n<p><code class="java" style="overflow-x:scroll">public void onRequestSuccess( final Reddit result ) {\nToast.makeText( MainActivity.this, “success”, Toast.LENGTH_SHORT ).show();\nLog.e(“TEST”,result.toString());\nLog.e(“TEST”,result.getData().getChildren().get(0).getData().getTitle());</p>\n<pre><code>ListView listView = (ListView) findViewById(android.R.id.list);\nRedditChildAdapter adapter = (RedditChildAdapter) listView.getAdapter();\nadapter.clear();\nadapter.addAll(result.getData().getChildren());\n</code></pre>\n<p>}```</p>\n<p>At this point we’re good to go. Fire up the app and you should see something similar to this:</p>\n<figure class="wp-caption aligncenter" id="attachment_448" style="width: 187px;">[![Screenshot of the sample Reddit app](http://res.cloudinary.com/diqzbm8lz/image/upload/h_300,w_188/v1428611518/Screenshot_2014-01-27-16-44-50_njyscb.png)](http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611518/Screenshot_2014-01-27-16-44-50_njyscb.png)<figcaption class="wp-caption-text">Screenshot of the sample Reddit app</figcaption></figure>\n'
}},function(e,n){e.exports={title:"Android RoboSpice with GoogleHttpClient",date:"Mon, 27 Jan 2014 15:54:19 +0000",layout:"post",path:"/2014/1/27/android-robospice-with-googlehttpclient/",body:'<p>In this post we will examine an example app in which we make a RoboSpice request using GoogleHttpClient.</p>\n<p>The github repo is <a href="https://github.com/ChristopherBiscardi/robospice-googlehttpclient-example">here</a>.</p>\n<h2>Dependencies</h2>\n<p>First, we need to grab the RoboSpice dependency JARs from the <code>repository</code> repo.</p>\n<p><code>&lt;code class=&quot;bash&quot;&gt;git clone https://github.com/octo-online/robospice/tree/repository</code></p>\n<p>Inside of <a href="https://github.com/octo-online/robospice/tree/repository/dependencies/1.4.11/robospice-google-http-client">1.4.11/robospice-google-http-client</a> are the JARs we need to include in the project. If you are using Eclipse copy the JARs into your <code>libs/</code> folder and add them to the build path in <code>Project -&gt; Properties -&gt; Libraries</code> by clicking <code>Add JARs</code>. You may also need to click the <code>Order and Export</code> tab, check their boxes and move the included JARs to the top.</p>\n<p>We will also need one JAR from the Google-Http-Lib <a href="https://code.google.com/p/google-http-java-client/wiki/Setup#Download_Library_with_Dependencies">source</a>. It is <code>google-http-client-1.17.0</code>. Again, if using Eclipse, add it to your project in the same way.</p>\n<h2>Classes</h2>\n<p>We are going to create a few files:</p>\n<ul>\n<li><a href="#spice-base">BaseSpiceActivity.java</a></li>\n<li><a href="#spice-reddit">Reddit*.java</a></li>\n<li><a href="#spice-request-reddit">SpiceRequestReddit.java</a></li>\n</ul>\n<h4>BaseSpiceActivity</h4>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"java"</span>&gt;import com.octo.android.robospice.JacksonGoogleHttpClientSpiceService;\nimport com.octo.android.robospice.SpiceManager;\n\n<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BaseSpiceActivity</span> <span class="hljs-title">extends</span> <span class="hljs-title">Activity</span> {\n    <span class="hljs-keyword">private</span> SpiceManager spiceManager = <span class="hljs-keyword">new</span> SpiceManager(JacksonGoogleHttpClientSpiceService.class);\n\n    @<span class="hljs-function">Override\n    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStart</span>(<span class="hljs-params"></span>) </span>{\n        spiceManager.start(<span class="hljs-keyword">this</span>);\n        super.onStart();\n    }\n\n    @<span class="hljs-function">Override\n    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onStop</span>(<span class="hljs-params"></span>) </span>{\n        spiceManager.shouldStop();\n        super.onStop();\n    }\n\n    <span class="hljs-function"><span class="hljs-keyword">protected</span> SpiceManager <span class="hljs-title">getSpiceManager</span>(<span class="hljs-params"></span>) </span>{\n        <span class="hljs-keyword">return</span> spiceManager;\n    }\n\n}```\n\nThe big thing we’re doing <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span> file <span class="hljs-keyword">is</span> creating an instance of `SpiceManager` <span class="hljs-function">that will be accessible <span class="hljs-keyword">in</span> the activities that inherit <span class="hljs-keyword">from</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">base</span> <span class="hljs-title">class</span> (<span class="hljs-params">like our `MainActivity.java` will</span>).\n\nWe then start `spiceManager` <span class="hljs-keyword">in</span> `<span class="hljs-title">onStart</span>(<span class="hljs-params"></span>)` and stop it <span class="hljs-keyword">in</span> `onStop`. This will ensure that our activities have a `SpiceManager` accessible <span class="hljs-keyword">when</span> they start and clean up after themselves <span class="hljs-keyword">when</span> they stop.\n\nThe final piece <span class="hljs-keyword">is</span> a getter <span class="hljs-title">function</span> (<span class="hljs-params">`getSpiceManager(</span>)`) so that we have easy access to the `spiceManager` <span class="hljs-keyword">in</span> our activities.\n\n#### Reddit*.java\n\nWe will be getting our data <span class="hljs-keyword">from</span> Reddit, so we first need to examine the responses we’re going to <span class="hljs-keyword">get</span>. I’ve chosen a subreddit <span class="hljs-keyword">where</span> all the posts are very <span class="hljs-title">similar</span> (<span class="hljs-params">/r/Riak</span>). Here <span class="hljs-keyword">is</span> a sample API response:\n\n</span></code></pre>\n<p><code class="JavaScript">{\n“kind”:“Listing”,\n“data”:{\n“modhash”:“3mxugaulcd1f8b500be09”,\n“children”:[\n{\n“kind”:“t3”,\n“data”:{\n“domain”:&quot;<a href="http://github.com">github.com</a>&quot;,\n“banned_by”:null,\n“media_embed”:{</p>\n<pre><code>           },\n           &quot;subreddit&quot;:&quot;Riak&quot;,\n           &quot;selftext_html&quot;:null,\n           &quot;selftext&quot;:&quot;&quot;,\n           &quot;likes&quot;:null,\n           &quot;secure_media&quot;:null,\n           &quot;link_flair_text&quot;:null,\n           &quot;id&quot;:&quot;19v60r&quot;,\n           &quot;secure_media_embed&quot;:{\n\n           },\n           &quot;clicked&quot;:false,\n           &quot;stickied&quot;:false,\n           &quot;author&quot;:&quot;BonzoESC&quot;,\n           &quot;media&quot;:null,\n           &quot;score&quot;:1,\n           &quot;approved_by&quot;:null,\n           &quot;over_18&quot;:false,\n           &quot;hidden&quot;:false,\n           &quot;thumbnail&quot;:&quot;&quot;,\n           &quot;subreddit_id&quot;:&quot;t5_2s3vw&quot;,\n           &quot;edited&quot;:false,\n           &quot;link_flair_css_class&quot;:null,\n           &quot;author_flair_css_class&quot;:null,\n           &quot;downs&quot;:0,\n           &quot;saved&quot;:false,\n           &quot;is_self&quot;:false,\n           &quot;permalink&quot;:&quot;/r/Riak..riak/&quot;,\n           &quot;name&quot;:&quot;t3_19v60r&quot;,\n           &quot;created&quot;:1362687827.0,\n           &quot;url&quot;:&quot;https://github.com/basho/riak_dt&quot;,\n           &quot;author_flair_text&quot;:null,\n           &quot;title&quot;:&quot;riak_dt: CRDT for Riak&quot;,\n           &quot;created_utc&quot;:1362687827.0,\n           &quot;ups&quot;:1,\n           &quot;num_comments&quot;:0,\n           &quot;visited&quot;:false,\n           &quot;num_reports&quot;:null,\n           &quot;distinguished&quot;:null\n        }\n     }\n  ],\n  &quot;after&quot;:null,\n  &quot;before&quot;:null\n</code></pre>\n<p>}\n}```</p>\n<p>We will create a few classes to model the data. The first being <code>Reddit.java</code>.</p>\n<p>In <code>Reddit.java</code> we include the keys <code>kind</code> and <code>data</code> using <code>@Key</code> declarations. Then we declare their types.</p>\n<pre><code>&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"java"</span>&gt;<span class="hljs-keyword">package</span> com.christopherbiscardi.robospicetest;\n\n<span class="hljs-keyword">import</span> com.google.api.client.util.Key;\n\n<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Reddit</span> </span>{\n    <span class="hljs-annotation">@Key</span>\n    <span class="hljs-keyword">private</span> String kind;\n    <span class="hljs-annotation">@Key</span>\n    <span class="hljs-keyword">private</span> RedditData data;\n\n    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Reddit</span><span class="hljs-params">()</span> </span>{\n    }```\n\nThen define some basic getters <span class="hljs-keyword">for</span> when we are dealing with our request’s response.\n\n</code></pre>\n<p><code class="java"> public String getKind() {\nreturn this.kind;\n}</p>\n<pre><code>public RedditData getData() {\n    return this.data;\n}\n</code></pre>\n<pre><code>\n<span class="hljs-built_in">and</span> override some utility <span class="hljs-built_in">function</span><span class="hljs-variable">s:</span>\n\n</code></pre>\n<p><code class="java"> @Override\npublic int hashCode() {\nfinal int prime = 31;\nint result = 1;\nresult = prime * result + ( kind == null ? 0 : kind.hashCode() ) + ( data == null ? 0 : data.hashCode() );\nreturn result;\n}</p>\n<pre><code>@Override\npublic boolean equals( Object obj ) {\n    if ( this == obj ) {\n        return true;\n    }\n    if ( obj == null ) {\n        return false;\n    }\n    if ( getClass() != obj.getClass() ) {\n        return false;\n    }\n    Reddit other = (Reddit) obj;\n    if ( kind == null ) {\n        if ( other.kind != null ) {\n            return false;\n        }\n    } else if ( !kind.equals( other.kind ) ) {\n        return false;\n    }\n    return true;\n}\n\n@Override\npublic String toString() {\n    return &quot;Reddit [kind=&quot; + kind + &quot; &quot; + data + &quot;]&quot;;\n}\n</code></pre>\n<p>}</p>\n<pre><code>\nThe model <span class="hljs-keyword">files</span> will <span class="hljs-keyword">all</span> follow this same forma<span class="hljs-variable">t:</span> @Key definitions, getters, utilities.\n\nOur final model (`RedditListing.java`) <span class="hljs-keyword">is</span> where we are getting the content we care about. We don’<span class="hljs-keyword">t</span> have <span class="hljs-keyword">to</span> include `@Key` <span class="hljs-keyword">for</span> every key in our JSON response, <span class="hljs-keyword">so</span> we’<span class="hljs-keyword">ll</span> just grab the ones we care abou<span class="hljs-variable">t:</span>\n\n</code></pre>\n<p><code class="java"> @Key\nprivate String domain;\n@Key\nprivate String author;\n@Key\nprivate String permalink;\n@Key\nprivate String title;```</p>\n<h4>SpiceRequestReddit.java</h4>\n<p>To finish off our classes, we’ll create a SpiceRequest that takes a string (our subreddit) and returns a <code>Reddit</code>.</p>\n<pre><code>&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span>=</span><span class="hljs-string">"java"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;<span class="hljs-keyword">package</span> com.christopherbiscardi.robospicetest;\n\n<span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;\n\n<span class="hljs-keyword">import</span> roboguice.util.temp.<span class="hljs-type">Ln</span>;\n\n<span class="hljs-keyword">import</span> com.google.api.client.http.<span class="hljs-type">GenericUrl</span>;\n<span class="hljs-keyword">import</span> com.google.api.client.http.<span class="hljs-type">HttpRequest</span>;\n<span class="hljs-keyword">import</span> com.google.api.client.json.jackson.<span class="hljs-type">JacksonFactory</span>;\n<span class="hljs-keyword">import</span> com.octo.android.robospice.request.googlehttpclient.<span class="hljs-type">GoogleHttpClientSpiceRequest</span>;\n\npublic <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SpiceRequestReddit</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">GoogleHttpClientSpiceRequest&lt;reddit&gt;</span> {</span>\n    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> baseUrl;\n\n    public <span class="hljs-type">SpiceRequestReddit</span>( <span class="hljs-type">String</span> subreddit ) {\n        <span class="hljs-keyword">super</span>( <span class="hljs-type">Reddit</span>.<span class="hljs-keyword">class</span> );\n        <span class="hljs-keyword">this</span>.baseUrl = <span class="hljs-type">String</span>.format( <span class="hljs-string">"http://www.reddit.com/r/%s.json"</span>, subreddit );\n    }\n\n    <span class="hljs-annotation">@Override</span>\n    public <span class="hljs-type">Reddit</span> loadDataFromNetwork() <span class="hljs-keyword">throws</span> <span class="hljs-type">IOException</span> {\n        <span class="hljs-type">Ln</span>.d( <span class="hljs-string">"Call web service "</span> + baseUrl );\n        <span class="hljs-type">HttpRequest</span> request = getHttpRequestFactory()<span class="hljs-comment">//</span>\n                .buildGetRequest( <span class="hljs-keyword">new</span> <span class="hljs-type">GenericUrl</span>( baseUrl ) );\n        request.setParser( <span class="hljs-keyword">new</span> <span class="hljs-type">JacksonFactory</span>().createJsonObjectParser() );\n        <span class="hljs-keyword">return</span> request.execute().parseAs( getResultType() );\n    }\n}&lt;/reddit&gt;```\n\n\n## <span class="hljs-type">Calling</span> the <span class="hljs-type">API</span>\n\n<span class="hljs-type">In</span> `<span class="hljs-type">MainActivity</span>.java` we need to add some code to execute the request:\n\n<span class="hljs-type">We</span> need to extend our `<span class="hljs-type">MainActivity</span>` from `<span class="hljs-type">BaseSpiceActivity</span>`\n\n`&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span>=</span><span class="hljs-string">"java"</span>&gt;public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">BaseSpiceActivity</span> {</span>`\n\n<span class="hljs-type">Add</span> a <span class="hljs-keyword">new</span> `<span class="hljs-type">SpiceRequestReddit</span>`\n\n`&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span>=</span><span class="hljs-string">"java"</span>&gt;<span class="hljs-keyword">private</span> <span class="hljs-type">SpiceRequestReddit</span> spiceRequestReddit;`\n\n<span class="hljs-type">Instantiate</span> it <span class="hljs-keyword">with</span> the <span class="hljs-type">Riak</span> subreddit;\n\n`&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span>=</span><span class="hljs-string">"java"</span>&gt;spiceRequestReddit = <span class="hljs-keyword">new</span> <span class="hljs-type">SpiceRequestReddit</span>( <span class="hljs-string">"Riak"</span> );`\n\nand implement our <span class="hljs-type">ResultHandler</span> <span class="hljs-class"><span class="hljs-keyword">class</span>:</span>\n\n</code></pre>\n<p><code class="java" style="overflow-x:auto">public final class RedditSpiceRequestListener implements RequestListener {</p>\n<pre><code>    @Override\n    public void onRequestFailure( SpiceException spiceException ) {\n        Toast.makeText( MainActivity.this, &quot;failure&quot;, Toast.LENGTH_SHORT ).show();\n    }\n\n    @Override\n    public void onRequestSuccess( final Reddit result ) {\n        Toast.makeText( MainActivity.this, &quot;success&quot;, Toast.LENGTH_SHORT ).show();\n        Log.e(&quot;TEST&quot;,result.getData().toString());\n        Log.e(&quot;TEST&quot;,result.getData().getChildren().get(0).getData().getTitle());\n    }\n}```\n</code></pre>\n<p>We’ve just implemented a simple log to view the data, but we could have added it to an ArrayAdapter and displayed it in a ListView.</p>\n<p>Finally, we override the <code>onStart()</code> method to actually make the request.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"java"</span>&gt;@Override\n    protected void onStart() {\n        super.onStart()<span class="hljs-comment">;</span>\n\n        setProgressBarIndeterminate( <span class="hljs-literal">false</span> )<span class="hljs-comment">;</span>\n        setProgressBarVisibility( <span class="hljs-literal">true</span> )<span class="hljs-comment">;</span>\n\n        getSpiceManager().execute( spiceRequestReddit, <span class="hljs-string">"json"</span>, DurationInMillis.ONE_MINUTE, new RedditSpiceRequestListener() )<span class="hljs-comment">;</span>\n    }<span class="hljs-escape">``</span><span class="hljs-escape">`\n</span>\n\n## AndroidManifest.xml\n\nNow that’s all the code we need to write, but we still need to register our service <span class="hljs-literal">and</span> permissions in <span class="hljs-escape">`A</span>ndroidManifest.xml<span class="hljs-escape">`.</span> Notice we’ve added three <span class="hljs-escape">`u</span>ses-permission<span class="hljs-escape">` </span>nodes <span class="hljs-literal">and</span> <span class="hljs-literal">a</span> <span class="hljs-escape">`s</span>ervice<span class="hljs-escape">` </span>node.\n\n</code></pre>\n<p><code class="xml" style="overflow-x:auto"><?xml version="1.0" encoding="utf-8"?>\n<manifest xmlns:android="http://schemas.android.com/apk/res/android"\n    package="com.christopherbiscardi.robospicetest"\n    android:versionCode="1"\n    android:versionName="1.0" ></p>\n<pre><code>&lt;uses-sdk\n    android:minSdkVersion=&quot;8&quot;\n    android:targetSdkVersion=&quot;17&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@drawable/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:theme=&quot;@style/AppTheme&quot; &gt;\n    &lt;activity\n        android:name=&quot;com.christopherbiscardi.robospicetest.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot; &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;service\n        android:name=&quot;com.octo.android.robospice.JacksonGoogleHttpClientSpiceService&quot;\n        android:exported=&quot;false&quot; /&gt;\n&lt;/application&gt;\n</code></pre>\n<p></manifest>```</p>\n<h2>Fin</h2>\n<p>Now we can run the app and see the result (success or failure) pop up as a Toast as well as viewing the actual data in LogCat.</p>\n<p>Check out the github repository <a href="https://github.com/ChristopherBiscardi/robospice-googlehttpclient-example">here</a></p>\n'}},function(e,n){e.exports={title:"Books on My Bookshelf for 2014",date:"Wed, 08 Jan 2014 03:00:20 +0000",layout:"post",path:"/2014/1/7/books-on-my-bookshelf-for-2014/",body:'<p>I decided to take stock of the books that are sitting on my bookshelf for 2014. Here is that list.</p>\n<p>Starting with some (of my) classics. These are books that I read in the middle/high school time period in my life.</p>\n<h4><a href="http://www.amazon.com/Basic-Technical-Mathematics-Calculus-Edition/dp/0133116530?tag=christophe067-20">Basic Technical Mathematics with Calculus</a></h4>\n<p>(note: my version is the second edition. It looks like they’re up to the tenth)</p>\n<p>This was a book that let me explore math on my own. It goes from trig functions through linear equations, logarithms, determinants and matrices, derivatives, integration, series expansion and differential equations. A little beyond what my AP Calc class ended up taking us through. I would suggest it if you have an interest in Mathematics and Calculus at an advanced high school level.</p>\n<h4>Texas Instruments TI-83+ Manual</h4>\n<p>I read this cover to cover one day. It led through the days of BASIC on a calculator in Math class, where I would program equation solvers and games.</p>\n<h2>Distributed Systems</h2>\n<h4>Distributed Systems Concepts and Design</h4>\n<p>The purchase of this book was driven by my interest in Erlang and Riak Core. I was hoping that this would give me some good information on distributed systems but it’s a bit of a slog to parse the wordiness of the book. Preferable would be to surf the repos of various open source projects. The table of contents, however, is useful in pointing you to on the path to those projects.</p>\n<h4><a href="http://www.amazon.com/Parallel-Concurrent-Programming-Haskell-Multithreaded/dp/1449335942/?tag=christophe067-20">Parallel and Concurrent Programming in Haskell</a></h4>\n<p>A solid book that takes you through parallelism and concurrency in Haskell with plenty of code to work with. Concepts covered include Data Parallel Programing, GPU programming, MVars, Software Transactional Memory and finally distributed-process, which is an attempt to create a sort of Erlang-as-a-package for Haskell.</p>\n<h2>Databases</h2>\n<h4><a href="http://www.amazon.com/Readings-Database-Systems-Joseph-Hellerstein/dp/0262693143?tag=christophe067-20">Readings in Database Systems</a></h4>\n<p>Databases are not my specialty, so I use this book as some casual reading. It is a collection of academic papers relating to databases.</p>\n<h2>Lisp, Lambda Calculus and Functional Programming</h2>\n<h4><a href="http://www.amazon.com/Introduction-Functional-Programming-Calculus-Mathematics/dp/0486478831?tag=christophe067-20">An Introduction to Functional Programming Through Lambda Calculus</a></h4>\n<p>This is a fun book that take you through the lambda calculus with a functional slant. Includes some comparisons with Lisp and Scheme later in the book.</p>\n<h4><a href="http://www.amazon.com/Pearls-Functional-Algorithm-Design-Richard/dp/0521513383?tag=christophe067-20">Pearls of Functional Algorithm Design</a></h4>\n<p>A nice look at functional algorithms with plenty of Haskell code. I quite enjoy this book when I’m in an algorithmic mood.</p>\n<h4><a href="http://www.cs.cmu.edu/~dst/LispBook/">Common Lisp</a></h4>\n<p>Widely recognized as a great introduction to the Common Lisp language. I don’t write as much Lisp as I would like to, but having mocl around for experimentation sure helps.</p>\n<h4><a href="http://letoverlambda.com/">Let Over Lambda</a></h4>\n<p>Let Over Lambda is billed as a book about macros, in other words a book to move you from intermediate lisper to professional. I’d like to spend a little more time with Common Lisp over the next year and Let Over Lambda will be one of the books I use to do that.</p>\n<h2>Training</h2>\n<p>For those that don’t know, I train for Volleyball and High Jump. Having played Division 1 Volleyball in college I still enjoy training and competing at a high level. These books help me move towards my athletic goals.</p>\n<h4><a href="http://www.amazon.com/Weightlifting-Programming-Winning-Coachs-Guide/dp/0980011159?tag=christophe067-20">Weightlifting Programming: A Winning Coach’s Guide</a></h4>\n<p>This is a book by a well respected coach in the weightlifting community. Since I use Olympic lifts in my training this will help me program my lifting workouts for greater effect.</p>\n<h4><a href="http://www.amazon.com/Overcoming-Gravity-Systematic-Gymnastics-Bodyweight/dp/1467933120?tag=christophe067-20">Overcoming Gravity</a></h4>\n<p>I’m not a huge fan of doing bench press, bicep curls, etc. So I got this book about training gymnastics movements to supplement my Olympic lifting, especially my upper body which I don’t need excess hypertrophy on.</p>\n<h4><a href="http://www.amazon.com/Abs-Ball-Approach-Building-Abdominals/dp/089281098X?tag=christophe067-20">Abs on the Ball: A Pilates Approach to Building Superb Abdominals</a></h4>\n<p>In the past I’ve found Pilates on exercise balls to be a great way to improve core strength and stability. Colleen Craig’s books have been on my shelf for awhile and I often take exercises from them. Core strength will help me in my lifts, gymnastics training and controlling my body in the air while jumping for High Jump and Volleyball.</p>\n<h4><a href="http://www.amazon.com/Becoming-Supple-Leopard-Preventing-Performance/dp/1936608588?tag=christophe067-20">Becoming a Supple Leopard: The Ultimate Guide to Resolving Pain, Preventing Injury, and Optimizing Athletic Performance</a></h4>\n<p>This is a book I use for preventative maintenance of joints and muscles. I went to an arthritis specialist in college who told me that my joints were hypermobile, which means that I can do things like dislocate my shoulder or those weird thumb/finger tricks you may have seen people do, all over my body. Preventative maintenance is therefore particularly important in my mind.</p>\n<h2>Other</h2>\n<p>The final book on my shelf for 2014 is Sartre’s L’existentialisme est un humanisme in the original French.</p>\n'}},function(e,n){e.exports={title:"Clojure Compojure Jetty Integration",date:"Mon, 18 Feb 2013 06:04:36 +0000",layout:"post",path:"/2013/2/17/clojure-compojure-jetty-integration/",body:'<p>If you want to deploy a Clojure/Compojure application you’re going to need a couple hints.</p>\n<p>First, in project.clj you’re going to need to add an item to :dependencies and :main.</p>\n<p>I have some extra dependencies such as hiccup that aren’t strictly necessary. The ring/ring-jetty-adapter is most important.</p>\n<p>under :main write the name of the module that has your (defroutes), we’re going to add a -main function to the same file.</p>\n<pre><code>&lt;<span class="hljs-atom">code</span> <span class="hljs-atom">class</span>=<span class="hljs-string">"clojure"</span>&gt;\n:<span class="hljs-atom">dependencies</span> [[<span class="hljs-atom">org</span>.<span class="hljs-atom">clojure</span>/<span class="hljs-atom">clojure</span> <span class="hljs-string">"1.4.0"</span>]\n              [<span class="hljs-atom">compojure</span> <span class="hljs-string">"1.1.5"</span>]\n              [<span class="hljs-atom">ring</span>/<span class="hljs-atom">ring</span>-<span class="hljs-atom">jetty</span>-<span class="hljs-atom">adapter</span> <span class="hljs-string">"1.2.0-beta1"</span>]\n              [<span class="hljs-atom">hiccup</span> <span class="hljs-string">"1.0.2"</span>]]\n:<span class="hljs-atom">main</span> <span class="hljs-atom">projectname</span>.<span class="hljs-atom">handler</span>\n</code></pre>\n<p>Now in projectname.handler add :gen-class and ring.adapter.jetty to (use).</p>\n<p>Lower in the same file, include a new function called -main.<br>\nThis is the function java will call to start the server.</p>\n<p>In this case my defroutes was named app-routes so that’s what goes after run-jetty.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"clojure"</span>&gt;\n<span class="hljs-list">(<span class="hljs-keyword">ns</span> projectname.handler\n <span class="hljs-list">(<span class="hljs-keyword">:gen-class</span>)</span>\n <span class="hljs-list">(<span class="hljs-keyword">:use</span> [compojure.core]\n       [ring.adapter.jetty]\n       [hiccup.core])</span>)</span>\n\n<span class="hljs-list">(<span class="hljs-keyword">defroutes</span> app-routes\n           <span class="hljs-list">(<span class="hljs-keyword">GET</span> <span class="hljs-string">"/"</span> [] g/show-home)</span>\n           <span class="hljs-list">(<span class="hljs-keyword">route/resources</span> <span class="hljs-string">"/"</span>)</span>\n           <span class="hljs-list">(<span class="hljs-keyword">route/not-found</span> <span class="hljs-string">"Not Found"</span>)</span>)</span>\n\n<span class="hljs-list">(<span class="hljs-keyword">defn</span> -main [&amp; args]\n <span class="hljs-list">(<span class="hljs-keyword">run-jetty</span> <span class="hljs-list">(<span class="hljs-keyword">handler/site</span> app-routes)</span> {<span class="hljs-keyword">:port</span> <span class="hljs-number">5000</span>})</span>)</span>\n</code></pre>\n<p>That’s it. You should be able to</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"bash"</span>&gt;\nlein compile\nlein uberjar\njava -jar target/whatever-STANDALONE<span class="hljs-class">.jar</span>\n</code></pre>\n'}},function(e,n){e.exports={title:"Common Lisp on Android: Running the MOCL Android Example",date:"Fri, 10 Jan 2014 19:00:14 +0000",layout:"post",path:"/2014/1/10/common-lisp-on-android-running-the-mocl-android-example/",body:'<p>Prereqs: Install ADK, Android NDK, and mocl.</p>\n<p>git clone the sample app somewhere:</p>\n<p><code>&lt;code class=&quot;bash&quot;&gt;git clone https://github.com/Wukix/mocl-example-lisp-contacts-android.git</code></p>\n<p>Import the cloned app into Android Development’s version of Eclipse. Note: at this time there are may or may not be issues with creating a new project in ADK due to Gradle not supporting the NDK.</p>\n<p>My third party library install location is <code>mocl/systems</code>.</p>\n<p>Install Common Lisp dependencies there:</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"bash"</span>&gt;$ cd mocl/systems\n$ git clone https:<span class="hljs-comment">//github.com/xach/vectometry.git</span>\n$ ln -s vectometry/vectometry<span class="hljs-class">.asd</span> vectometry<span class="hljs-class">.asd</span>\n$ git clone https:<span class="hljs-comment">//github.com/xach/geometry.git</span>\n$ ln -s geometry/geometry<span class="hljs-class">.asd</span> geometry<span class="hljs-class">.asd</span>\n$ git clone https:<span class="hljs-comment">//github.com/Wukix/vecto.git</span>\n$ ln -s vecto/vecto<span class="hljs-class">.asd</span> vecto<span class="hljs-class">.asd</span>\n$ git clone https:<span class="hljs-comment">//github.com/xach/zpb-ttf.git</span>\n$ ln -s zpb-ttf/zpb-ttf<span class="hljs-class">.asd</span> zpb-ttf<span class="hljs-class">.asd</span>\n$ git clone https:<span class="hljs-comment">//github.com/xach/zpng.git</span>\n$ ln -s zpng/zpng<span class="hljs-class">.asd</span> zpng<span class="hljs-class">.asd</span>\n$ git clone https:<span class="hljs-comment">//github.com/xach/salza2.git</span>\n$ ln -s salza2/salza2<span class="hljs-class">.asd</span> salza2<span class="hljs-class">.asd</span>\n$ git clone https:<span class="hljs-comment">//github.com/fjolliton/cl-vectors.git</span>\n$ ln -s cl-vectors/cl-vectors<span class="hljs-class">.asd</span> cl-vectors<span class="hljs-class">.asd</span>\n$ ln -s cl-vectors/cl-paths<span class="hljs-class">.asd</span> cl-paths<span class="hljs-class">.asd</span>\n$ ln -s cl-vectors/cl-aa<span class="hljs-class">.asd</span> cl-aa.asd```\n\nOnce everything is installed/linked go to the imported project and run:\n\n`&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"bash"</span>&gt;mocl --android LispContacts app.lisp`\n\nMake sure you have the Android <span class="hljs-number">17</span> sdk, because that’s what’s used <span class="hljs-keyword">in</span> the example project.\n\nAfter all of that, `cd LispContacts/jni`\n\nthen run: `ndk-build`\n\nAt this point the <span class="hljs-tag">code</span> has compiled and you’re good to go. You may have to close ADK and reopen it to get ADK to see the mocl files. I might do another post on the <span class="hljs-tag">code</span> <span class="hljs-keyword">in</span> the example… Give me <span class="hljs-tag">a</span> comment <span class="hljs-keyword">if</span> that’s something you’re interested <span class="hljs-keyword">in</span>.\n\n\n</code></pre>\n'}},function(e,n){e.exports={title:"Consistant Hash Routing in Riak Core",date:"Wed, 16 Jan 2013 21:55:29 +0000",layout:"post",path:"/2013/1/16/consistant-hash-routing-in-riak-core/",body:'<h2>Prerequisites</h2>\n<dl><dt>[Rebar](https://github.com/basho/rebar)</dt><dd>To build the project</dd></dl>\n##  Relevant Files\n<dl><dt>Project on Github</dt><dd>[https://github.com/ChristopherBiscardi/Riak-Core-Consistent-Hash-Routing-Example](https://github.com/ChristopherBiscardi/Riak-Core-Consistent-Hash-Routing-Example)</dd><dt>[chapp.erl](https://github.com/ChristopherBiscardi/Riak-Core-Consistent-Hash-Routing-Example/blob/master/a    pps/chapp/src/chapp.erl)</dt><dd>Holds the different routing code</dd><dt>[chapp_vnode.erl](https://github.com/ChristopherBiscardi/Riak-Core-Consistent-Hash-Routing-Example/blob/master/apps/chapp/src    /chapp_vnode.erl)</dt><dd>The ping function on the vnodes. This function is the same on every vnode, the difference is which vnode is processing the request.</dd></dl>\n## The Code\n<pre><code>&lt;code class=<span class="hljs-string">"erlang"</span>&gt;\n%% <span class="hljs-constant">@doc</span> Pings a <span class="hljs-built_in">random</span> vnode \n<span class="hljs-built_in">ping</span>() -&gt;\n    DocIdx = riak_core_util:chash_key({&gt;, term_to_binary(<span class="hljs-built_in">now</span>())}),\n    PrefList = riak_core_apl:get_primary_apl(DocIdx, <span class="hljs-number">1</span>, chapp),\n    [{IndexNode, _Type}] = PrefList,\n    riak_core_vnode_master:sync_spawn_command(IndexNode, <span class="hljs-built_in">ping</span>, chapp_vnode_master).\n</code></pre>\n<p>The first function, shown above, pings a random (random enough for our purposes) vnode and returns the partition identifier.<br>\nThe code we’re interested in is in the first line of the function – specifically the chash_key() function.</p>\n<p>The <a href="https://github.com/basho/riak_core/blob/master/src/riak_core_util.erl#L187-192">chash_key</a> function takes a two-tuple and returns a binary identifier we can use to get a PrefList. Much of the terminology in the Riak Core source refers to Riak KV. In this case, the variables are named Bucket and Key in the chash_key function.</p>\n<p>Each function in [chapp.erl](<a href="https://github.com/ChristopherBiscardi/Riak-Core-Consistent-Hash-Routing-Example/blob/master/a">https://github.com/ChristopherBiscardi/Riak-Core-Consistent-Hash-Routing-Example/blob/master/a</a>    pps/chapp/src/chapp.erl) has different tuples which affect which vnode gets called.</p>\n<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">code</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"erlang"</span>&gt;</span>\n</span><span class="perl">% ping()</span><span class="xml">\n{&gt;, term_to_binary(now())}\n</span><span class="perl">\n% pingsame()</span><span class="xml">\n{&gt;, &gt;}\n</span><span class="perl">\n% pinginput(X)</span><span class="xml">\n{&gt;, term_to_binary(X)}\n</span></code></pre>\n<p>so if we build the project.</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span>&gt;\ncd path<span class="hljs-regexp">/to/</span><span class="hljs-keyword">project</span>\nmake rel\n</code></pre>\n<p>and run the console</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span>&gt;\n.<span class="hljs-regexp">/rel/</span>chapp<span class="hljs-regexp">/bin/</span>chapp console\n</code></pre>\n<p>we can then execute the various ping() functions as such:</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"erlang"</span>&gt;\nchapp:<span class="hljs-function"><span class="hljs-title">ping</span><span class="hljs-params">()</span></span>.\n</code></pre>\n<p>which gives us a tuple that contains <code>pong</code> and the partition id that processed the request.</p>\n<p>We can see the results from running the ping() function a couple times below. Notice that each time we run ping(), a different partition handles the call.</p>\n<pre><code>&lt;code class="erlang"&gt;\n{pong,<span class="hljs-number">100478237566</span><span class="hljs-number">49957562650</span><span class="hljs-number">3332249244457</span><span class="hljs-number">60134536232</span>96}\n{pong,<span class="hljs-number">105045430183</span><span class="hljs-number">158647245889</span><span class="hljs-number">84735148284</span><span class="hljs-number">2037770151526</span>4}\n{pong,<span class="hljs-number">102761833874</span><span class="hljs-number">829111436196</span><span class="hljs-number">58980036364</span><span class="hljs-number">98195577569</span>280}\n{pong,<span class="hljs-number">1118962191081</span><span class="hljs-number">47254674969</span><span class="hljs-number">62000484041</span><span class="hljs-number">869240733532</span>16}\n</code></pre>\n<p>Looking at the next function <code>pingsame</code> which we call as such:</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"erlang"</span>&gt;\nchapp:<span class="hljs-function"><span class="hljs-title">pingsame</span><span class="hljs-params">()</span></span>.\n</code></pre>\n<p>we can see that by calling this function multiple times, we get the same partition handling the call, because the hash of the tuple is always the same.</p>\n<pre><code>&lt;code class="erlang"&gt;\n{pong,<span class="hljs-number">93627448641</span><span class="hljs-number">5109681974235</span><span class="hljs-number">59595886880</span><span class="hljs-number">946708178534</span>4}\n{pong,<span class="hljs-number">93627448641</span><span class="hljs-number">5109681974235</span><span class="hljs-number">59595886880</span><span class="hljs-number">946708178534</span>4}\n{pong,<span class="hljs-number">93627448641</span><span class="hljs-number">5109681974235</span><span class="hljs-number">59595886880</span><span class="hljs-number">946708178534</span>4}\n{pong,<span class="hljs-number">93627448641</span><span class="hljs-number">5109681974235</span><span class="hljs-number">59595886880</span><span class="hljs-number">946708178534</span>4}\n</code></pre>\n<p>The pinginput function allows us to take a more interactive look at where our requests go. pinginput uses the input we give it as the second element in the chash_key function tuple.</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"erlang"</span>&gt;\nchapp:<span class="hljs-function"><span class="hljs-title">pinginput</span><span class="hljs-params">(someinput)</span></span>.\n</code></pre>\n<p>we can see that by calling this function multiple times with the same input, the same vnode processes the request.</p>\n<pre><code>&lt;code class="erlang"&gt;\nchapp:pinginput(someinput).\n{pong,<span class="hljs-number">959110449498</span><span class="hljs-number">405040071168</span><span class="hljs-number">171470060731</span><span class="hljs-number">649205731328</span>}\nchapp:pinginput(someinput).\n{pong,<span class="hljs-number">959110449498</span><span class="hljs-number">405040071168</span><span class="hljs-number">171470060731</span><span class="hljs-number">649205731328</span>}\nchapp:pinginput(someinput).\n{pong,<span class="hljs-number">959110449498</span><span class="hljs-number">405040071168</span><span class="hljs-number">171470060731</span><span class="hljs-number">649205731328</span>}\n</code></pre>\n<p>We can also see that by calling pinginput with a different input results in a different vnode handling the request.</p>\n<pre><code>&lt;code class="erlang"&gt;\nchapp:pinginput(otherinput).\n{pong,<span class="hljs-number">342539446249</span><span class="hljs-number">43037145398</span><span class="hljs-number">86326678788</span><span class="hljs-number">32731859189</span>760}\nchapp:pinginput(otherinput).\n{pong,<span class="hljs-number">342539446249</span><span class="hljs-number">43037145398</span><span class="hljs-number">86326678788</span><span class="hljs-number">32731859189</span>760}\nchapp:pinginput(otherinput).\n{pong,<span class="hljs-number">342539446249</span><span class="hljs-number">43037145398</span><span class="hljs-number">86326678788</span><span class="hljs-number">32731859189</span>760}\n</code></pre>\n'
}},function(e,n){e.exports={title:"Deploy Haskell's Snap on Heroku",date:"Sun, 02 Feb 2014 10:36:36 +0000",layout:"post",path:"/2014/2/2/deploy-haskells-snap-on-heroku/",body:'<p>In this post we will deploy our Snap app to Heroku.</p>\n<p><a href="http://www.christopherbiscardi.com/2014/01/07/getting-started-with-snap-and-user-authentication-part-1/">part 1</a><br>\n<a href="http://www.christopherbiscardi.com/2014/01/10/getting-started-with-snap-and-user-authentication-part-2/">part 2</a><br>\n<a href="http://www.christopherbiscardi.com/2014/01/11/getting-started-with-snap-and-user-authentication-part-3/">part 3</a></p>\n<p>First, we need to put a <code>Procfile</code> in the root of our project; Save this as <code>Procfile</code></p>\n<p><code>web: cabal run -- -p $PORT</code></p>\n<p>If you’ve been following along and haven’t yet put the code into version control, now is the time to do that by running <code>git init</code>, <code>git add</code> and <code>git commit -m &quot;message&quot;</code>.</p>\n<p>This command will create a new Heroku app with a Haskell buildpack. You can find more information on the buildpack <a href="">here</a></p>\n<p><code>heroku create --stack=cedar --buildpack https://github.com/begriffs/heroku-buildpack-ghc.git</code></p>\n<p><span style="font-style:italic">–note: You can now deploy the app to Heroku, but you will get an error about connecting to PostgreSQL</span></p>\n<p>At this point we have two basic choices: We can run PostgreSQL as a Heroku extension or we can host PostgreSQL somewhere else. Hosting elsewhere is easier because the other options are</p>\n<ol>\n<li>Write a Pull Request for <a href="https://github.com/bos/configurator">Configurator</a> to enable dynamic creation of <code>Config</code>s (Then we parse the Heroku PostgreSQL ENV variable and pass the new <code>Config</code> instead of our file in the PostgreSQL snaplet directory)</li>\n<li>Write a Pull Request for <a href="https://github.com/mightybyte/snaplet-postgresql-simple">snaplet-postgresql-simple</a> that enables bypassing the <code>Config</code> in favor of parsing the ENV variable. This would likely involve writing a new <a href="https://github.com/mightybyte/snaplet-postgresql-simple/blob/master/src/Snap/Snaplet/PostgresqlSimple.hs#L278-301">pgsInit” and initHelper’</a> and is, in fact, something I started doing for this blog post before I got distracted.</li>\n<li>Write some code that runs before the snaplets are initialized that reads the ENV variable, parses it into a <code>Configurator</code> parsable config file, writes it out to <code>/snaplets/postgres-simple/devel.cfg</code>. The snaplet would then read in the config file as normal when initialized.</li>\n</ol>\n<p><code>devel.cfg</code> looks like this:</p>\n<pre><code>&lt;code style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;host = <span class="hljs-string">"localhost"</span>\n<span class="hljs-keyword">port</span> = <span class="hljs-number">5432</span>\nuser = <span class="hljs-string">"postgres"</span>\npass = <span class="hljs-string">""</span>\ndb = <span class="hljs-string">"testdb"</span>\n\n# Nmuber <span class="hljs-keyword">of</span> distinct connection pools <span class="hljs-keyword">to</span> maintain.  The smallest acceptable\n# value <span class="hljs-keyword">is</span> <span class="hljs-number">1</span>.\nnumStripes = <span class="hljs-number">1</span>\n\n# Number <span class="hljs-keyword">of</span> seconds an unused resource <span class="hljs-keyword">is</span> kept <span class="hljs-keyword">open</span>.  The smallest acceptable\n# value <span class="hljs-keyword">is</span> <span class="hljs-number">0.5</span> seconds.\nidleTime = <span class="hljs-number">5</span>\n\n# Maximum number <span class="hljs-keyword">of</span> resources <span class="hljs-keyword">to</span> keep <span class="hljs-keyword">open</span> per stripe.  The smallest\n# acceptable value <span class="hljs-keyword">is</span> <span class="hljs-number">1</span>.\nmaxResourcesPerStripe = <span class="hljs-number">20</span>```\n\nThe final option <span class="hljs-keyword">is</span> <span class="hljs-keyword">to</span> just host PostgreSQL somewhere other than Heroku <span class="hljs-keyword">and</span> modify the config <span class="hljs-keyword">file</span> <span class="hljs-keyword">to</span> point there.\n\n[![CBLogo_2014_transparent](http://res.cloudinary.com/diqzbm8lz/image/upload/h_300,w_300/v1428611521/CBLogo_2014_transparent_swcmig.png)](http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611521/CBLogo_2014_transparent_swcmig.png)\n\n\n</code></pre>\n'}},function(e,n){e.exports={title:"Deploying a Minecraft Server with Docker Machine",date:"Sat, 27 Dec 2014 09:23:28 +0000",layout:"post",path:"/2014/12/27/deploying-a-minecraft-server-with-docker-machine/",body:'<p>The <a href="http://www.christopherbiscardi.com/2014/12/21/docker-machine/">previous post</a> explains how to get up and running with Docker machine. This one will be a quick tutorial on setting up a Minecraft server using Machine.</p>\n<ol>\n<li>Create a new Digital Ocean Machine. We need a <code>1gb</code> server due to Java’s requirements, so we’ll specify the 1gb DO variant: ```</li>\n</ol>\n<blockquote>\n<p>machine-docker create -d digitalocean --digitalocean-access-token=$DO_TOKEN --digitalocean-size=1gb biscarch-minecraft\nINFO[0000] Creating SSH key…\nINFO[0000] Creating Digital Ocean droplet…\nINFO[0003] Waiting for SSH…\nINFO[0155] “biscarch-minecraft” has been created and is now the active machine. To point Docker at this machine, run: export DOCKER_HOST=$(machine url) DOCKER_AUTH=identity</p>\n</blockquote>\n<pre><code><span class="hljs-number">2</span>. Run the <span class="hljs-keyword">command</span> suggested <span class="hljs-keyword">to</span> activate the Digital Ocean machine. Remember that we re-named our binaries, <span class="hljs-keyword">so</span> our <span class="hljs-keyword">command</span> will look slightly differen<span class="hljs-variable">t:</span> ```\nexport DOCKER_HOST=$(machine-docker url) DOCKER_AUTH=identity\n</code></pre>\n<ol start="3">\n<li>After creating the machine, we can run a Minecraft server. Notice that we’ve accepted the EULA using an environment variable. ```</li>\n</ol>\n<blockquote>\n<p>machine-docker-1.3.1-dev-identity-auth run -itp 25565:25565 -e EULA=true itzg/minecraft-server\nThe authenticity of host “$ip:2376” can’t be established.\nRemote key ID XXXX\nAre you sure you want to continue connecting (yes/no)? yes\nUnable to find image ‘itzg/minecraft-server:latest’ locally\nPulling repository itzg/minecraft-server\ncf3280236048: Download complete\n511136ea3c5a: Download complete\n97fd97495e49: Download complete\n2dcbbf65536c: Download complete\n6a459d727ebb: Download complete\n8f321fc43180: Download complete\n03db2b23cf03: Download complete\n9cbaf023786c: Download complete\nc40e36cb3ec9: Download complete\n894f65ff66bd: Download complete\ne82301eb9615: Download complete\n1dbf91539513: Download complete\ne545342bf796: Download complete\n59bc57df4d1e: Download complete\n553afa5133d9: Download complete\n75c3ad818b79: Download complete\n0b0acc66bc64: Download complete\n978ce1e3b993: Download complete\n54fead2b8d41: Download complete\n2bb3b9314ae2: Download complete\naf46a2317b29: Download complete\n0b1b3214a72a: Download complete\nc68e5b97cc3f: Download complete\nf08ca66bb473: Download complete\n36a596d541f4: Download complete\n5c1156fb886b: Download complete\n59349c103e38: Download complete\n1d5073dd8949: Download complete\n250469004d09: Download complete\n78a77d27bdfa: Download complete\nStatus: Downloaded newer image for itzg/minecraft-server:latest\n–2014-12-27 06:06:21--  <a href="https://s3.amazonaws.com/Minecraft.Download/versions/versions.json">https://s3.amazonaws.com/Minecraft.Download/versions/versions.json</a>\nResolving <a href="http://s3.amazonaws.com">s3.amazonaws.com</a> (<a href="http://s3.amazonaws.com">s3.amazonaws.com</a>)… 54.231.244.4\nConnecting to <a href="http://s3.amazonaws.com">s3.amazonaws.com</a> (<a href="http://s3.amazonaws.com">s3.amazonaws.com</a>)|54.231.244.4|:443… connected.\nHTTP request sent, awaiting response… 200 OK\nLength: 20681 (20K) [application/octet-stream]\nSaving to: ‘STDOUT’</p>\n</blockquote>\n<p>100%[====================================================================================&gt;] 20,681      --.-K/s   in 0.1s</p>\n<p>2014-12-27 06:06:22 (149 KB/s) - written to stdout [20681/20681]</p>\n<p>Downloading minecraft_server.1.8.1.jar …\n[06:06:33] [Server thread/INFO]: Starting minecraft server version 1.8.1\n[06:06:33] [Server thread/INFO]: Loading properties\n[06:06:33] [Server thread/INFO]: Default game type: SURVIVAL\n[06:06:33] [Server thread/INFO]: Generating keypair\n[06:06:33] [Server thread/INFO]: Starting Minecraft server on *:25565\n[06:06:33] [Server thread/INFO]: Using epoll channel type\n[06:06:34] [Server thread/WARN]: Failed to load user banlist:\njava.io.FileNotFoundException: banned-players.json (No such file or directory)\nat java.io.FileInputStream.open(Native Method) ~[?:1.7.0_65]\nat java.io.FileInputStream.<init>(FileInputStream.java:146) ~[?:1.7.0_65]\nat com.google.common.io.Files.newReader(Files.java:86) ~[minecraft_server.1.8.1.jar:?]\nat su.g(SourceFile:124) ~[minecraft_server.1.8.1.jar:?]\nat po.z(SourceFile:99) [minecraft_server.1.8.1.jar:?]\nat po.<init>(SourceFile:25) [minecraft_server.1.8.1.jar:?]\nat pp.i(SourceFile:172) [minecraft_server.1.8.1.jar:?]\nat net.minecraft.server.MinecraftServer.run(SourceFile:418) [minecraft_server.1.8.1.jar:?]\nat java.lang.Thread.run(Thread.java:745) [?:1.7.0_65]\n[06:06:34] [Server thread/WARN]: Failed to load ip banlist:\njava.io.FileNotFoundException: banned-ips.json (No such file or directory)\nat java.io.FileInputStream.open(Native Method) ~[?:1.7.0_65]\nat java.io.FileInputStream.<init>(FileInputStream.java:146) ~[?:1.7.0_65]\nat com.google.common.io.Files.newReader(Files.java:86) ~[minecraft_server.1.8.1.jar:?]\nat su.g(SourceFile:124) ~[minecraft_server.1.8.1.jar:?]\nat po.y(SourceFile:91) [minecraft_server.1.8.1.jar:?]\nat po.<init>(SourceFile:27) [minecraft_server.1.8.1.jar:?]\nat pp.i(SourceFile:172) [minecraft_server.1.8.1.jar:?]\nat net.minecraft.server.MinecraftServer.run(SourceFile:418) [minecraft_server.1.8.1.jar:?]\nat java.lang.Thread.run(Thread.java:745) [?:1.7.0_65]\n[06:06:34] [Server thread/WARN]: Failed to load operators list:\njava.io.FileNotFoundException: ops.json (No such file or directory)\nat java.io.FileInputStream.open(Native Method) ~[?:1.7.0_65]\nat java.io.FileInputStream.<init>(FileInputStream.java:146) ~[?:1.7.0_65]\nat com.google.common.io.Files.newReader(Files.java:86) ~[minecraft_server.1.8.1.jar:?]\nat su.g(SourceFile:124) ~[minecraft_server.1.8.1.jar:?]\nat po.A(SourceFile:107) [minecraft_server.1.8.1.jar:?]\nat po.<init>(SourceFile:29) [minecraft_server.1.8.1.jar:?]\nat pp.i(SourceFile:172) [minecraft_server.1.8.1.jar:?]\nat net.minecraft.server.MinecraftServer.run(SourceFile:418) [minecraft_server.1.8.1.jar:?]\nat java.lang.Thread.run(Thread.java:745) [?:1.7.0_65]\n[06:06:34] [Server thread/WARN]: Failed to load white-list:\njava.io.FileNotFoundException: whitelist.json (No such file or directory)\nat java.io.FileInputStream.open(Native Method) ~[?:1.7.0_65]\nat java.io.FileInputStream.<init>(FileInputStream.java:146) ~[?:1.7.0_65]\nat com.google.common.io.Files.newReader(Files.java:86) ~[minecraft_server.1.8.1.jar:?]\nat su.g(SourceFile:124) ~[minecraft_server.1.8.1.jar:?]\nat po.C(SourceFile:123) [minecraft_server.1.8.1.jar:?]\nat po.<init>(SourceFile:30) [minecraft_server.1.8.1.jar:?]\nat pp.i(SourceFile:172) [minecraft_server.1.8.1.jar:?]\nat net.minecraft.server.MinecraftServer.run(SourceFile:418) [minecraft_server.1.8.1.jar:?]\nat java.lang.Thread.run(Thread.java:745) [?:1.7.0_65]\n[06:06:34] [Server thread/INFO]: Preparing level “world”\n[06:06:34] [Server thread/INFO]: Preparing start region for level 0\n[06:06:35] [Server thread/INFO]: Preparing spawn area: 4%\n[06:06:36] [Server thread/INFO]: Preparing spawn area: 7%\n[06:06:37] [Server thread/INFO]: Preparing spawn area: 9%\n[06:06:38] [Server thread/INFO]: Preparing spawn area: 11%\n[06:06:39] [Server thread/INFO]: Preparing spawn area: 15%\n[06:06:40] [Server thread/INFO]: Preparing spawn area: 17%\n[06:06:41] [Server thread/INFO]: Preparing spawn area: 20%\n[06:06:42] [Server thread/INFO]: Preparing spawn area: 29%\n[06:06:43] [Server thread/INFO]: Preparing spawn area: 40%\n[06:06:44] [Server thread/INFO]: Preparing spawn area: 55%\n[06:06:46] [Server thread/INFO]: Preparing spawn area: 70%\n[06:06:47] [Server thread/INFO]: Preparing spawn area: 82%\n[06:06:48] [Server thread/INFO]: Preparing spawn area: 95%\n[06:06:48] [Server thread/INFO]: Done (14.248s)! For help, type “help” or “?”</p>\n<pre><code><span class="hljs-bullet">4. </span>If we ignore the files that we didn’t create for things like the banned players list, that’s all we have to do to run the server! Launch Minecraft and select Multiplayer:  \n[<span class="hljs-link_label">![Minecraft Multiplayer</span>](<span class="hljs-link_url">http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611476/Screenshot-2014-12-27-00.41.05_xnigfr.png</span>)](<span class="hljs-link_url">http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611476/Screenshot-2014-12-27-00.41.05_xnigfr.png</span>)\n<span class="hljs-bullet">5. </span>Select “Add Server”  \n[<span class="hljs-link_label">![Minecraft Add Server</span>](<span class="hljs-link_url">http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611474/Screenshot-2014-12-27-00.43.07_mje3vg.png</span>)](<span class="hljs-link_url">http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611474/Screenshot-2014-12-27-00.43.07_mje3vg.png</span>)\n<span class="hljs-bullet">6. </span>Name it whatever you want. To get the server address, run <span class="hljs-code">`machine-docker url`</span>. <span class="hljs-code">```</span>\n<span class="hljs-blockquote">&gt; machine-docker url</span>\ntcp://nnn.nnn.nn.nn:2376\n</code></pre>\n<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611474/Screenshot-2014-12-27-00.46.13_dna5kf.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611474/Screenshot-2014-12-27-00.46.13_dna5kf.png" alt="Mining and Crafting!"></a></p>\n<ol start="7">\n<li>After clicking <code>done</code>, we should see our server:<br>\n<a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611473/Screenshot-2014-12-27-00.48.40_oxnmuv.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611473/Screenshot-2014-12-27-00.48.40_oxnmuv.png" alt="Available Server!"></a></li>\n<li>After clicking play the server, we get a nice new world!<br>\n<a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611472/Screenshot-2014-12-27-00.50.45_xcr7h9.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611472/Screenshot-2014-12-27-00.50.45_xcr7h9.png" alt="A New World!"></a></li>\n</ol>\n<h2>What’s next?</h2>\n<h3>Keeping the data around</h3>\n<p>Spawning servers is cool, but how do we keep the data around after the container is killed?</p>\n<ol>\n<li>Let’s take a look inside a running Minecraft container. ```</li>\n</ol>\n<blockquote>\n<p>machine-docker-1.3.1-dev-identity-auth ps\nCONTAINER ID        IMAGE                          COMMAND              CREATED              STATUS              PORTS                      NAMES\n94cf3f854fd8        itzg/minecraft-server:latest   “/start-minecraft”   About a minute ago   Up About a minute   0.0.0.0:25565-&gt;25565/tcp   sad_pare\nmachine-docker-1.3.1-dev-identity-auth exec -it 94c bash\nminecraft@94cf3f854fd8:/data$ ls\nbanned-ips.json  banned-players.json  eula.txt  logs  minecraft_server.1.8.1.jar  ops.json  server.properties  usercache.json  whitelist.json  world</p>\n</blockquote>\n<pre><code><span class="hljs-bullet">2. </span><span class="hljs-code">`kill`</span> the old server (we ran it using <span class="hljs-code">`-it`</span> so <span class="hljs-code">`Control-C`</span> should kill it. If you chose to run it with <span class="hljs-code">`-d`</span>, just use <span class="hljs-code">`machine-docker-1.3.1-dev-identity-auth ps`</span> and <span class="hljs-code">`machine-docker-1.3.1-dev-identity-auth kill $container_id`</span>\n<span class="hljs-bullet">3. </span>After killing the server, we will get kicked from the game:  \n[<span class="hljs-link_label">![Screenshot 2014-12-27 00.55.45</span>](<span class="hljs-link_url">http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611471/Screenshot-2014-12-27-00.55.45_hsjzmu.png</span>)](<span class="hljs-link_url">http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611471/Screenshot-2014-12-27-00.55.45_hsjzmu.png</span>)\n<span class="hljs-bullet">4. </span>We can see that there were quite a few files in the /data directory. We’re going to mount a volume there using <span class="hljs-code">`/opt/craft`</span> on the host. Notice that we’ve also set the Message of the Day (MOTD). <span class="hljs-code">```</span>\nmachine-docker-1.3.1-dev-identity-auth run -dp 25565:25565 -e EULA=true -e \'MOTD=Crafty Crafting!\' -v /opt/craft:/data itzg/minecraft-server\n</code></pre>\n<ol start="5">\n<li>Let’s ssh in to the Digital Ocean host and see if we have any files: ```</li>\n</ol>\n<blockquote>\n<p>machine-docker ssh\nroot@docker:~# ls /opt/craft/\nbanned-ips.json  banned-players.json  eula.txt  logs  minecraft_server.1.8.1.jar  ops.json  server.properties  usercache.json  whitelist.json  world</p>\n</blockquote>\n<pre><code><span class="hljs-number">6.</span> Voila! We have <span class="hljs-operator">a</span> bunch <span class="hljs-operator">of</span> <span class="hljs-built_in">files</span>. Now we reconnect <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> server (<span class="hljs-keyword">using</span> <span class="hljs-operator">the</span> Minecraft app) <span class="hljs-operator">and</span> spend some <span class="hljs-built_in">time</span> doing something (say, chopping down <span class="hljs-operator">a</span> tree). After that, <span class="hljs-built_in">kill</span> <span class="hljs-operator">the</span> server <span class="hljs-keyword">as</span> <span class="hljs-keyword">before</span>. The <span class="hljs-built_in">files</span> will stay <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">the</span> <span class="hljs-title">Digital</span> <span class="hljs-title">Ocean</span> <span class="hljs-title">machine</span>, <span class="hljs-title">so</span> <span class="hljs-title">we</span> <span class="hljs-title">can</span> <span class="hljs-title">just</span> <span class="hljs-title">restart</span> <span class="hljs-title">the</span> <span class="hljs-title">server</span> <span class="hljs-title">using</span> <span class="hljs-title">the</span> <span class="hljs-title">same</span> <span class="hljs-title">volume</span> <span class="hljs-title">mount</span>: ```</span>\nmachine-docker-<span class="hljs-number">1.3</span><span class="hljs-number">.1</span>-dev-identity-auth run -dp <span class="hljs-number">25565</span>:<span class="hljs-number">25565</span> -e EULA=<span class="hljs-constant">true</span> -e <span class="hljs-string">\'MOTD=Crafty Crafting!\'</span> -v /opt/craft:/data itzg/minecraft-server\n</code></pre>\n<ol start="7">\n<li>And look at that, we’ve still cutting down our tree! The server was saved!<br>\n<a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611468/Screenshot-2014-12-27-01.21.57_ldyqeq.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611468/Screenshot-2014-12-27-01.21.57_ldyqeq.png" alt="Chopping Wood"></a></li>\n</ol>\n<h3>A new Seed:</h3>\n<p>Let’s check out a new seed using the configuration files.</p>\n<ol>\n<li>Now we’ll re-run our server with a level seed. It should be added to <code>/opt/craft/server.properties</code> and we can do that through ssh and vi: ```</li>\n</ol>\n<blockquote>\n<p>machine-docker ssh biscarch/minecraft\nroot@docker:~# vi /opt/craft/server.properties</p>\n</blockquote>\n<pre><code><span class="hljs-number">2.</span> server.properties looks something like this (we’ve just changed <span class="hljs-operator">the</span> `level-seed`) ```\nroot@docker:~<span class="hljs-comment"># cat /opt/craft/server.properties</span>\n<span class="hljs-comment">#Minecraft server properties</span>\n<span class="hljs-comment">#Sat Dec 27 10:00:14 UTC 2014</span>\nspawn-protection=<span class="hljs-number">16</span>\n<span class="hljs-built_in">max</span>-<span class="hljs-built_in">tick</span>-<span class="hljs-built_in">time</span>=<span class="hljs-number">60000</span>\ngenerator-settings=\nforce-gamemode=<span class="hljs-constant">false</span>\nallow-nether=<span class="hljs-constant">true</span>\ngamemode=<span class="hljs-number">0</span>\nenable-query=<span class="hljs-constant">false</span>\nplayer-idle-timeout=<span class="hljs-number">0</span>\ndifficulty=<span class="hljs-number">1</span>\nspawn-monsters=<span class="hljs-constant">true</span>\nop-permission-level=<span class="hljs-number">4</span>\nresource-pack-hash=\nannounce-player-achievements=<span class="hljs-constant">true</span>\npvp=<span class="hljs-constant">true</span>\nsnooper-enabled=<span class="hljs-constant">true</span>\nlevel-type=DEFAULT\nhardcore=<span class="hljs-constant">false</span>\nenable-<span class="hljs-command"><span class="hljs-keyword">command</span>-block=<span class="hljs-title">false</span></span>\n<span class="hljs-built_in">max</span>-players=<span class="hljs-number">20</span>\nnetwork-compression-threshold=<span class="hljs-number">256</span>\n<span class="hljs-built_in">max</span>-world-size=<span class="hljs-number">29999984</span>\nserver-port=<span class="hljs-number">25565</span>\ntexture-pack=\nserver-ip=\nspawn-npcs=<span class="hljs-constant">true</span>\nallow-flight=<span class="hljs-constant">false</span>\nlevel-name=world\nview-distance=<span class="hljs-number">10</span>\nresource-pack=\nspawn-animals=<span class="hljs-constant">true</span>\nwhite-list=<span class="hljs-constant">false</span>\ngenerate-structures=<span class="hljs-constant">true</span>\nonline-mode=<span class="hljs-constant">true</span>\n<span class="hljs-built_in">max</span>-build-height=<span class="hljs-number">256</span>\nlevel-seed=<span class="hljs-number">1785852800490497919</span>\nuse-native-transport=<span class="hljs-constant">true</span>\nenable-rcon=<span class="hljs-constant">false</span>\nmotd=Crafty Crafting!\n</code></pre>\n<ol start="3">\n<li>Now we should be able to blow away <code>/opt/craft/world</code> (if it exists in the container) and our world will get rebuilt: ```\nrm -rf /opt/craft/world</li>\n</ol>\n<pre><code><span class="hljs-number">4.</span> <span class="hljs-built_in">run</span> the server <span class="hljs-keyword">with</span> the volume attached: ```\nmachine-docker-<span class="hljs-number">1.3</span><span class="hljs-number">.1</span>-dev-identity-auth <span class="hljs-built_in">run</span> -dp <span class="hljs-number">25565</span>:<span class="hljs-number">25565</span> -e EULA=<span class="hljs-literal">true</span> -e <span class="hljs-string">\'MOTD=Crafty Crafting!\'</span> -v /<span class="hljs-built_in">opt</span>/craft:/data itzg/minecraft-server\n</code></pre>\n<ol start="5">\n<li>After starting the server with the new seed, just play the server as before (it should still be listed).<br>\n<a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611470/Screenshot-2014-12-27-01.01.20_moh5jl.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611470/Screenshot-2014-12-27-01.01.20_moh5jl.png" alt="Screenshot 2014-12-27 01.01.20"></a><br>\nTurn around and you should see:<br>\n<a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611466/Screenshot-2014-12-27-02.00.51_disq4c.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611466/Screenshot-2014-12-27-02.00.51_disq4c.png" alt="Screenshot 2014-12-27 02.00.51"></a></li>\n</ol>\n<h1>Fin</h1>\n<p>We can use docker machine to ssh into the server and edit <code>/opt/craft/server.properties</code>, which holds <a href="http://minecraft.gamepedia.com/Server.properties">a bunch of data</a> we may want to edit. Then just restart the container <img src="http://www.christopherbiscardi.com/wp-includes/images/smilies/simple-smile.png" alt=":)"></p>\n<p>Happy Crafting!</p>\n'}},function(e,n){e.exports={title:"Deploying Snap with Docker",date:"Wed, 15 Oct 2014 20:30:43 +0000",layout:"post",path:"/2014/10/15/deploying-snap-with-docker/",body:'<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611482/snap_sks60m.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611482/snap_sks60m.png" alt="snap-framework"></a></p>\n<p><a href="http://www.christopherbiscardi.com/2014/10/05/working-with-snap-1-0/">Previous Post – Working With Snap 1.0</a></p>\n<p>In our previous post we built out a scaffold project with Snap 1.0. In this post we’ll go over building a simple Dockerfile to deploy the project.</p>\n<p>Make sure you’ve <a href="https://docs.docker.com/installation/#installation">installed docker</a></p>\n<h2>Building the Haskell Base</h2>\n<p>There is an effort to make a <a href="https://github.com/darinmorrison/docker-haskell/tree/docker-library">docker official haskell image</a> so we’ll use that. Once it’s merged into <code>docker-library</code>, we can simply skip building the <code>docker-haskell</code> from scratch.</p>\n<p>Clone docker-haskell and switch to the docker-library branch. (It doesn’t matter where on the computer we do this)</p>\n<pre><code>git clone git@github<span class="hljs-class">.com</span>:darinmorrison/docker-haskell<span class="hljs-class">.git</span>\ncd docker-haskell\ngit checkout docker-library\n</code></pre>\n<p>Once in the appropriate directory, we can build the image with <a href="https://docs.docker.com/reference/commandline/cli/#build"><code>docker build</code></a>. <code>-t</code> is short for <code>--tag</code>, which lets us tag an image. We’ll use <code>haskell</code> for the base name and tag it as <code>7.8</code>. Finally, the <code>.</code> tells docker where to find the dockerfile we’re building.</p>\n<pre><code>cd <span class="hljs-number">7.8</span>\ndocker build -t haskell:<span class="hljs-number">7.8</span> .\n</code></pre>\n<p>We can test that it worked by using <a href="https://docs.docker.com/reference/commandline/cli/#run"><code>docker run</code></a> to spawn <code>ghci</code> as an interactive pseudo-tty.</p>\n<pre><code>docker run -<span class="hljs-tag">i</span> -t haskell:<span class="hljs-number">7.8</span> ghci\n</code></pre>\n<p>Use <code>:q</code> to quit <code>ghci</code> as usual.</p>\n<h1>Building our Project</h1>\n<p>We’ll base our project on the docker image we just built.</p>\n<p>NOTE: We can push this base image <a href="https://docs.docker.com/userguide/dockerrepos/#pushing-a-repository-to-docker-hub">to the docker hub</a> but interestingly enough, we don’t have to (if we’re using “normal” repos; Automated Builds are a different story). We can push the final image without pushing the base image.</p>\n<h3>Dockerfile</h3>\n<p>Our <code>Dockerfile</code> goes in the root of the <code>auth-server/</code> folder. If you’ve built a haskell project before and are familiar with cabal sandboxes, this will be similar:</p>\n<pre><code><span class="hljs-comment"># https://github.com/darinmorrison/docker-haskell/tree/docker-library</span>\nFROM haskell:7.8\n\nRUN cabal update\n\n<span class="hljs-comment"># Add Cabal File and deps/ folder</span>\nADD ./auth-server.cabal /opt/auth-server/auth-server.cabal\nADD ./deps /opt/auth-server/deps\n\n<span class="hljs-comment"># Create Sandbox and Add Source Deps</span>\nRUN cd /opt/auth-server &amp;&amp;\n        cabal sandbox init &amp;&amp;\n        cabal sandbox<span class="hljs-instruction"> add-source </span>deps/io-streams-haproxy &amp;&amp;\n        cabal sandbox<span class="hljs-instruction"> add-source </span>deps/snap &amp;&amp;\n        cabal sandbox<span class="hljs-instruction"> add-source </span>deps/snap-core &amp;&amp;\n        cabal sandbox<span class="hljs-instruction"> add-source </span>deps/snap-server &amp;&amp;\n        cabal sandbox<span class="hljs-instruction"> add-source </span>deps/snap-loader-static &amp;&amp;\n        cabal sandbox<span class="hljs-instruction"> add-source </span>deps/heist\n\nRUN cd /opt/auth-server &amp;&amp; cabal install --only-dependencies\n\n<span class="hljs-comment"># Explicitly add relevant folders</span>\nADD ./src /opt/auth-server/src\nADD ./snaplets /opt/auth-server/snaplets\nADD ./static /opt/auth-server/static\n\n<span class="hljs-comment"># Init logging directories</span>\nRUN mkdir /opt/auth-server/log\n\n<span class="hljs-comment"># Build the Project</span>\nRUN cd /opt/auth-server &amp;&amp; cabal build\n\n<span class="hljs-comment"># The directory CMD works from</span>\nWORKDIR /opt/auth-server\nCMD <span class="hljs-keyword">[</span><span class="hljs-string">"./dist/build/auth-server/auth-server"</span>]\n</code></pre>\n<p>With the above dockerfile in the root of <code>auth-server/</code> we can build with:</p>\n<pre><code>cd auth-<span class="hljs-keyword">server</span>\ndocker build -t auth-<span class="hljs-keyword">server</span> .\n</code></pre>\n<p>NOTE: <code>-t auth-server</code> could be any name, such as <code>-t myawesomething</code> but if you plan to push it to the docker hub do <code>username/image-name:tag-name</code></p>\n<p>After building, run it with:</p>\n<pre><code>docker run -<span class="hljs-tag">i</span> -t -<span class="hljs-tag">p</span> <span class="hljs-number">8000</span>:<span class="hljs-number">8000</span> auth-server\n</code></pre>\n<p>and we should have a running instance of our application on port <code>8000</code> (or at <code>boot2docker ip</code> on port <code>8000</code>).</p>\n<h3>To The Hub!</h3>\n<p>We can push the image we just built to a registry (such as the docker hub) by building it with our username (so it gets filed under our user on the hub):</p>\n<pre><code><span class="hljs-label">docker</span> <span class="hljs-keyword">build </span>-t <span class="hljs-keyword">biscarch/auth-server\n</span><span class="hljs-label">docker</span> <span class="hljs-keyword">push </span><span class="hljs-keyword">biscarch/auth-server\n</span></code></pre>\n<p>and on some other computer (such as AWS, a Digital Ocean instance or another dev computer) pull and run the image:</p>\n<pre><code><span class="hljs-label">docker</span> pull <span class="hljs-keyword">biscarch/auth-server\n</span><span class="hljs-label">docker</span> run -d -p <span class="hljs-number">8000</span>:<span class="hljs-number">8000</span> <span class="hljs-keyword">biscarch/auth-server\n</span></code></pre>\n<p>after running, we can check that it’s up with <code>docker ps</code>:</p>\n<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611480/Screenshot-2014-10-14-20.26.19_ms5prn.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611480/Screenshot-2014-10-14-20.26.19_ms5prn.png" alt="Screenshot 2014-10-14 20.26.19"></a></p>\n<h1>FIN</h1>\n<p>The completed docker image is on the hub as <a href="https://registry.hub.docker.com/u/biscarch/auth-server/">biscarch/auth-server:0.0.0.2</a>, so you can run a <code>pull</code>, then a <code>run</code> anywhere you like:</p>\n<pre><code>docker pull biscarch/auth-server:<span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>\ndocker run -i -t -p <span class="hljs-number">8000</span>:<span class="hljs-number">8000</span> biscarch/auth-server:<span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span>\n</code></pre>\n'
}},function(e,n){e.exports={title:"Docker Machine",date:"Sun, 21 Dec 2014 12:53:09 +0000",layout:"post",featuredImage:"https://images.unsplash.com/photo-1437651025703-2858c944e3eb?q=80&fm=jpg&s=0dcc93030e0301f03e423419c0d6a8f9",path:"/2014/12/21/docker-machine/",body:'<p>In this post, I will record the process through which I attempt to use\nDocker Machine to deploy a simple Haskell application on Digital\nOcean.</p>\n<h2>Zero to Docker</h2>\n<p>To get an OSX docker machine running, I had to download\n<a href="https://github.com/docker/machine#try-it-out">two binaries</a>:\n<code>machine</code> and a version of docker with Identity Authentication. I will\nrefer to these as <code>machine-docker</code> and\n<code>machine-docker-1.3.1-dev-identity-auth</code>\nrespectively. <code>machine-docker</code> is a new binary while\n<code>machine-docker-1.3.1-dev-identity-auth</code> is the usual <code>docker</code> binary\nwith some additional commits.</p>\n<ol>\n<li>Create an OSX machine using virtualbox. Name it <code>test-machine</code>:</li>\n</ol>\n<pre><code class="language-bash">&gt; machine-docker create <span class="hljs-operator">-d</span> virtualbox <span class="hljs-built_in">test</span>-machine\nINFO[<span class="hljs-number">0000</span>] Downloading boot2docker...\nINFO[<span class="hljs-number">0021</span>] Creating SSH key...\nINFO[<span class="hljs-number">0021</span>] Creating VirtualBox VM...\nINFO[<span class="hljs-number">0029</span>] Starting VirtualBox VM...\nINFO[<span class="hljs-number">0029</span>] Waiting <span class="hljs-keyword">for</span> VM to start...\nINFO[<span class="hljs-number">0061</span>] <span class="hljs-string">"test-machine"</span> has been created and is now the active\n           machine. To point Docker at this machine, run: <span class="hljs-built_in">export</span>\n           DOCKER_HOST=$(machine url) DOCKER_AUTH=identity\n</code></pre>\n<ol start="2">\n<li>Create a function to export the desired env vars. I put this in my <code>~/.zshrc</code></li>\n</ol>\n<pre><code class="language-bash">to-<span class="hljs-function"><span class="hljs-title">machine</span></span>(){\n    <span class="hljs-built_in">export</span> DOCKER_HOST=$(machine-docker url) DOCKER_AUTH=identity\n}\n</code></pre>\n<ol start="3">\n<li>Test with <code>docker ps</code> in a new shell:</li>\n</ol>\n<pre><code class="language-bash">&gt; to-machine\n&gt; machine-docker-<span class="hljs-number">1.3</span>.<span class="hljs-number">1</span>-dev-identity-auth ps\nCONTAINER ID  IMAGE  COMMAND  CREATED  STATUS  PORTS  NAMES\n</code></pre>\n<h2>Docker to Digital Ocean</h2>\n<ol>\n<li>Create a <a href="https://cloud.digitalocean.com/settings/applications">Personal Access Token</a></li>\n</ol>\n<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611477/Screenshot-2014-12-20-14.58.25_hvbvt6.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/h_181,w_660/v1428611477/Screenshot-2014-12-20-14.58.25_hvbvt6.png" alt="digital ocean application settings"></a></p>\n<ol start="2">\n<li>Name and Generate the token</li>\n</ol>\n<p><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611476/Screenshot-2014-12-20-14.58.47_kcvvzv.png" alt="Screenshot 2014-12-20 14.58.47"></p>\n<ol start="3">\n<li>After getting a token, I set it to <code>DO_TOKEN</code>:</li>\n</ol>\n<pre><code class="language-bash"><span class="hljs-built_in">export</span> DO_TOKEN=mytokenhere235bhn2b23j5k\n</code></pre>\n<ol start="4">\n<li>Create a machine on Digital Ocean</li>\n</ol>\n<pre><code class="language-bash">&gt; machine-docker create <span class="hljs-operator">-d</span> digitalocean --digitalocean-access-token=<span class="hljs-variable">$DO_TOKEN</span> biscarch/bot\nINFO[<span class="hljs-number">0000</span>] Creating SSH key...\nINFO[<span class="hljs-number">0000</span>] Creating Digital Ocean droplet...\nINFO[<span class="hljs-number">0002</span>] Waiting <span class="hljs-keyword">for</span> SSH...\nINFO[<span class="hljs-number">0103</span>] <span class="hljs-string">"biscarch/bot"</span> has been created and is now the active\n           machine. To point Docker at this machine, run: <span class="hljs-built_in">export</span>\n           DOCKER_HOST=$(machine url) DOCKER_AUTH=identity\n</code></pre>\n<ol start="5">\n<li>Point Docker at the Digital Ocean Machine <code>biscarch/bot</code></li>\n</ol>\n<pre><code class="language-bash">&gt; to-machine\n</code></pre>\n<ol start="6">\n<li><code>docker ps</code> on Digital Ocean</li>\n</ol>\n<pre><code class="language-bash">&gt; machine-docker-<span class="hljs-number">1.3</span>.<span class="hljs-number">1</span>-dev-identity-auth ps\nThe authenticity of host <span class="hljs-string">"<span class="hljs-variable">$ip</span>:<span class="hljs-variable">$port</span>"</span> can<span class="hljs-string">\'t be established.\nRemote key ID XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX\nAre you sure you want to continue connecting (yes/no)? yes\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n</span></code></pre>\n<h2><code>docker run</code> on Digital Ocean</h2>\n<ol>\n<li>We can run an image using the\n<a href="https://github.com/snapforbeginners/barebones">barebones image</a>\nfrom <a href="http://snapforbeginners.com/">Snap for Beginners</a>\ninteractively with a pseduo-tty:</li>\n</ol>\n<pre><code class="language-bash">&gt; machine-docker-<span class="hljs-number">1.3</span>.<span class="hljs-number">1</span>-dev-identity-auth run -itp <span class="hljs-number">8000</span>:<span class="hljs-number">8000</span> snapforbeginners/barebones\nno port specified, defaulting to port <span class="hljs-number">8000</span>\nListening on http://<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">8000</span>/\n</code></pre>\n<ol start="2">\n<li>We can curl our Digital Ocean machine’s IP to see if the container\nis running:</li>\n</ol>\n<pre><code class="language-bash">&gt; curl <span class="hljs-variable">$DO_IP</span>:<span class="hljs-number">8000</span>\nhello world\n</code></pre>\n<h2>Fin</h2>\n<p>That’s it. We have a Docker Engine and a container running on Digital\nOcean. We can also run multiple containers as Daemons and all of the\nnormal goodness of the Docker CLI.</p>\n'}},function(e,n){e.exports={title:"Emacs in Docker",date:"Fri, 17 Oct 2014 21:43:57 +0000",layout:"post",path:"/2014/10/17/emacs-in-docker/",body:'<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611480/docker-emacs_rscg2o.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611480/docker-emacs_rscg2o.png" alt="docker-emacs"></a></p>\n<p>Assuming a docker installation (either boot2docker or just docker) and a version of <code>1.3</code> or higher, we can use Volumes to enable a portable emacs installation.</p>\n<h1>Using My Image</h1>\n<p>To use mine, pull the image:</p>\n<pre><code><span class="hljs-label">docker</span> pull <span class="hljs-keyword">biscarch/emacs\n</span></code></pre>\n<p>set up a function to mount the <code>pwd</code> at <code>/files</code> inside the container and open an emacs at <code>/files</code>:</p>\n<p>NOTE: This is what I have in my <code>.zshrc</code>; YMMV.</p>\n<pre><code><span class="xml">de()</span><span class="hljs-expression">{\n    <span class="hljs-variable">docker</span> <span class="hljs-variable">run</span> <span class="hljs-variable">-itv</span> `<span class="hljs-variable">pwd</span>`:<span class="hljs-end-block">/files biscarch</span><span class="hljs-end-block">/emacs emacs </span><span class="hljs-end-block">/files</span>\n}</span><span class="xml">\n</span></code></pre>\n<p>Now, in the root of a project run:</p>\n<pre><code><span class="hljs-keyword">cd</span> my_project_root\n<span class="hljs-keyword">de</span>\n</code></pre>\n<p>and you’ll be in an emacs. All edits in <code>/files</code> will persist to the host:</p>\n<pre><code> <span class="hljs-number">1</span>  /files:\n <span class="hljs-number">2</span>  total used in directory <span class="hljs-number">52</span> available <span class="hljs-number">21162304</span>\n <span class="hljs-number">3</span>  drwxr-xr-x  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">680</span> Feb  <span class="hljs-number">8</span>  <span class="hljs-number">2014</span> .\n <span class="hljs-number">4</span>  drwxr-xr-x <span class="hljs-number">44</span> root root  <span class="hljs-number">4096</span> Oct <span class="hljs-number">18</span> <span class="hljs-number">03</span>:<span class="hljs-number">44</span> ..\n <span class="hljs-number">8</span>  -rw-r--r--  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">101</span> Aug <span class="hljs-number">16</span>  <span class="hljs-number">2013</span> .ghci\n <span class="hljs-number">9</span>  drwxr-xr-x  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">442</span> Oct <span class="hljs-number">18</span>  <span class="hljs-number">2014</span> .git\n<span class="hljs-number">10</span>  -rw-r--r--  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff   <span class="hljs-number">23</span> Nov  <span class="hljs-number">2</span>  <span class="hljs-number">2013</span> .gitignore\n<span class="hljs-number">13</span>  -rw-r--r--  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">125</span> Nov  <span class="hljs-number">2</span>  <span class="hljs-number">2013</span> README.md\n<span class="hljs-number">14</span>  drwxr-xr-x  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff   <span class="hljs-number">68</span> Sep <span class="hljs-number">15</span>  <span class="hljs-number">2013</span> custom-deps\n<span class="hljs-number">15</span>  drwxr-xr-x  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">170</span> Feb  <span class="hljs-number">8</span>  <span class="hljs-number">2014</span> dist\n<span class="hljs-number">16</span>  drwxr-xr-x  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">136</span> Feb  <span class="hljs-number">8</span>  <span class="hljs-number">2014</span> <span class="hljs-built_in">log</span>\n<span class="hljs-number">17</span>  -rw-r--r--  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff   <span class="hljs-number">96</span> Aug <span class="hljs-number">31</span>  <span class="hljs-number">2013</span> site_key.txt\n<span class="hljs-number">18</span>  drwxr-xr-x  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">136</span> Feb  <span class="hljs-number">8</span>  <span class="hljs-number">2014</span> snaplets\n<span class="hljs-number">19</span>  drwxr-xr-x  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">646</span> Feb  <span class="hljs-number">8</span>  <span class="hljs-number">2014</span> src\n<span class="hljs-number">20</span>  drwxr-xr-x  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">204</span> Feb  <span class="hljs-number">8</span>  <span class="hljs-number">2014</span> <span class="hljs-keyword">static</span>\n<span class="hljs-number">21</span>  -rw-r--r--  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff <span class="hljs-number">2542</span> Dec <span class="hljs-number">25</span>  <span class="hljs-number">2013</span> tracker.cabal\n<span class="hljs-number">22</span>  -rw-r--r--  <span class="hljs-number">1</span> <span class="hljs-number">1000</span> staff  <span class="hljs-number">602</span> Dec <span class="hljs-number">30</span>  <span class="hljs-number">2013</span> users.json\n</code></pre>\n<h3>Build Yours</h3>\n<p>To build your own <code>docker-emacs</code>, check out my <a href="https://registry.hub.docker.com/u/biscarch/emacs/">Automated Build</a> and the <a href="https://github.com/ChristopherBiscardi/docker-emacs">GitHub Repo</a> for <code>biscarch/emacs</code></p>\n'}},function(e,n){e.exports={title:"Environment Variables in Haskell",date:"Thu, 06 Feb 2014 14:39:47 +0000",layout:"post",path:"/2014/2/6/environment-variables-in-haskell/",body:'<p>In this post we will go over how to accept environmental variables in Haskell.</p>\n<p><a href="http://www.christopherbiscardi.com/post-conventions/">Conventions</a> used in this post.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"haskell"</span>&gt;<span class="hljs-keyword">import</span> System.Environment\n\nmain <span class="hljs-type-annotation">::</span> <span class="hljs-built_in">IO</span> ()\nmain = <span class="hljs-keyword">do</span>\n</code></pre>\n<p>We can compile this if we put it in a file called <code>env.hs</code>.</p>\n<p><code>&lt;code class=&quot;bash&quot;&gt;ghc env.hs</code></p>\n<p>and run it with an ad-hoc ENV variable:</p>\n<p><code>&lt;code class=&quot;bash&quot;&gt;myvariable=&quot;what&quot; ./env</code></p>\n<p>Which will print out:</p>\n<p><code>&quot;what&quot;</code></p>\n<p>but this will throw an error if the ENV var doesn’t exist:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;λ ./env\n<span class="hljs-label">env: myvariable: getEnv:</span> does <span class="hljs-literal">not</span> exist (no environment variable)<span class="hljs-escape">``</span><span class="hljs-escape">`\n</span>\nTo solve that issue we can use <span class="hljs-escape">`l</span>ookupEnv<span class="hljs-escape">` </span>with <span class="hljs-escape">`f</span>romMaybe<span class="hljs-escape">`\n</span>\n</code></pre>\n<p><code class="haskell">import System.Environment (lookupEnv)\nimport Data.Maybe (fromMaybe)</p>\n<p>main :: IO ()\nmain = do</p>\n<pre><code>\nwhich will give us a <span class="hljs-keyword">default</span> value <span class="hljs-keyword">when</span> the ENV <span class="hljs-keyword">variable</span> doesn<span class="hljs-attribute">\'t</span> exist:\n\n</code></pre>\n<p><code class="bash">λ ./env\n“mydefaultvalue”\nλ myvariable=“what” ./env\n“what”```</p>\n'}},function(e,n){e.exports={title:"Flattening Nested Arrays in JavaScript",date:"Mon, 06 Jan 2014 01:52:04 +0000",layout:"post",path:"/2014/1/5/flattening-nested-arrays-in-javascript/",body:'<p>I was writing a quick script today and came across a nice use case for .apply to merge nested arrays into a single array. So I figured I’d share it.</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"javascript"</span>&gt;\n    <span class="hljs-comment">//If we have nested arrays of depth = 1:</span>\n    var arr = [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],<span class="hljs-number">6</span>];\n    <span class="hljs-comment">//we can flatten it by using concat and apply</span>\n    var flat_arr = [].concat.apply([],arr);\n    <span class="hljs-comment">//and check the value</span>\n    console.<span class="hljs-built_in">log</span>(flat_arr);\n    <span class="hljs-comment">//logs [1,2,3,4,5,6]</span>\n</code></pre>\n<p>If you need a recursive (ie: infinitely nested) array flattened, check out the source for Underscore’s <a href="http://underscorejs.org/#flatten">flatten()</a> function, which uses concat.apply for shallow arrays.</p>\n'}},function(e,n){e.exports={title:"GeoSpatial Indexing with Riak Search 2.0 (Yokozuna/Solr)",date:"Fri, 07 Feb 2014 21:01:24 +0000",layout:"post",path:"/2014/2/7/geospatial-indexing-with-riak-search-2-0-yokozunasolr/",body:'<p>In this post we will be using curl to construct a geospatial index using Riak Search 2 (also known as Yokozuna) which is backed by Solr.</p>\n<p>I’ll be using <a href="http://docs.basho.com/riak/2.0.0pre11/downloads/">Riak Pre11</a> for this.</p>\n<p>In <code>etc/riak.conf</code> change <code>search</code> to <code>on</code>:<br>\n(It was on line 411 for me)</p>\n<p><code>search = on</code></p>\n<p>Make sure your <code>ulimit</code> is 4096 or greater:</p>\n<p><code>&lt;code class=&quot;bash&quot;&gt;ulimit -n 4096</code></p>\n<p>Then start Riak. I’m using <code>console</code> myself, but <code>start</code> would also work.</p>\n<p><code>&lt;code class=&quot;bash&quot;&gt;./bin/riak console</code></p>\n<h2>Creating a Schema</h2>\n<p>Let’s create a schema so that Solr indexes our data correctly (file available <a href="https://gist.github.com/ChristopherBiscardi/8876815">here</a>):</p>\n<pre><code><span class="hljs-tag">&lt;<span class="hljs-title">code</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"xml"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"overflow-x:scroll"</span>&gt;</span><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-title">schema</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"geotest"</span> <span class="hljs-attribute">version</span>=<span class="hljs-value">"1.5"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">uniqueKey</span>&gt;</span>_yz_id\n  <span class="hljs-tag">&lt;<span class="hljs-title">fields</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"string"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"loc"</span>  <span class="hljs-attribute">type</span>=<span class="hljs-value">"location_rpt"</span>  <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n    \n    <span class="hljs-comment">&lt;!-- Begin Yokozuna Fields --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_id"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">required</span>=<span class="hljs-value">"true"</span> /&gt;</span>\n\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text_ws"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"false"</span> <span class="hljs-attribute">multiValued</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_version_"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"long"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n\n   <span class="hljs-comment">&lt;!-- Entropy Data: Data related to anti-entropy --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_ed"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"false"</span>/&gt;</span>\n\n   <span class="hljs-comment">&lt;!-- Partition Number: Used as a filter query param --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_pn"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"false"</span>/&gt;</span>\n\n   <span class="hljs-comment">&lt;!-- First Partition Number: The first partition in this doc\'s\n        preflist, used for further filtering on overlapping partitions. --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_fpn"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"false"</span>/&gt;</span>\n\n   <span class="hljs-comment">&lt;!-- If there is a sibling, use vtag to differentiate them --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_vtag"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"false"</span>/&gt;</span>\n\n   <span class="hljs-comment">&lt;!-- Node: The name of the node that this doc was created on. --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_node"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"false"</span>/&gt;</span>\n\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_rt"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n\n   <span class="hljs-comment">&lt;!-- Riak Bucket: The bucket of the Riak object this doc corresponds to. --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_rb"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n\n   <span class="hljs-comment">&lt;!-- Riak Key: The key of the Riak object this doc corresponds to. --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_rk"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n\n   <span class="hljs-comment">&lt;!-- Node: Stores a flag if this doc is the product of a failed object extration --&gt;</span>\n   <span class="hljs-tag">&lt;<span class="hljs-title">field</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_err"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"false"</span>/&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-title">fields</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-title">types</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"location_rpt"</span>   <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.SpatialRecursivePrefixTreeFieldType"</span>\n                   <span class="hljs-attribute">spatialContextFactory</span>=<span class="hljs-value">"com.spatial4j.core.context.jts.JtsSpatialContextFactory"</span>\n                   <span class="hljs-attribute">distErrPct</span>=<span class="hljs-value">"0.025"</span>\n                   <span class="hljs-attribute">maxDistErr</span>=<span class="hljs-value">"0.000009"</span>\n                   <span class="hljs-attribute">units</span>=<span class="hljs-value">"degrees"</span>\n                /&gt;</span>\n    <span class="hljs-comment">&lt;!-- since fields of this type are by default not stored or indexed,\n         any data added to them will be ignored outright.  --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldtype</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"ignored"</span> <span class="hljs-attribute">stored</span>=<span class="hljs-value">"false"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"false"</span> <span class="hljs-attribute">multiValued</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.StrField"</span> /&gt;</span>\n\n    <span class="hljs-comment">&lt;!-- YZ String: Used for non-analyzed fields --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"_yz_str"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.StrField"</span> <span class="hljs-attribute">sortMissingLast</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"string"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.StrField"</span> <span class="hljs-attribute">sortMissingLast</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"boolean"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.BoolField"</span> <span class="hljs-attribute">sortMissingLast</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"int"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieIntField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"float"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieFloatField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"long"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieLongField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"double"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieDoubleField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-comment">&lt;!--\n     Numeric field types that index each value at various levels of precision\n     to accelerate range queries when the number of values between the range\n     endpoints is large. See the javadoc for NumericRangeQuery for internal\n     implementation details.\n\n     Smaller precisionStep values (specified in bits) will lead to more tokens\n     indexed per value, slightly larger index size, and faster range queries.\n     A precisionStep of 0 disables indexing at different precision levels.\n    --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"tint"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieIntField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"8"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"tfloat"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieFloatField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"8"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"tlong"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieLongField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"8"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"tdouble"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieDoubleField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"8"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"date"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieDateField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-comment">&lt;!-- A Trie based date field for faster date range queries and date faceting. --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"tdate"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TrieDateField"</span> <span class="hljs-attribute">precisionStep</span>=<span class="hljs-value">"6"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"0"</span>/&gt;</span>\n    <span class="hljs-comment">&lt;!--Binary data type. The data should be sent/retrieved in as Base64 encoded Strings --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldtype</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"binary"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.BinaryField"</span>/&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"random"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.RandomSortField"</span> <span class="hljs-attribute">indexed</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n    <span class="hljs-comment">&lt;!-- A text field that only splits on whitespace for exact matching of words --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"text_ws"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TextField"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"100"</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-title">analyzer</span>&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-title">tokenizer</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.WhitespaceTokenizerFactory"</span>/&gt;</span>\n      <span class="hljs-tag">&lt;/<span class="hljs-title">analyzer</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-title">fieldType</span>&gt;</span>\n    <span class="hljs-comment">&lt;!-- A general text field that has reasonable, generic\n         cross-language defaults: it tokenizes with StandardTokenizer,\n         removes stop words from case-insensitive "stopwords.txt"\n         (empty by default), and down cases.  At query time only, it\n         also applies synonyms. --&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">fieldType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"text_general"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.TextField"</span> <span class="hljs-attribute">positionIncrementGap</span>=<span class="hljs-value">"100"</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-title">analyzer</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"index"</span>&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-title">tokenizer</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.StandardTokenizerFactory"</span>/&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-title">filter</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.StopFilterFactory"</span> <span class="hljs-attribute">ignoreCase</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">words</span>=<span class="hljs-value">"stopwords.txt"</span>/&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-title">filter</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.LowerCaseFilterFactory"</span>/&gt;</span>\n      <span class="hljs-tag">&lt;/<span class="hljs-title">analyzer</span>&gt;</span>\n      <span class="hljs-tag">&lt;<span class="hljs-title">analyzer</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"query"</span>&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-title">tokenizer</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.StandardTokenizerFactory"</span>/&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-title">filter</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.StopFilterFactory"</span> <span class="hljs-attribute">ignoreCase</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">words</span>=<span class="hljs-value">"stopwords.txt"</span>/&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-title">filter</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.SynonymFilterFactory"</span> <span class="hljs-attribute">synonyms</span>=<span class="hljs-value">"synonyms.txt"</span> <span class="hljs-attribute">ignoreCase</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">expand</span>=<span class="hljs-value">"true"</span>/&gt;</span>\n        <span class="hljs-tag">&lt;<span class="hljs-title">filter</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"solr.LowerCaseFilterFactory"</span>/&gt;</span>\n      <span class="hljs-tag">&lt;/<span class="hljs-title">analyzer</span>&gt;</span>\n    <span class="hljs-tag">&lt;/<span class="hljs-title">fieldType</span>&gt;</span>\n  <span class="hljs-tag">&lt;/<span class="hljs-title">types</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-title">schema</span>&gt;</span>```\n\nThe important parts here are the schema name being `geotest`\n\n`<span class="hljs-tag">&lt;<span class="hljs-title">code</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"xml"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">schema</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"geotest"</span> <span class="hljs-attribute">version</span>=<span class="hljs-value">"1.5"</span>&gt;</span>`\n\nour two fields. `name` and `loc`\n\n</code></pre>\n<p><code class="xml" style="overflow-x:scroll">    <field name="name" type="string" indexed="true" stored="true"/>\n<field name="loc"  type="location_rpt"  indexed="true" stored="true"/>```</p>\n<p>and our fieldType <code>location_rpt</code></p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"xml"</span> style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;    &lt;fieldType <span class="hljs-property">name</span>=<span class="hljs-string">"location_rpt"</span>   <span class="hljs-type">class</span>=<span class="hljs-string">"solr.SpatialRecursivePrefixTreeFieldType"</span>\n                   distErrPct=<span class="hljs-string">"0.025"</span>\n                   maxDistErr=<span class="hljs-string">"0.000009"</span>\n                   units=<span class="hljs-string">"degrees"</span>\n                /&gt;```\n\nPretty much everything <span class="hljs-keyword">else</span> <span class="hljs-keyword">is</span> boilerplate so <span class="hljs-keyword">that</span> <span class="hljs-keyword">the</span> Riak Solr integration works.\n\n\n<span class="hljs-comment">## Upload Schema</span>\n\nWe can now upload this schema (I saved <span class="hljs-keyword">the</span> schema <span class="hljs-keyword">above</span> <span class="hljs-keyword">as</span> schema.xml <span class="hljs-keyword">in</span> <span class="hljs-keyword">my</span> current directory):\n\n</code></pre>\n<p><code class="bash">curl -i -XPUT <a href="http://localhost:8098/search/schema/geotest">http://localhost:8098/search/schema/geotest</a> <br>\n-H ‘content-type: application/xml’ <br>\n–data-binary @schema.xml```</p>\n<h2>Create Index</h2>\n<p>…and we create an index named “my_geo_index” which uses the schema (name = “geotest”) we just uploaded.</p>\n<pre><code>&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span>=</span><span class="hljs-string">"bash"</span>&gt;curl -i -<span class="hljs-type">XPUT</span> http:<span class="hljs-comment">//localhost:8098/search/index/my_geo_index \\</span>\n  -<span class="hljs-type">H</span> <span class="hljs-symbol">\'content</span>-<span class="hljs-class"><span class="hljs-keyword">type</span>:</span> application/json\' \\\n  -d \'{<span class="hljs-string">"schema"</span>:<span class="hljs-string">"geotest"</span>}\'```\n\n<span class="hljs-type">They</span> should both <span class="hljs-keyword">return</span> <span class="hljs-number">204</span> responses.\n\n\n## <span class="hljs-type">Create</span> <span class="hljs-type">Bucket</span> <span class="hljs-type">Type</span>\n\n<span class="hljs-type">Next</span> we’ll create a bucket <span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">named</span> <span class="hljs-title">“geo_type”</span> <span class="hljs-title">using</span> <span class="hljs-title">the</span> `<span class="hljs-title">riak-admin</span>` <span class="hljs-title">command</span>. <span class="hljs-title">Our</span> <span class="hljs-title">bucket</span> <span class="hljs-title">type</span> <span class="hljs-title">won’t</span> <span class="hljs-title">have</span> <span class="hljs-title">any</span> <span class="hljs-title">special</span> <span class="hljs-title">properties</span>, <span class="hljs-title">it</span> <span class="hljs-title">just</span> <span class="hljs-title">needs</span> <span class="hljs-title">to</span> <span class="hljs-title">exist</span>.\n</span>\n`&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span>=</span><span class="hljs-string">"bash"</span>&gt;./bin/riak-admin bucket-<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">create</span> <span class="hljs-title">geo_type</span> \'{</span><span class="hljs-string">"props"</span>:{}}\'`\n\n\n## <span class="hljs-type">Activate</span> <span class="hljs-type">Bucket</span> <span class="hljs-type">Type</span>\n\n<span class="hljs-type">We</span> also need to activate our <span class="hljs-keyword">new</span> bucket <span class="hljs-class"><span class="hljs-keyword">type</span>:</span>\n\n`&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span>=</span><span class="hljs-string">"bash"</span>&gt;./bin/riak-admin bucket-<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">activate</span> <span class="hljs-title">geo_type</span>`\n</span>\n\n## <span class="hljs-type">Create</span> <span class="hljs-type">Bucket</span>\n\n<span class="hljs-type">We</span> will now create a bucket named “stuff” under the `geo_type` bucket <span class="hljs-class"><span class="hljs-keyword">type</span>. <span class="hljs-title">In</span> <span class="hljs-title">addition</span>, <span class="hljs-title">this</span> <span class="hljs-title">command</span> <span class="hljs-title">associates</span> <span class="hljs-title">the</span> <span class="hljs-title">Solr</span> <span class="hljs-title">index</span> `<span class="hljs-title">my_geo_index</span>` <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-title">the</span> <span class="hljs-title">bucket</span> `<span class="hljs-title">stuff</span>`\n</span>\n</code></pre>\n<p><code class="bash">curl -XPUT ’<a href="http://localhost:8098/types/geo_type/buckets/stuff/props">http://localhost:8098/types/geo_type/buckets/stuff/props</a>’ <br>\n-H ‘content-type: application/json’ <br>\n-d ‘{“props”:{“search_index”:“my_geo_index”}}’```</p>\n<h2>Indexing Data</h2>\n<p>That’s it. Let’s index some data!</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;curl -i -H <span class="hljs-string">\'content-type: application/json\'</span> -X PUT <span class="hljs-string">\'http://localhost:8098/types/geo_type/buckets/stuff/keys/sf\'</span> -d <span class="hljs-string">\'{"name":"San Francisco", "loc":"37.774929,-122.419416"}\'</span>\ncurl -i -H <span class="hljs-string">\'content-type: application/json\'</span> -X PUT <span class="hljs-string">\'http://localhost:8098/types/geo_type/buckets/stuff/keys/sj\'</span> -d <span class="hljs-string">\'{"name":"San Jose", "loc":"37.339386,-121.894955"}\'</span>\ncurl -i -H <span class="hljs-string">\'content-type: application/json\'</span> -X PUT <span class="hljs-string">\'http://localhost:8098/types/geo_type/buckets/stuff/keys/mv\'</span> -d <span class="hljs-string">\'{"name":"Mountain View", "loc":"37.386052,-122.083851"}\'</span>```\n\n\n<span class="hljs-comment">## Querying</span>\n\nNow <span class="hljs-keyword">for</span> <span class="hljs-operator">the</span> fun part. Let’s find all <span class="hljs-operator">of</span> our data, scored <span class="hljs-operator">and</span> sorted <span class="hljs-keyword">by</span> distance. The score will <span class="hljs-constant">return</span> <span class="hljs-operator">a</span> distance (<span class="hljs-operator">in</span> degrees). We are querying <span class="hljs-built_in">from</span> <span class="hljs-operator">a</span> location <span class="hljs-operator">in</span> Palo Alto, California, so we should see fairly small distances <span class="hljs-built_in">to</span> Mountain View, San Jose <span class="hljs-operator">and</span> San Francisco.\n\n`&lt;code class=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;curl <span class="hljs-string">\'http://localhost:8098/search/my_geo_index?&amp;fl=*,score&amp;sort=score%20asc&amp;q={!geofilt%20score=distance%20filter=false%20sfield=loc%20pt=37.441883,-122.143019%20d=10}&amp;wt=json\'</span>`\n\nThe query returns <span class="hljs-operator">the</span> results:\n\n</code></pre>\n<p><code class="Javascript" style="overflow-x:scroll">{\n“responseHeader”:{\n“status”:0,\n“QTime”:24,\n“params”:{\n“shards”:“127.0.0.1:8093/solr/my_geo_index”,\n“sort”:“score asc”,\n“fl”:&quot;*,score&quot;,\n“q”:&quot;{!geofilt score=distance filter=false sfield=loc pt=37.441883,-122.143019 d=10}&quot;,\n“127.0.0.1:8093”:&quot;_yz_pn:64 OR (_yz_pn:61 AND (_yz_fpn:61)) OR _yz_pn:60 OR _yz_pn:57 OR _yz_pn:54 OR _yz_pn:51 OR _yz_pn:48 OR _yz_pn:45 OR _yz_pn:42 OR _yz_pn:39 OR _yz_pn:36 OR _yz_pn:33 OR _yz_pn:30 OR _yz_pn:27 OR _yz_pn:24 OR _yz_pn:21 OR _yz_pn:18 OR _yz_pn:15 OR _yz_pn:12 OR _yz_pn:9 OR _yz_pn:6 OR _yz_pn:3&quot;,\n“wt”:“json”\n}\n},\n“response”:{\n“numFound”:4,\n“start”:0,\n“maxScore”:0.39857662,\n“docs”:[\n{\n“loc”:“37.386052,-122.083851”,\n“name”:“Mountain View”,\n“_yz_id”:“geo_type_stuff_mv_42”,\n“_yz_rk”:“mv”,\n“_yz_rt”:“geo_type”,\n“_yz_rb”:“stuff”,\n“score”:0.072977245\n},\n{\n“loc”:“37.339386,-121.894955”,\n“name”:“San Jose”,\n“_yz_id”:“geo_type_stuff_sj_21”,\n“_yz_rk”:“sj”,\n“_yz_rt”:“geo_type”,\n“_yz_rb”:“stuff”,\n“score”:0.2221485\n},\n{\n“loc”:“37.774929,-122.419416”,\n“name”:“San Francisco”,\n“_yz_id”:“geo_type_stuff_sf_60_MeNonMcIRG8mmdJpk5KfM”,\n“_yz_rk”:“sf”,\n“_yz_rt”:“geo_type”,\n“_yz_rb”:“stuff”,\n“score”:0.39857662\n},\n{\n“loc”:“37.774929,-122.419416”,\n“name”:“San Francisco”,\n“_yz_id”:“geo_type_stuff_sf_60_5n4gT2r1Gt2qlHwfKCwypL”,\n“_yz_rk”:“sf”,\n“_yz_rt”:“geo_type”,\n“_yz_rb”:“stuff”,\n“score”:0.39857662\n}\n]\n}\n}```</p>\n<p>You’ll notice that there are two San Franciscos. This is because I inserted data twice into Riak without using a VClock the second time (While I was writing this post), resulting in siblings. This issue is easily resolvable by resolving the siblings as mentioned <a href="http://docs.basho.com/riak/latest/theory/concepts/Vector-Clocks/">here</a>.</p>\n<p>Now, we can convert to miles by multiplying the score (which is degrees) by <code>69.09341</code>. If we do this for San Jose it would be <code>.2221485 * 69.09341</code>, or about <code>15.34 mi</code>.</p>\n<p>For Kilometers we use <code>111.1951</code>, which gives us about <code>24.7 km</code>.</p>\n<p>Since our query location was from Palo Alto, California, we can see that San Jose is indeed, approximately that 15 miles away. Our search was successful!</p>\n'
}},function(e,n){e.exports={title:"Getting Started with PureScript",date:"Sun, 22 Jun 2014 18:48:27 +0000",layout:"post",path:"/2014/6/22/getting-started-with-purescript/",body:'<p>According to <a href="http://www.purescript.org/" title="purescript.org">PureScript.org</a></p>\n<blockquote>\n<p>PureScript is a small strongly, statically typed programming language with expressive types, written in and inspired by Haskell, and compiling to Javascript.</p>\n</blockquote>\n<p>It’s fairly easy to get started with the <a href="https://github.com/purescript-contrib/grunt-init-purescript" title="grunt init purescript template">grunt-init-purescript template</a></p>\n<h2>Dependencies</h2>\n<p>We will need <a href="http://gruntjs.com/">grunt</a>,<a href="https://github.com/gruntjs/grunt-init">grunt-init</a> and <a href="http://bower.io/">bower</a> to work with this PureScript template. <a href="http://nodejs.org/" title="nodejs">Node</a> is also a dependency because of this.</p>\n<p><code>&lt;code class=&quot;bash&quot; style=&quot;overflow-x:auto&quot;&gt;npm install -g grunt grunt-init bower</code></p>\n<p>Then clone the template into a <code>.grunt-init</code> folder using git:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;mkdir ~/.grunt-init\n<span class="hljs-label">git clone https:</span>//github.com/purescript-contrib/grunt-init-purescript.git ~/.grunt-init/purescript<span class="hljs-escape">``</span><span class="hljs-escape">`\n</span>\n<span class="hljs-label">We also need the PureScript compiler, which we can grab with cabal:</span>\n\n<span class="hljs-escape">`&lt;</span>code class=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;cabal install purescript<span class="hljs-escape">`\n</span>\n\n## Developing\n\nWe can now install dependencies from npm <span class="hljs-literal">and</span> bower. There’s <span class="hljs-literal">a</span> decent amount to be excited about in the output including <span class="hljs-escape">`p</span>urescript-quickcheck<span class="hljs-escape">`,</span> <span class="hljs-escape">`e</span>ither<span class="hljs-escape">` </span><span class="hljs-literal">and</span> <span class="hljs-escape">`m</span>aybe<span class="hljs-escape">` </span>to name <span class="hljs-literal">a</span> few.\n\n</code></pre>\n<p><code class="bash" style="overflow-x:auto">npm install\nbower update```</p>\n<p>Then grunt when we want to build:</p>\n<p><code>&lt;code class=&quot;bash&quot; style=&quot;overflow-x:auto&quot;&gt;grunt</code></p>\n<h2>Testing</h2>\n<p>The template project is more of a library project, where the tests are what we want to run if we cloned the repo. As such, our <code>Main</code> module is in <code>tests/Test.purs</code> and can be run using:</p>\n<p><code>&lt;code class=&quot;bash&quot; style=&quot;overflow-x:auto&quot;&gt;node tmp/index.js</code></p>\n<p>after running <code>grunt</code> to build the project.</p>\n<p>To build an executable (a node.js scraper for example) we can make a few changes.</p>\n<h2>Modifications</h2>\n<p>First, we’ll make some changes to our test file.</p>\n<h4>Tests</h4>\n<p><code>&lt;code class=&quot;bash&quot; style=&quot;overflow-x:auto&quot;&gt;mv tests/Tests.purs tests/Test/Main.purs</code></p>\n<p>and change the module name from <code>Main</code> to <code>Test.Main</code>. Also change the <code>Starter.Kit.Example</code> import to <code>Starter.Kit.Main</code>.</p>\n<h4>JS</h4>\n<p>Place two simple js files in <code>js/</code></p>\n<h6>js/index.js</h6>\n<p><code>&lt;code class=&quot;bash&quot; style=&quot;overflow-x:auto&quot;&gt;require(&quot;Starter.Kit.Main&quot;).main();</code></p>\n<h6>js/test.js</h6>\n<p><code>&lt;code class=&quot;bash&quot; style=&quot;overflow-x:auto&quot;&gt;require(&quot;Test.Main&quot;).main();</code></p>\n<h4>Starter Kit</h4>\n<p>Now we will make a small modification to the Starter Kit file.</p>\n<p><code>&lt;code class=&quot;bash&quot; style=&quot;overflow-x:auto&quot;&gt;mv src/Starter/Kit/Example.purs src/Starter/Kit/Main.purs</code></p>\n<p>and rename the module to <code>Starter.Kit.Main</code>.</p>\n<h4>Gruntfile</h4>\n<p>Finally make some modifications to the Gruntfile and run <code>grunt</code></p>\n<pre><code>&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">grunt</span>) </span>{\n<span class="hljs-pi">\n  "use strict"</span>;\n\n  grunt.initConfig({ \n  \n    libFiles: [\n      <span class="hljs-string">"src/**/*.purs"</span>,\n      <span class="hljs-string">"bower_components/purescript-*/src/**/*.purs"</span>\n    ],\n    \n    clean: [<span class="hljs-string">"tmp"</span>, <span class="hljs-string">"output"</span>],\n  \n    pscMake: {\n      lib: {\n        src: [<span class="hljs-string">""</span>]\n      },\n      tests: {\n        src: [<span class="hljs-string">"tests/Test/Main.purs"</span>, <span class="hljs-string">""</span>]\n      }\n    },\n\n    dotPsci: [<span class="hljs-string">""</span>],\n \n    copy: [\n      {\n        expand: <span class="hljs-literal">true</span>,\n        cwd: <span class="hljs-string">"output"</span>,\n        src: [<span class="hljs-string">"**"</span>],\n        dest: <span class="hljs-string">"tmp/node_modules/"</span>\n      }, {\n        expand: <span class="hljs-literal">true</span>,\n        cwd: <span class="hljs-string">"js/"</span>,\n        src: <span class="hljs-string">\'**\'</span>,\n        dest: <span class="hljs-string">"tmp/"</span>,\n        flatten: <span class="hljs-literal">true</span>\n      }\n    ],\n\n    execute: {\n      tests: {\n        src: <span class="hljs-string">"tmp/test.js"</span>\n      }\n    }      \n  });\n\n  grunt.loadNpmTasks(<span class="hljs-string">"grunt-contrib-copy"</span>);\n  grunt.loadNpmTasks(<span class="hljs-string">"grunt-contrib-clean"</span>);\n  grunt.loadNpmTasks(<span class="hljs-string">"grunt-execute"</span>)\n  grunt.loadNpmTasks(<span class="hljs-string">"grunt-purescript"</span>);\n \n  grunt.registerTask(<span class="hljs-string">"test"</span>, [<span class="hljs-string">"pscMake:tests"</span>, <span class="hljs-string">"copy"</span>, <span class="hljs-string">"execute:tests"</span>]);\n  grunt.registerTask(<span class="hljs-string">"make"</span>, [<span class="hljs-string">"pscMake:lib"</span>, <span class="hljs-string">"dotPsci"</span>]);\n  grunt.registerTask(<span class="hljs-string">"default"</span>, [<span class="hljs-string">"clean"</span>, <span class="hljs-string">"make"</span>, <span class="hljs-string">"test"</span>]);\n};<span class="hljs-string">``</span><span class="hljs-string">`\n\n\n</span></code></pre>\n'}},function(e,n){e.exports={title:"Getting Started with Robolectric: Headless Android Testing with Vagrant",date:"Sat, 08 Mar 2014 10:41:12 +0000",layout:"post",path:"/2014/3/8/getting-started-with-robolectric-headless-android-testing-with-vagrant/",body:'<p>In this post we will go over how to set up the sample project for Robolectric, run, test and deploy to a device in a headless vagrant environment.</p>\n<h2>Sample App</h2>\n<p>Clone the sample app from the <a href="https://github.com/robolectric/RobolectricSample">github repo</a></p>\n<p><code>git clone git@github.com:robolectric/RobolectricSample.git</code></p>\n<h2>Vagrantfile</h2>\n<p>Here is our Vagrantfile. We’ll need to add the <code>precise64</code> base box to our system. also availible as a <a href="https://gist.github.com/ChristopherBiscardi/9383725">Gist</a></p>\n<p><code>&lt;code class=&quot;bash&quot; style=&quot;overflow-x:auto&quot;&gt;vagrant box add precise64 http://files.vagrantup.com/precise64.box</code></p>\n<pre><code>&lt;code class=<span class="hljs-string">"ruby"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;<span class="hljs-comment"># -*- mode: ruby -*-</span>\n<span class="hljs-comment"># vi: set ft=ruby :</span>\n\n<span class="hljs-comment"># Vagrantfile API/syntax version. Don\'t touch unless you know what you\'re doing!</span>\n<span class="hljs-constant">VAGRANTFILE_API_VERSION </span>= <span class="hljs-string">"2"</span>\n\n<span class="hljs-constant">Vagrant.</span>configure(<span class="hljs-constant">VAGRANTFILE_API_VERSION)</span> <span class="hljs-keyword">do</span> |config|\n  config.vm.box = <span class="hljs-string">"precise64"</span>\n  config.vm.provision <span class="hljs-string">"shell"</span>, <span class="hljs-symbol">path:</span> <span class="hljs-string">"vagrant-android-build.sh"</span>\n  config.vm.provider <span class="hljs-symbol">:virtualbox</span> <span class="hljs-keyword">do</span> |vb|\n    vb.customize [<span class="hljs-string">\'modifyvm\'</span>, <span class="hljs-symbol">:id</span>, <span class="hljs-string">\'--usb\'</span>, <span class="hljs-string">\'on\'</span>]\n    vb.customize [<span class="hljs-string">\'usbfilter\'</span>, <span class="hljs-string">\'add\'</span>, <span class="hljs-string">\'0\'</span>, <span class="hljs-string">\'--target\'</span>, <span class="hljs-symbol">:id</span>, <span class="hljs-string">\'--name\'</span>, <span class="hljs-string">\'1197123b\'</span>, <span class="hljs-string">\'--vendorid\'</span>, <span class="hljs-string">\'0x04e8\'</span>]\n    vb.customize [<span class="hljs-string">\'usbfilter\'</span>, <span class="hljs-string">\'add\'</span>, <span class="hljs-string">\'0\'</span>, <span class="hljs-string">\'--target\'</span>, <span class="hljs-symbol">:id</span>, <span class="hljs-string">\'--name\'</span>, <span class="hljs-string">\'android\'</span>, <span class="hljs-string">\'--vendorid\'</span>, <span class="hljs-string">\'0x18d1\'</span>]\n  <span class="hljs-keyword">end</span>  \n<span class="hljs-keyword">end</span>\n</code></pre>\n<p>and the Vagrant build script. The build script downloads and installs ADT and Maven.</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;apt-get <span class="hljs-keyword">update</span> -<span class="hljs-literal">y</span>\napt-get install openjdk-7-jdk unzip -<span class="hljs-literal">y</span>\n# <span class="hljs-keyword">For</span> maven-<span class="hljs-keyword">plugin</span>\napt-get install lib32z1-dev bison flex lib32ncurses5-dev libx11-dev gperf <span class="hljs-keyword">g</span>++-multilib -<span class="hljs-literal">y</span>\n# Setup Android SDK\nsudo -<span class="hljs-keyword">u</span> vagrant wget http:<span class="hljs-comment">//dl.google.com/android/adt/adt-bundle-linux-x86_64-20131030.zip</span>\nsudo -<span class="hljs-keyword">u</span> vagrant unzip adt-bundle-linux-x86_64-20131030.<span class="hljs-keyword">zip</span>\n# Add Android SDK to PATH\nsudo -<span class="hljs-keyword">u</span> vagrant echo export PATH=/home/vagrant/adt-bundle-linux-x86_64-20131030/sdk/tools:\\<span class="hljs-label">$PATH</span> &gt;&gt; /home/vagrant/.bashrc\nsudo -<span class="hljs-keyword">u</span> vagrant echo export PATH=/home/vagrant/adt-bundle-linux-x86_64-20131030/sdk/platform-tools:\\<span class="hljs-label">$PATH</span> &gt;&gt; /home/vagrant/.bashrc\n\n# Maven\nsudo -<span class="hljs-keyword">u</span> vagrant wget http:<span class="hljs-comment">//download.nextag.com/apache/maven/maven-3/3.2.1/binaries/apache-maven-3.2.1-bin.tar.gz</span>\nsudo -<span class="hljs-keyword">u</span> vagrant tar -xvzf apache-maven-3.2.1-bin.tar.gz\n# Add Maven to PATH\nsudo -<span class="hljs-keyword">u</span> vagrant echo export PATH=/home/vagrant/apache-maven-3.2.1/bin:\\<span class="hljs-label">$PATH</span> &gt;&gt; /home/vagrant/.bashrc\n\n# Install API 16 (<span class="hljs-keyword">sample</span> project needs it)\n# echo <span class="hljs-string">"y"</span> is a hack to accept the license\nsudo -<span class="hljs-keyword">u</span> vagrant echo <span class="hljs-string">"y"</span> | /home/vagrant/adt-bundle-linux-x86_64-20131030/sdk/tools/android <span class="hljs-keyword">update</span> sdk -t 6 --<span class="hljs-keyword">no</span>-ui -<span class="hljs-literal">y</span>\n# ANDROID_HOME is <span class="hljs-keyword">for</span> Maven\nsudo -<span class="hljs-keyword">u</span> vagrant echo export ANDROID_HOME=/home/vagrant/adt-bundle-linux-x86_64-20131030/sdk/ &gt;&gt; /home/vagrant/.bashrc\n</code></pre>\n<h2>Path and ANDROID_HOME</h2>\n<p>We need a few thing on our path, all of which are included in our Vagrant build script (Android tools, Android platform-tools, Maven and ANDROID_HOME)</p>\n<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">code</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"bash"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"overflow-x:auto"</span>&gt;</span></span>export PATH=/home/vagrant/adt-bundle-linux-x86_64-20131030/sdk/tools:\\$PATH\nexport PATH=/home/vagrant/adt-bundle-linux-x86_64-20131030/sdk/platform-tools:\\$PATH\nexport PATH=/home/vagrant/apache-maven-3.2.1/bin:\\$PATH\nexport ANDROID<span class="hljs-emphasis">_HOME=/home/vagrant/adt-bundle-linux-x86_</span>64-20131030/sdk/<span class="hljs-code">```</span>\n\n\n<span class="hljs-header">## Vagrant Up</span>\n\nSimply copy the <span class="hljs-code">`Vagrantfile`</span> and <span class="hljs-code">`vagrant-android-build.sh`</span> into the sample project’s root folder. Then <span class="hljs-code">`cd`</span> into that folder and run <span class="hljs-code">`vagrant up`</span> to boot the machine. If you don’t have Vagrant and VirtualBox, [<span class="hljs-link_label">here</span>](<span class="hljs-link_url">http://www.vagrantup.com/</span>) and [<span class="hljs-link_label">here</span>](<span class="hljs-link_url">https://www.virtualbox.org/</span>) are the respective links.\n\nNote that it may be necessary to run the command to update the Android SDK manually due to the licenses.\n\n</code></pre>\n<p><code class="bash" style="overflow-x:auto">vagrant ssh\nandroid update sdk -t 6 --no-ui -y```</p>\n<h2>Running the Tests</h2>\n<p>We can run the tests inside the vm using maven:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span>&gt;vagrant ssh\n<span class="hljs-keyword">cd</span> /vagrant\nmvn clean <span class="hljs-keyword">test</span>```\n\n<span class="hljs-keyword">Which</span> will give <span class="hljs-keyword">us</span> output that looks like this:\n\n</code></pre>\n<p><code class="bash" style="overflow-x:auto">Results :</p>\n<p>Tests run: 87, Failures: 0, Errors: 0, Skipped: 0</p>\n<p>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 28.917 s\n[INFO] Finished at: 2014-03-06T06:19:39+00:00\n[INFO] Final Memory: 23M/57M\n[INFO] ------------------------------------------------------------------------</p>\n<pre><code>\nRun `exit` <span class="hljs-built_in">to</span> <span class="hljs-built_in">get</span> out <span class="hljs-operator">of</span> <span class="hljs-operator">the</span> vm.\n\n\n<span class="hljs-comment">## Connecting Test Devices to the VM</span>\n\nWith `VBoxManage` <span class="hljs-operator">and</span> devices connected, we can allow (all?) <span class="hljs-operator">of</span> them <span class="hljs-keyword">using</span> <span class="hljs-operator">the</span> following `usbfilter` <span class="hljs-operator">in</span> our `Vagrantfile`\n\n</code></pre>\n<p><code class="ruby" style="overflow-x:auto">config.vm.provider :virtualbox do |vb|\nvb.customize [‘modifyvm’, :id, ‘–usb’, ‘on’]\nvb.customize [‘usbfilter’, ‘add’, ‘0’, ‘–target’, :id, ‘–name’, ‘android’, ‘–vendorid’, ‘0x18d1’]\nend</p>\n<pre><code>\nAlternatively, we can <span class="hljs-type">list</span> all connected usbhosts <span class="hljs-keyword">and</span> select a specific device <span class="hljs-keyword">as</span> such:\n\n`&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"bash"</span>&gt;VBoxManage <span class="hljs-type">list</span> usbhost`\n\nWhich gives us a <span class="hljs-type">list</span> <span class="hljs-keyword">of</span> these:\n\n</code></pre>\n<p><code class="bash">UUID:               6316e123-b702-4155-9703-c2015d014237\nVendorId:           0x18d1 (18D1)\nProductId:          0xd002 (D002)\nRevision:           2.40 (0240)\nPort:               6\nUSB version/speed:  0/2\nManufacturer:       asus\nProduct:            Nexus 7\nSerialNumber:       07d99c71\nAddress:            p=0xd002;v=0x18d1;s=0x000000006321cfbd;l=0x20260000\nCurrent State:      Busy```</p>\n<p>Find your Android device and use these parameters to change our Vagrantfile:</p>\n<p>SerialNumber -&gt; –name<br>\nVendorId -&gt; –vendorid</p>\n<pre><code>&lt;code class=<span class="hljs-string">"ruby"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;config.vm.provider <span class="hljs-symbol">:virtualbox</span> <span class="hljs-keyword">do</span> |vb|\n    vb.customize [<span class="hljs-string">\'modifyvm\'</span>, <span class="hljs-symbol">:id</span>, <span class="hljs-string">\'--usb\'</span>, <span class="hljs-string">\'on\'</span>]\n    vb.customize [<span class="hljs-string">\'usbfilter\'</span>, <span class="hljs-string">\'add\'</span>, <span class="hljs-string">\'0\'</span>, <span class="hljs-string">\'--target\'</span>, <span class="hljs-symbol">:id</span>, <span class="hljs-string">\'--name\'</span>, <span class="hljs-string">\'1197123b\'</span>, <span class="hljs-string">\'--vendorid\'</span>, <span class="hljs-string">\'0x04e8\'</span>]\n  <span class="hljs-keyword">end</span>\n</code></pre>\n<p>Remember to <code>vagrant reload</code> after changing network settings in the <code>Vagrantfile</code>. Some devices may also need to be unplugged and plugged back in for the VM to see them.</p>\n<h2>Deploying</h2>\n<p>Simply run adb inside the vm to see the connected devices:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;vagrant ssh\nsudo adb devices```\n\nIf you see <span class="hljs-operator">an</span> unauthorized message like <span class="hljs-operator">the</span> <span class="hljs-constant">one</span> below, <span class="hljs-keyword">it</span> is likely that you didn’t <span class="hljs-built_in">start</span> <span class="hljs-operator">the</span> adb server <span class="hljs-keyword">as</span> root (which will prevent <span class="hljs-operator">the</span> RSA authorization <span class="hljs-built_in">from</span> popping up).\n\n</code></pre>\n<p>&lt;code bash=&quot;&quot; class=&quot;bash&gt;</p>\n<ul>\n<li>daemon not running. starting it now on port 5037 *</li>\n<li>daemon started successfully *\nList of devices attached\n???    no permissions</pre><p>Otherwise we should see a list of devices as below after authorizing the devices when the RSA dialog pops up on each device.</p><pre>&lt;code class=&quot;&gt;List of devices attached\n07d99c71    device\n2d605528    device```</li>\n</ul>\n<p>We can now install the app on our devices from inside the vm using maven.</p>\n<pre><code>&lt;<span class="hljs-preprocessor">code</span> class=<span class="hljs-string">"bash"</span>&gt;cd /vagrant\n<span class="hljs-keyword">mvn </span>clean install &amp;&amp; <span class="hljs-keyword">mvn </span><span class="hljs-keyword">android:deploy```\n</span>\n\n## Fin\n\n<span class="hljs-label">That</span>’s <span class="hljs-keyword">it. </span>The app should <span class="hljs-keyword">be </span>installed on your connected devices. <span class="hljs-keyword">It </span>won’t start automatically, <span class="hljs-keyword">but </span>you can navigate to the newly installed `Robolectric Sample` app <span class="hljs-keyword">and </span>start <span class="hljs-keyword">it </span>up.\n\n\n</code></pre>\n'}},function(e,n){e.exports={title:"Getting Started With Snap (and User Authentication): Part 1",date:"Tue, 07 Jan 2014 07:53:48 +0000",layout:"post",path:"/2014/1/6/getting-started-with-snap-and-user-authentication-part-1/",body:'<p><a href="http://www.christopherbiscardi.com/2014/01/10/getting-started-with-snap-and-user-authentication-part-2/">Part 2</a></p>\n<p>Before we get started, there is a quickstart on the snap-framework site <a href="http://snapframework.com/docs/quickstart">here</a> that goes into the <code>barebones</code> scaffold project a bit. This course will go a little more in depth into the <code>default</code> project, exploring user authentication.</p>\n<p>I use <a href="https://github.com/Paczesiowa/hsenv">hsenv</a> to create separate Haskell environments, but that is not a requirement and beginners may be more comfortable installing the <a href="http://www.haskell.org/platform/">Haskell Platform</a></p>\n<p>If you wish to use hsenv, you can run this on newer versions:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span>&gt;hsenv --ghc=<span class="hljs-number">7.6</span><span class="hljs-number">.3</span>\n</code></pre>\n<p>or download the package for ghc-7.6.3 <a href="http://www.haskell.org/ghc/download_ghc_7_6_3">here</a> and run this:</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"bash"</span>&gt;hsenv --ghc=/path/to/downloaded/ghc-<span class="hljs-number">7.6</span>.<span class="hljs-number">3</span>-x86_64-apple-darwin<span class="hljs-class">.tar</span><span class="hljs-class">.bz2</span>\n</code></pre>\n<p>From here on out the process is the same if you’re using hsenv or not.<br>\nCreate a new directory named “abc” and enter it. This will also function as the name of our project and executable.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;<span class="hljs-built_in">mkdir</span> <span class="hljs-keyword">abc</span>\n<span class="hljs-keyword">cd</span> <span class="hljs-keyword">abc</span>\n</code></pre>\n<p>It’s good to update the package list when starting a new project:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;cabal update\ncabal <span class="hljs-keyword">install</span> cabal-<span class="hljs-keyword">install</span>\n</code></pre>\n<p>After updating and installing the new version of cabal-instal we can install snap:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span>&gt;cabal install snap\n</code></pre>\n<p>At this point we will have the <code>snap</code> CLI and can run init to scaffold a default project. After scaffolding, we then run <code>cabal install</code> to compile the binary and <code>abc</code> to run the project. <code>abc</code> will also take a port as such: <code>abc -p 8000</code></p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"bash"</span>&gt;snap init\ncabal install\nabc -<span class="hljs-tag">p</span> <span class="hljs-number">8000</span>\n</code></pre>\n<p>Our app, abc, should now be running. Navigate to <code>localhost:8000</code> (or the port you specified) in your browser to take a look.</p>\n<p>In the next post we’ll take a look at the code we generated and take a brief overview of what it does.</p>\n<p><a href="http://www.christopherbiscardi.com/2014/01/10/getting-started-with-snap-and-user-authentication-part-2/">Part 2 – Auth</a></p>\n<p><a href="http://www.christopherbiscardi.com/2014/01/11/getting-started-with-snap-and-user-authentication-part-3/">Part 3 – Postgres Backed Auth</a></p>\n'}},function(e,n){e.exports={title:"Getting Started With Snap (and User Authentication): Part 2",date:"Fri, 10 Jan 2014 02:23:13 +0000",layout:"post",path:"/2014/1/9/getting-started-with-snap-and-user-authentication-part-2/",body:'<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611521/CBLogo_2014_transparent_swcmig.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/h_300,w_300/v1428611521/CBLogo_2014_transparent_swcmig.png" alt="CBLogo_2014_transparent"></a></p>\n<p><a href="https://github.com/ChristopherBiscardi/Getting-Started-with-Snap-and-User-Authentication">Git Repo</a><br>\n<a href="http://www.christopherbiscardi.com/2014/01/07/getting-started-with-snap-and-user-authentication-part-1/">part 1</a></p>\n<p>The file structure now looks like this:</p>\n<pre><code>      -<span class="ruby"> abc.cabal\n</span>      -<span class="ruby"> log/\n</span>         -<span class="ruby"> access.log\n</span>         -<span class="ruby"> error.log\n</span>      -<span class="ruby"> snaplets/\n</span>         -<span class="ruby"> heist/\n</span>            -<span class="ruby"> templates/\n</span>               -<span class="ruby"> _login.tpl\n</span>               -<span class="ruby"> _new_user.tpl\n</span>               -<span class="ruby"> base.tpl\n</span>               -<span class="ruby"> index.tpl\n</span>               -<span class="ruby"> login.tpl\n</span>               -<span class="ruby"> new_user.tpl\n</span>               -<span class="ruby"> userform.tpl\n</span>      -<span class="ruby"> src/\n</span>         -<span class="ruby"> <span class="hljs-constant">Application</span>.hs\n</span>         -<span class="ruby"> <span class="hljs-constant">Main</span>.hs\n</span>         -<span class="ruby"> <span class="hljs-constant">Site</span>.hs\n</span>      -<span class="ruby"> static/\n</span>         -<span class="ruby"> screen.css\n</span></code></pre>\n<p><code>abc.cabal</code> includes our dependencies and build information. This file is read when we run <code>cabal install</code></p>\n<p><code>log</code> includes two files that log out what browsers <code>access</code> the site and what <code>error</code>s occur.</p>\n<p><code>snaplets</code> is where our snaplets store their files. In this case we only have <code>heist</code> there, which contains a <code>templates</code> folder that includes the templates we use to render the site.</p>\n<p><code>static</code> includes a simple stylesheet that is served when we visit the site.</p>\n<p><code>src</code> is the folder we’re currently concerned with. It includes three files:</p>\n<h5>Main.hs</h5>\n<p>This file contains some boilerplate for dynamic recompilation of a snap site. We’ll be leaving this file alone.</p>\n<h5>Application.hs</h5>\n<p>Here we define our App datatype with the snaplets we will be using.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"haskell"</span>&gt;data App = App\n<span class="hljs-label">    { _heist ::</span> Snaplet (Heist App)\n<span class="hljs-label">    , _sess ::</span> Snaplet SessionManager\n<span class="hljs-label">    , _auth ::</span> Snaplet (AuthManager App)\n    }<span class="hljs-escape">``</span><span class="hljs-escape">`\n</span>\nIn this case we are using <span class="hljs-escape">`h</span>eist<span class="hljs-escape">`,</span> <span class="hljs-escape">`s</span>essions<span class="hljs-escape">` </span><span class="hljs-literal">and</span> <span class="hljs-escape">`a</span>uthentication<span class="hljs-escape">`.</span>\n\nThen we make <span class="hljs-literal">a</span> call to <span class="hljs-escape">`m</span>akeLenses<span class="hljs-escape">`\n</span>\n<span class="hljs-escape">`m</span>akeLenses \'\'App<span class="hljs-escape">`\n</span>\n<span class="hljs-escape">`m</span>akeLenses<span class="hljs-escape">` </span>does some things under the hood like creating getters/setters <span class="hljs-literal">and</span> changing the names for the snaplets in our app to remove the underscore. This means that <span class="hljs-escape">`_</span>auth<span class="hljs-escape">` </span>will be referred to as <span class="hljs-escape">`a</span>uth<span class="hljs-escape">` </span>in the rest of our app, including in <span class="hljs-escape">`s</span>rc/Site.hs<span class="hljs-escape">`.</span>\n\nWe then define an instance for the Heist Snaplet so we don’t have to use <span class="hljs-escape">`w</span>ith heist<span class="hljs-escape">` </span>every time we want to render <span class="hljs-literal">a</span> template (More about this later).\n\n</code></pre>\n<p><code class="haskell">instance HasHeist App where\nheistLens = subSnaplet heist```</p>\n<p>and finally we declare a type alias so that we can use <code>AppHandler</code> instead of the longer <code>Handler App App</code> in the type signatures for our routes.</p>\n<p><code>type AppHandler = Handler App App</code></p>\n<h5>Site.hs</h5>\n<p>This is where the meat of our site lives. The routing code, handlers and initialization for the entire app.</p>\n<p>The first route is <code>&quot;/login&quot;</code> which uses <code>handleLoginSubmit</code>.</p>\n<p><code>(&quot;/login&quot;, with auth handleLoginSubmit)</code></p>\n<p><code>with auth</code> lets us work in the auth Snaplet for <code>handleLoginSubmit</code>.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"haskell"</span>&gt;handleLoginSubmit :: Handler App (AuthManager App) ()\nhandleLoginSubmit =\n    loginUser <span class="hljs-string">"login"</span> <span class="hljs-string">"password"</span> Nothing\n              (_ -&gt; handleLogin err) (redirect <span class="hljs-string">"/"</span>)\n  where\n    err = Just <span class="hljs-string">"Unknown user or password"</span><span class="hljs-escape">``</span><span class="hljs-escape">`\n</span>\nSince we’re working in the auth Snaplet our type signature for the handler has the type <span class="hljs-escape">`H</span>andler App (AuthManager App) ()<span class="hljs-escape">`,</span> which is slightly different from the type we aliased in <span class="hljs-escape">`A</span>pplication.hs<span class="hljs-escape">`.</span>\n\n<span class="hljs-escape">`l</span>oginUser<span class="hljs-escape">` </span>is <span class="hljs-literal">a</span> function from the auth snaplet. It takes the <span class="hljs-escape">`u</span>sername<span class="hljs-escape">` </span>field <span class="hljs-literal">and</span> the <span class="hljs-escape">`p</span>assword<span class="hljs-escape">` </span>field from <span class="hljs-literal">a</span> form submission, <span class="hljs-literal">a</span> “remember” field, <span class="hljs-literal">a</span> failure function <span class="hljs-literal">and</span> <span class="hljs-literal">a</span> success function, in that order. The type signature looks like this:\n\n</code></pre>\n<p><code class="haskell">loginUser\n:: ByteString – name of username field\n-&gt; ByteString – name of password field\n-&gt; Maybe ByteString – name of remember field (<code>Nothing</code> means there isn’t one)\n-&gt; (AuthFailure -&gt; Handler b (AuthManager b) ()) – failure function\n-&gt; Handler b (AuthManager b) () – success function\n-&gt; Handler b (AuthManager b) () – return value is a handler</p>\n<pre><code>\nSo going back to `handleLoginSubmit` we <span class="hljs-operator"><span class="hljs-keyword">use</span>:  \n<span class="hljs-string">`"login"`</span> <span class="hljs-keyword">as</span> the username <span class="hljs-keyword">field</span>  \n<span class="hljs-string">`"password"`</span> <span class="hljs-keyword">as</span> the <span class="hljs-keyword">password</span> <span class="hljs-keyword">field</span>  \n<span class="hljs-string">`Nothing`</span> <span class="hljs-keyword">as</span> the remember <span class="hljs-keyword">field</span>  \n<span class="hljs-string">`_ -&gt; handleLogin err`</span> <span class="hljs-keyword">as</span> our <span class="hljs-keyword">error</span> <span class="hljs-keyword">function</span>  \n <span class="hljs-keyword">and</span> <span class="hljs-string">`redirect "/"`</span> <span class="hljs-keyword">as</span> our <span class="hljs-keyword">success</span> <span class="hljs-keyword">function</span>.\n\n<span class="hljs-string">`err`</span> <span class="hljs-keyword">is</span> defined <span class="hljs-keyword">as</span> <span class="hljs-string">`Just "Unknown user or password"`</span> which matches up <span class="hljs-keyword">with</span> the <span class="hljs-keyword">type</span> <span class="hljs-keyword">from</span> <span class="hljs-string">`handleLogin`</span>.\n\nThe <span class="hljs-string">`handleLogin`</span> code will be covered <span class="hljs-keyword">in</span> a Heist tutorial <span class="hljs-keyword">at</span> another <span class="hljs-keyword">time</span>, but suffice it <span class="hljs-keyword">to</span> say that <span class="hljs-string">`handleLogin`</span> <span class="hljs-keyword">is</span> rendering the login <span class="hljs-keyword">form</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">error</span> that we’ve supplied it (which <span class="hljs-keyword">is</span> “<span class="hljs-keyword">Unknown</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">password</span>”).\n\nOur <span class="hljs-string">`"/logout"`</span> route <span class="hljs-keyword">is</span> pretty simple. Just <span class="hljs-keyword">call</span> the snaplet-auth supplied <span class="hljs-keyword">function</span> <span class="hljs-string">`logout`</span> <span class="hljs-keyword">and</span> redirect <span class="hljs-keyword">to</span> <span class="hljs-string">`"/"`</span>\n\n<span class="hljs-string">`"/new_user"`</span> does a similar thing, <span class="hljs-keyword">except</span> it displays the <span class="hljs-keyword">empty</span> <span class="hljs-keyword">form</span> <span class="hljs-keyword">on</span> <span class="hljs-string">`GET`</span> request <span class="hljs-keyword">and</span> handles a <span class="hljs-keyword">form</span> submit <span class="hljs-keyword">on</span> <span class="hljs-string">`POST`</span>.\n\n<span class="hljs-keyword">Next</span> we’ll <span class="hljs-keyword">replace</span> the backend, currently a <span class="hljs-keyword">json</span> <span class="hljs-keyword">file</span>, <span class="hljs-keyword">with</span> postgres.\n\n\n</span></code></pre>\n'
}},function(e,n){e.exports={title:"Getting Started With Snap (and User Authentication): Part 3",date:"Sat, 11 Jan 2014 18:11:28 +0000",layout:"post",path:"/2014/1/11/getting-started-with-snap-and-user-authentication-part-3/",body:'<p>In this post we will be replacing the JSON file (for user authentication) with a Postgres database.</p>\n<p><a href="https://github.com/ChristopherBiscardi/Getting-Started-with-Snap-and-User-Authentication/commit/72a77abac5d46554e659ddeef0a1abf7074a5c6f">Git Diff and Repo</a><br>\n<a href="http://www.christopherbiscardi.com/2014/01/07/getting-started-with-snap-and-user-authentication-part-1/">part 1</a><br>\n<a href="http://www.christopherbiscardi.com/2014/01/10/getting-started-with-snap-and-user-authentication-part-2/">part 2</a></p>\n<p>In <code>abc.cabal</code> add <code>snaplet-postgresql-simple</code> to <code>Build-depends</code>:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"haskell"</span>&gt;Build-depends:\n    bytestring                &gt;= <span class="hljs-number">0.9</span><span class="hljs-number">.1</span>   &amp;&amp; = <span class="hljs-number">0.12</span>    &amp;&amp; = <span class="hljs-number">0.2</span><span class="hljs-number">.1</span>   &amp;&amp; = <span class="hljs-number">2</span>       &amp;&amp; = <span class="hljs-number">0.11</span>    &amp;&amp; = <span class="hljs-number">0.9</span>     &amp;&amp; = <span class="hljs-number">0.9</span>     &amp;&amp; = <span class="hljs-number">0.9</span>     &amp;&amp; = <span class="hljs-number">0.11</span>    &amp;&amp; = <span class="hljs-number">1.1</span>     &amp;&amp; = <span class="hljs-number">0.1</span>,\n    snaplet-postgresql-simple == <span class="hljs-number">0.4</span><span class="hljs-number">.1</span>```\n\nThen, In `src/Site.hs` we’re going to add the following imports:\n\n</code></pre>\n<p><code class="haskell">import Snap.Snaplet.PostgresqlSimple\nimport Snap.Snaplet.Auth.Backends.PostgresqlSimple```</p>\n<p>add this line to initialize the database in our Application Initialization code below session and about auth:</p>\n<p><code>d</code></p>\n<p>and replace this line:</p>\n<p><code>initJsonFileAuthManager defAuthSettings sess &quot;users.json&quot;</code></p>\n<p>with this line, which does the dirty work of using Postgres instead of a JSON file.</p>\n<p><code>initPostgresAuth sess d</code></p>\n<p>We’ll also add the initialized database snaplet to our returned App:</p>\n<p><code>return $ App h s d a</code></p>\n<p>We’re almost done, but first we’ll need to add <code>_db</code> to our App definition in <code>src/Application.hs</code>:</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"haskell"</span>&gt;data App = App\n    { _heist :: Snaplet (Heist App)\n    , _sess :: Snaplet SessionManager\n    , _db :: Snaplet Postgres\n    , _auth :: Snaplet (AuthManager App)\n    }```\n\n<span class="hljs-keyword">and</span> don\'t forget <span class="hljs-keyword">the</span> import <span class="hljs-keyword">for</span> postgres <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> same <span class="hljs-type">file</span>.\n\n`import Snap.Snaplet.PostgresqlSimple`\n\nWe are now using Postgres <span class="hljs-keyword">as</span> a database <span class="hljs-keyword">for</span> our authentication! `cabal install` <span class="hljs-keyword">and</span> <span class="hljs-command">run</span> `abc` <span class="hljs-keyword">to</span> make sure <span class="hljs-keyword">it</span> works. You may need <span class="hljs-keyword">to</span> <span class="hljs-command">run</span> <span class="hljs-keyword">the</span> following <span class="hljs-keyword">in</span> `psql`:\n\n</code></pre>\n<p><code class="psql">CREATE ROLE postgres LOGIN;\nCREATE DATABASE testdb;```</p>\n<p>also of note is that the git repo has bumped the version of abc to <code>0.2</code></p>\n<p><a href="http://www.christopherbiscardi.com/2014/01/07/getting-started-with-snap-and-user-authentication-part-1/">Part 1 - Beginnings</a><br>\n<a href="http://www.christopherbiscardi.com/2014/01/10/getting-started-with-snap-and-user-authentication-part-2/">Part 2 - Auth</a></p>\n<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611521/CBLogo_2014_transparent_swcmig.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/h_300,w_300/v1428611521/CBLogo_2014_transparent_swcmig.png" alt="CBLogo_2014_transparent"></a></p>\n'}},function(e,n){e.exports={title:'GHC -ddump-minimal-imports and CPP error: missing binary operator before token "("',date:"Wed, 05 Mar 2014 14:50:59 +0000",layout:"post",path:"/2014/3/5/ghc-ddump-minimal-imports-and-cpp-error-missing-binary-operator-before-token/",body:'<p>Today I was trying to extract the minimal imports for a module using <code>ghc -ddump-minimal-imports</code> but I was getting this error on some files:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;error: missing binary operator <span class="hljs-keyword">before</span> <span class="hljs-keyword">token</span> <span class="hljs-string">"("</span>\n<span class="hljs-comment">#if MIN_VERSION_base(4,4,0)</span>\n^```\n\nWhich is related <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> fact that `cabal` expands `MIN_VERSION_base` macros when running `cabal build`, so we don’t have them when running `ghc` <span class="hljs-operator">or</span> `ghci`. Luckily <span class="hljs-keyword">it</span>’s <span class="hljs-operator">an</span> easy fix.\n\nCabal generates <span class="hljs-operator">a</span> macros <span class="hljs-built_in">file</span> <span class="hljs-built_in">relative</span> <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> root <span class="hljs-operator">of</span> <span class="hljs-operator">the</span> project <span class="hljs-keyword">at</span> `dist/build/autogen/cabal_macros.h`. We can <span class="hljs-built_in">include</span> this <span class="hljs-built_in">file</span> <span class="hljs-built_in">to</span> gain access <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> macros:\n\n`&lt;code class=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;ghc -ddump-minimal-imports -optP-<span class="hljs-built_in">include</span> -optPdist/build/autogen/cabal_macros.h src/Types.hs`\n\nWhich will now spit out our imports <span class="hljs-keyword">into</span> <span class="hljs-operator">a</span> <span class="hljs-built_in">file</span> called `Types.imports` <span class="hljs-operator">and</span> may look something like this:\n\n</code></pre>\n<p><code class="haskell">import Blaze.ByteString.Builder\n( Builder, fromLazyByteString, fromByteString )\nimport Blaze.ByteString.Builder.Char.Utf8\n( fromText, fromLazyText )\nimport Control.Applicative\n( Applicative((), pure), Alternative((), empty), () )\nimport Control.Exception.Lifted\n( ErrorCall(…),\nException,\nHandler(…),\nSomeException(…),\ncatch,\ncatches,\nmask,\nonException,\nthrowIO )```</p>\n'}},function(e,n){e.exports={title:"Handling Taps on List/Grid Items with ViewPagers (GestureDetector)",date:"Wed, 09 Apr 2014 11:05:27 +0000",layout:"post",path:"/2014/4/9/handling-taps-on-listgrid-items-with-viewpagers-gesture/",body:'<p>When placing a ViewPager inside of a GridView recently I ran into the issue of the ViewPager stealing the GridView Items’ click event. I had lost my click event, but the ViewPager was still scrolling fine.</p>\n<p>With the following GridView:</p>\n<pre><code><span class="hljs-tag">&lt;<span class="hljs-title">code</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"xml"</span>&gt;</span><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-title">FrameLayout</span> \n    <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>\n    <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>\n    <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-title">GridView</span>\n        <span class="hljs-attribute">android:id</span>=<span class="hljs-value">"@+id/bar_gridview"</span>\n        <span class="hljs-attribute">android:layout_width</span>=<span class="hljs-value">"match_parent"</span>\n        <span class="hljs-attribute">android:layout_height</span>=<span class="hljs-value">"match_parent"</span>\n        <span class="hljs-attribute">android:verticalSpacing</span>=<span class="hljs-value">"0dp"</span>\n        <span class="hljs-attribute">android:horizontalSpacing</span>=<span class="hljs-value">"0dp"</span>\n        <span class="hljs-attribute">android:stretchMode</span>=<span class="hljs-value">"columnWidth"</span>\n        <span class="hljs-attribute">android:numColumns</span>=<span class="hljs-value">"1"</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-title">FrameLayout</span>&gt;</span>```\n\nand a grid item view with a ViewPager (reduced for simplicity):\n\n</code></pre>\n<p><code class="xml">&lt;com.christopherbiscardi.grid.MyGridItemFrame xmlns:android=&quot;<a href="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</a>&quot;\nandroid:id=&quot;@+id/grid_item_frame&quot;\nandroid:layout_width=“match_parent”\nandroid:layout_height=“match_parent” &gt;</p>\n<pre><code>&lt;com.christopherbiscardi.grid.MyViewPager\n    android:id=&quot;@+id/my_pager&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n<p>&lt;/com.christopherbiscardi.grid.MyGridItemFrame&gt;```</p>\n<p>We can intercept the touch event on MyGridItemFrame, which sits between the GridView and the ViewPager by extending <code>GestureDetector.SimpleOnGestureListener</code> and overriding <code>onInterceptTouchEvent</code>. In this case all we care about is handling the tap (<code>onSingleTapUp</code>) and we will let the scroll pass through to the ViewPager.</p>\n<pre><code>&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span>=</span><span class="hljs-string">"java"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;<span class="hljs-keyword">package</span> com.christopherbiscardi.grid;\n\npublic <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyGridItemFrame</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">FrameLayout</span> {</span>\n\n    <span class="hljs-keyword">final</span> <span class="hljs-type">GestureDetector</span> mGestureDetector = <span class="hljs-keyword">new</span> <span class="hljs-type">GestureDetector</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">MyGestureListener</span>());\n\n    <span class="hljs-annotation">@Override</span>\n    public boolean onInterceptTouchEvent(<span class="hljs-type">MotionEvent</span> event) {\n        <span class="hljs-keyword">return</span> mGestureDetector.onTouchEvent(event);\n    }\n\n\n    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyGestureListener</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">GestureDetector</span>.<span class="hljs-title">SimpleOnGestureListener</span> {</span>\n\n        <span class="hljs-annotation">@Override</span>\n        public boolean onSingleTapUp(<span class="hljs-type">MotionEvent</span> event) {\n            <span class="hljs-type">Toast</span>.makeText(getContext(), <span class="hljs-string">"clicked Grid Item"</span>, <span class="hljs-type">Toast</span>.<span class="hljs-type">LENGTH_SHORT</span>).show();\n            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;\n        }\n    }\n}\n</code></pre>\n'}},function(e,n){e.exports={title:"In Search of a Riak Solr Client for Haskell",date:"Sat, 01 Feb 2014 09:51:09 +0000",layout:"post",path:"/2014/2/1/in-search-of-a-riak-solr-client-for-haskell/",body:'<p>In this post are the beginnings of riak-solr-client.</p>\n<p>First, we need to take a look at the response from Solr/Yokozuna/Riak-Search-2 for a single query. In this case, the database only holds two records and we are doing a query that matches all results (<code>*:*</code>).</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"JavaScript"</span>&gt;{\n   <span class="hljs-string">"responseHeader"</span>:{\n      <span class="hljs-string">"status"</span>:<span class="hljs-number">0</span>,\n      <span class="hljs-string">"QTime"</span>:<span class="hljs-number">11</span>,\n      <span class="hljs-string">"params"</span>:{\n         <span class="hljs-string">"shards"</span>:<span class="hljs-string">"127.0.0.1:8093/solr/my_index"</span>,\n         <span class="hljs-string">"q"</span>:<span class="hljs-string">"*:*"</span>,\n         <span class="hljs-string">"127.0.0.1:8093"</span>:<span class="hljs-string">"_yz_pn:64 OR (_yz_pn:61 AND (_yz_fpn:61)) OR _yz_pn:60 OR _yz_pn:57 OR _yz_pn:54 OR _yz_pn:51 OR _yz_pn:48 OR _yz_pn:45 OR _yz_pn:42 OR _yz_pn:39 OR _yz_pn:36 OR _yz_pn:33 OR _yz_pn:30 OR _yz_pn:27 OR _yz_pn:24 OR _yz_pn:21 OR _yz_pn:18 OR _yz_pn:15 OR _yz_pn:12 OR _yz_pn:9 OR _yz_pn:6 OR _yz_pn:3"</span>,\n         <span class="hljs-string">"wt"</span>:<span class="hljs-string">"json"</span>\n      }\n   },\n   <span class="hljs-string">"response"</span>:{\n      <span class="hljs-string">"numFound"</span>:<span class="hljs-number">2</span>,\n      <span class="hljs-string">"start"</span>:<span class="hljs-number">0</span>,\n      <span class="hljs-string">"maxScore"</span>:<span class="hljs-number">1.0</span>,\n      <span class="hljs-string">"docs"</span>:[\n         {\n            <span class="hljs-string">"_yz_id"</span>:<span class="hljs-string">"data_my_bucket_name_12"</span>,\n            <span class="hljs-string">"_yz_rk"</span>:<span class="hljs-string">"name"</span>,\n            <span class="hljs-string">"_yz_rt"</span>:<span class="hljs-string">"data"</span>,\n            <span class="hljs-string">"_yz_rb"</span>:<span class="hljs-string">"my_bucket"</span>\n         },\n         {\n            <span class="hljs-string">"_yz_id"</span>:<span class="hljs-string">"data_my_bucket_second_15"</span>,\n            <span class="hljs-string">"_yz_rk"</span>:<span class="hljs-string">"second"</span>,\n            <span class="hljs-string">"_yz_rt"</span>:<span class="hljs-string">"data"</span>,\n            <span class="hljs-string">"_yz_rb"</span>:<span class="hljs-string">"my_bucket"</span>\n         }\n      ]\n   }\n}```\n\nAs you can see, I’ve decided <span class="hljs-keyword">to</span> retrieve JSON because <span class="hljs-keyword">of</span> <span class="hljs-keyword">my</span> familiarity <span class="hljs-keyword">with</span> Data.Aeson. There <span class="hljs-keyword">is</span> no <span class="hljs-keyword">set</span> schema <span class="hljs-keyword">for</span> Solr responses, so we’re going <span class="hljs-keyword">to</span> have <span class="hljs-keyword">to</span> test this fairly well <span class="hljs-keyword">to</span> make a generic library <span class="hljs-keyword">that</span> will be updated <span class="hljs-keyword">over</span> <span class="hljs-property">time</span> <span class="hljs-keyword">as</span> Solr updates.\n\nWith <span class="hljs-keyword">the</span> sample response <span class="hljs-keyword">in</span> mind, we can start <span class="hljs-keyword">to</span> create <span class="hljs-keyword">the</span> datatypes:\n\n</code></pre>\n<p><code class="haskell">newtype Params = Params (Map String String) deriving (Show)</p>\n<p>data ResponseHeader = ResponseHeader {\nstatus :: Int,\nqTime  :: Int,\nparams :: Params\n} deriving (Show)</p>\n<p>data Docs = Docs {\n_yz_id :: String,\n_yz_rk :: String,\n_yz_rt :: String,\n_yz_rb :: String\n} deriving (Show)</p>\n<p>data Results = Results {\nnumFound :: Int,\nstart :: Int,\nmaxScore :: Float,\ndocs :: [Docs]\n} deriving (Show)</p>\n<p>data SolrResponse = SolrResponse {\nresponseHeader :: ResponseHeader,\nresponse :: Results\n} deriving (Show)```</p>\n<p>The most interesting part of this is <code>Params</code>. We’ve defined <code>Params</code> as a <code>newtype</code> for a <code>Data.Map</code> because, making an educated guess, the keys for params won’t always be the same. We can reach this conclusion by seeing that one of the keys is an IP address (with a port number).</p>\n<p>Another interesting piece of the response is the <code>Docs</code>. Solr seems to return the id in Solr (<code>_yz</code> is presumably for _yokozuna), the Riak Key (<code>_yz_rk</code>), the Riak Bucket Type <code>_yz_rt</code> and the Riak Bucket (<code>_yz_rb</code>). This is useful information because we will need to use riak-haskell-client (or more likely an updated fork for Riak 2.0) to retrieve the actual data.</p>\n<p>We can now write some JSON instances and basic http code to test. Here is the full file:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;<span class="hljs-pragma">{-# LANGUAGE OverloadedStrings #-}</span>\n<span class="hljs-import"><span class="hljs-keyword">import</span> Data.Aeson</span>\n<span class="hljs-import"><span class="hljs-keyword">import</span> Data.Map</span>\n<span class="hljs-import"><span class="hljs-keyword">import</span> Control.Applicative</span>\n<span class="hljs-import"><span class="hljs-keyword">import</span> Control.Monad <span class="hljs-container">(<span class="hljs-title">mzero</span>)</span></span>\n\n<span class="hljs-import"><span class="hljs-keyword">import</span> Network.HTTP.Conduit <span class="hljs-comment">-- the main module</span></span>\n\n<span class="hljs-comment">-- The streaming interface uses conduits</span>\n<span class="hljs-import"><span class="hljs-keyword">import</span> Data.Conduit</span>\n<span class="hljs-import"><span class="hljs-keyword">import</span> Data.Conduit.Binary <span class="hljs-container">(<span class="hljs-title">sinkFile</span>)</span></span>\n\n<span class="hljs-import"><span class="hljs-keyword">import</span> <span class="hljs-keyword">qualified</span> Data.ByteString.Lazy.Char8 <span class="hljs-keyword">as</span> L</span>\n<span class="hljs-import"><span class="hljs-keyword">import</span> Control.Monad.IO.Class <span class="hljs-container">(<span class="hljs-title">liftIO</span>)</span></span>\n\n<span class="hljs-typedef"><span class="hljs-keyword">newtype</span> <span class="hljs-type">Params</span> = <span class="hljs-type">Params</span> <span class="hljs-container">(<span class="hljs-type">Map</span> <span class="hljs-type">String</span> <span class="hljs-type">String</span>)</span> <span class="hljs-keyword">deriving</span> <span class="hljs-container">(<span class="hljs-type">Show</span>)</span></span>\n<span class="hljs-class"><span class="hljs-keyword">instance</span> <span class="hljs-type">FromJSON</span> <span class="hljs-type">Params</span> <span class="hljs-keyword">where</span></span>\n  parseJSON val = <span class="hljs-type">Params</span>  parseJSON val\n\n<span class="hljs-typedef"><span class="hljs-keyword">data</span> <span class="hljs-type">ResponseHeader</span> = <span class="hljs-type">ResponseHeader</span> <span class="hljs-container">{\n  <span class="hljs-title">status</span> :: <span class="hljs-type">Int</span>,\n  <span class="hljs-title">qTime</span>  :: <span class="hljs-type">Int</span>,\n  <span class="hljs-title">params</span> :: <span class="hljs-type">Params</span>\n}</span> <span class="hljs-keyword">deriving</span> <span class="hljs-container">(<span class="hljs-type">Show</span>)</span></span>\n<span class="hljs-class"><span class="hljs-keyword">instance</span> <span class="hljs-type">FromJSON</span> <span class="hljs-type">ResponseHeader</span> <span class="hljs-keyword">where</span></span>\n  parseJSON (<span class="hljs-type">Object</span> o) = <span class="hljs-type">ResponseHeader</span>  o .: <span class="hljs-string">"status"</span>\n                                         o .: <span class="hljs-string">"QTime"</span>\n                                         o .: <span class="hljs-string">"params"</span>\n  parseJSON _ = mzero\n\n<span class="hljs-typedef"><span class="hljs-keyword">data</span> <span class="hljs-type">Docs</span> = <span class="hljs-type">Docs</span> <span class="hljs-container">{\n  <span class="hljs-title">_yz_id</span> :: <span class="hljs-type">String</span>,\n  <span class="hljs-title">_yz_rk</span> :: <span class="hljs-type">String</span>,\n  <span class="hljs-title">_yz_rt</span> :: <span class="hljs-type">String</span>,\n  <span class="hljs-title">_yz_rb</span> :: <span class="hljs-type">String</span>\n}</span> <span class="hljs-keyword">deriving</span> <span class="hljs-container">(<span class="hljs-type">Show</span>)</span></span>\n<span class="hljs-class"><span class="hljs-keyword">instance</span> <span class="hljs-type">FromJSON</span> <span class="hljs-type">Docs</span> <span class="hljs-keyword">where</span></span>\n  parseJSON (<span class="hljs-type">Object</span> o) = <span class="hljs-type">Docs</span>  o .: <span class="hljs-string">"_yz_id"</span>\n                               o .: <span class="hljs-string">"_yz_rk"</span>\n                               o .: <span class="hljs-string">"_yz_rt"</span>\n                               o .: <span class="hljs-string">"_yz_rb"</span>\n  parseJSON _ = mzero   \n\n<span class="hljs-typedef"><span class="hljs-keyword">data</span> <span class="hljs-type">Results</span> = <span class="hljs-type">Results</span> <span class="hljs-container">{\n  <span class="hljs-title">numFound</span> :: <span class="hljs-type">Int</span>,\n  <span class="hljs-title">start</span> :: <span class="hljs-type">Int</span>,\n  <span class="hljs-title">maxScore</span> :: <span class="hljs-type">Float</span>,\n  <span class="hljs-title">docs</span> :: [<span class="hljs-type">Docs</span>]\n}</span> <span class="hljs-keyword">deriving</span> <span class="hljs-container">(<span class="hljs-type">Show</span>)</span></span>\n<span class="hljs-class"><span class="hljs-keyword">instance</span> <span class="hljs-type">FromJSON</span> <span class="hljs-type">Results</span> <span class="hljs-keyword">where</span></span>\n  parseJSON (<span class="hljs-type">Object</span> o) = <span class="hljs-type">Results</span>  o .: <span class="hljs-string">"numFound"</span>\n                                  o .: <span class="hljs-string">"start"</span>\n                                  o .: <span class="hljs-string">"maxScore"</span>\n                                  o .: <span class="hljs-string">"docs"</span>\n  parseJSON _ = mzero\n\n<span class="hljs-typedef"><span class="hljs-keyword">data</span> <span class="hljs-type">SolrResponse</span> = <span class="hljs-type">SolrResponse</span> <span class="hljs-container">{\n  <span class="hljs-title">responseHeader</span> :: <span class="hljs-type">ResponseHeader</span>,\n  <span class="hljs-title">response</span> :: <span class="hljs-type">Results</span>\n}</span> <span class="hljs-keyword">deriving</span> <span class="hljs-container">(<span class="hljs-type">Show</span>)</span></span>\n<span class="hljs-class"><span class="hljs-keyword">instance</span> <span class="hljs-type">FromJSON</span> <span class="hljs-type">SolrResponse</span> <span class="hljs-keyword">where</span></span>\n  parseJSON (<span class="hljs-type">Object</span> o) = <span class="hljs-type">SolrResponse</span>  o .: <span class="hljs-string">"responseHeader"</span>\n                                       o .: <span class="hljs-string">"response"</span>\n  parseJSON _ = mzero\n\n<span class="hljs-title">main</span> :: <span class="hljs-type">IO</span> ()\n<span class="hljs-title">main</span> = <span class="hljs-keyword">do</span>\n</code></pre>\n<p>and running <code>main</code> in ghci gives us:</p>\n<p><code>&lt;code class=&quot;haskell&quot;&gt;Just (SolrResponse {responseHeader = ResponseHeader {status = 0, qTime = 8, params = Params (fromList [(&quot;127.0.0.1:8093&quot;,&quot;_yz_pn:63 OR (_yz_pn:60 AND (_yz_fpn:60)) OR _yz_pn:59 OR _yz_pn:56 OR _yz_pn:53 OR _yz_pn:50 OR _yz_pn:47 OR _yz_pn:44 OR _yz_pn:41 OR _yz_pn:38 OR _yz_pn:35 OR _yz_pn:32 OR _yz_pn:29 OR _yz_pn:26 OR _yz_pn:23 OR _yz_pn:20 OR _yz_pn:17 OR _yz_pn:14 OR _yz_pn:11 OR _yz_pn:8 OR _yz_pn:5 OR _yz_pn:2&quot;),(&quot;q&quot;,&quot;*:*&quot;),(&quot;shards&quot;,&quot;127.0.0.1:8093/solr/my_index&quot;),(&quot;wt&quot;,&quot;json&quot;)])}, response = Results {numFound = 2, start = 0, maxScore = 1.0, docs = [Docs {_yz_id = &quot;data_my_bucket_name_11&quot;, _yz_rk = &quot;name&quot;, _yz_rt = &quot;data&quot;, _yz_rb = &quot;my_bucket&quot;},Docs {_yz_id = &quot;data_my_bucket_second_14&quot;, _yz_rk = &quot;second&quot;, _yz_rt = &quot;data&quot;, _yz_rb = &quot;my_bucket&quot;}]}})</code></p>\n<p>Success!</p>\n<p>This is just a small start. Hopefully I’ll be able to build this out a bit more (two changes of note will be usage of <code>http-streams</code> and <code>Lens</code>) and write a snaplet that integrates well with <a href="https://github.com/ChristopherBiscardi/snaplet-riak-2">this Riak Snaplet</a> in a more generic fashion.</p>\n'}},function(e,n){e.exports={title:"Installing Montage: A Riak sibling resolution library written in Haskell, on OSX",date:"Fri, 26 Jul 2013 04:42:26 +0000",layout:"post",path:"/2013/7/25/installing-montage-a-riak-sibling-resolution-library-written-in-haskell-on-osx/",body:'<p>Here is a description of how I installed Montage (<a href="https://github.com/bumptech/montage">https://github.com/bumptech/montage</a>) with GHC 7.6.1</p>\n<p>First clone these repos (the relevant commit I used is listed below each clone command)</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;\nmkdir montage_deps\n<span class="hljs-built_in">cd</span> montage_deps\n\ngit <span class="hljs-built_in">clone</span> git <span class="hljs-built_in">clone</span> git@github.com:wmoss/StatsWeb.git\n<span class="hljs-built_in">cd</span> StatsWeb\ngit checkout d65376e37b315897226e37946faa35e1b1a328f5\ncabal install\n<span class="hljs-built_in">cd</span> ..\n\ngit <span class="hljs-built_in">clone</span> https://github.com/bumptech/riak-haskell-client.git\n<span class="hljs-built_in">cd</span> riak-haskell-client\ngit checkout <span class="hljs-number">1</span>a773db41681c895021206a742f889a20daf5875\n<span class="hljs-built_in">cd</span> protobuf &amp;&amp; cabal install\n<span class="hljs-built_in">cd</span> .. &amp;&amp; cabal install\n<span class="hljs-built_in">cd</span> ..\n\ngit <span class="hljs-built_in">clone</span> https://github.com/bumptech/pool.git\n<span class="hljs-built_in">cd</span> pool\ngit checkout b72a259dc375cce4a8208eedc58d8252b3c44201\n<span class="hljs-built_in">cd</span> ..\n</code></pre>\n<p>Next I installed some C dependencies using homebrew (<a href="http://brew.sh/">http://brew.sh/</a>):</p>\n<pre><code>&lt;<span class="hljs-preprocessor">code</span> class=<span class="hljs-string">"bash"</span>&gt;\n<span class="hljs-keyword">brew </span>install libev redo libsodium\n</code></pre>\n<p>Grab the nitro C code from <a href="http://gonitro.io/">http://gonitro.io/</a><br>\nI used v0.2.0</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;\n<span class="hljs-keyword">cd</span> folder_with_nitro_code\n<span class="hljs-keyword">redo</span>\nsudo <span class="hljs-keyword">redo</span> install\n</code></pre>\n<p>We are now ready to install Montage</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span>&gt;\n<span class="hljs-keyword">cd</span> montage_deps\ngit clone https:<span class="hljs-comment">//github.com/bumptech/montage.git</span>\n<span class="hljs-keyword">cd</span> montage\ngit checkout 8ac5d81328b29ddf547673f158a1185b40ceec85\ncabal install\n</code></pre>\n'}},function(e,n){e.exports={title:"Installing Yokozuna on OSX Lion with Homebrew",date:"Tue, 26 Feb 2013 21:54:52 +0000",layout:"post",path:"/2013/2/26/installing-yokozuna-on-osx-lion-with-homebrew/",body:'<pre><code>&lt;<span class="hljs-preprocessor">code</span> class=<span class="hljs-string">"bash"</span>&gt;\n<span class="hljs-keyword">brew </span>update\n<span class="hljs-keyword">brew </span>install ivy\n<span class="hljs-label">git</span> clone -<span class="hljs-keyword">b </span>rz-yokozuna-<span class="hljs-number">2</span> git://github.com/<span class="hljs-keyword">basho/riak.git\n</span><span class="hljs-label">cd</span> riak\n<span class="hljs-label">make</span> yz-setup\n</code></pre>\n<p>It’s important to have Ivy installed before <code>make yz-setup</code> or the priv/solr.jar won’t be built. The build script only checks for the containing folder, not the built .jar so you’ll have to either re-clone the git repo or remove the entire solr folder after installing Ivy.</p>\n<p>Full instructions here: <a href="https://github.com/rzezeski/yokozuna">https://github.com/rzezeski/yokozuna</a></p>\n'}},function(e,n){e.exports={title:'It Is No Longer Enough to "know" HTML',date:"Sun, 28 Sep 2014 13:57:27 +0000",layout:"post",path:"/2014/9/28/it-is-no-longer-enough-to-know-html/",body:'<blockquote>\n<p>“Life moves pretty fast. If you don’t stop and look around for a while, you could miss it.” – Ferris Bueller’s Day Off</p>\n</blockquote>\n<h3>The State of Front End Development</h3>\n<p>Front End tools are moving fast these days. Let’s take a minute to (briefly) look at where we’re going.</p>\n<h3>Module Systems</h3>\n<h3>The Old Way</h3>\n<p>From a user-facing view, the old way is to wrap code in closures.</p>\n<pre><code>(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{\n   <span class="hljs-keyword">this</span>.myGlobal = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{};\n}());\n</code></pre>\n<h4>AMD</h4>\n<p><a href="http://requirejs.org/docs/whyamd.html">Why AMD?</a> is covered in other areas but suffice it to say it looks like the below and is being superseded by the ubiquity and conciseness of CommonJS.</p>\n<pre><code>define([<span class="hljs-string">\'jquery\'</span>] , <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($)</span> </span>{\n    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{};\n});\n</code></pre>\n<h4>CommonJS</h4>\n<p>CommonJS is used in node.js which likely contributed to its rise. It is also fairly simple to read and understand. There isn’t as much boilerplate as AMD (where the define/arguments are position-sensitive and can get fairly long).</p>\n<pre><code><span class="hljs-comment">// hello.js</span>\nexports.hello = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{\n  <span class="hljs-keyword">return</span> <span class="hljs-string">\'Hello World\'</span>\n};\n</code></pre>\n<pre><code><span class="hljs-comment">// main.js</span>\n<span class="hljs-keyword">var</span> example = <span class="hljs-built_in">require</span>(<span class="hljs-string">\'./hello.js\'</span>);\nexample.hello();\n</code></pre>\n<h4>ES6</h4>\n<p>ES6 modules are usable via transpilers, in some cases <a href="https://www.npmjs.org/package/es6-modules-commonjs">compiling to CommonJS</a></p>\n<pre><code><span class="hljs-built_in">module</span> React from <span class="hljs-string">"react"</span>;\n<span class="hljs-keyword">import</span> {format} <span class="hljs-keyword">from</span> <span class="hljs-string">"util"</span>;\n<span class="hljs-keyword">export</span> {React, format <span class="hljs-keyword">as</span> fmt};\n</code></pre>\n<h4>PureScript</h4>\n<p>PureScript <a href="http://docs.purescript.org/en/latest/modules.html">modules</a> can compile to CommonJS modules.</p>\n<pre><code><span class="hljs-module"><span class="hljs-keyword">module</span> A <span class="hljs-keyword">where</span></span>\n\n<span class="hljs-title">id</span> x = x\n</code></pre>\n<h3>Implementations of Module Systems</h3>\n<h4>RequireJS</h4>\n<p><a href="http://requirejs.org/">RequireJS</a> is an implementation of AMD. It comes with an optimizer (r.js) but many people have since moved on to CommonJS tools such as Browserify.</p>\n<h4>Browserify</h4>\n<p><a href="http://browserify.org/">Browserify</a> is currently the prevailing CommonJS implementation. It is available as a CLI and a scriptable interface (say, inside node.js). This makes it easy to integrate into a build system such as gulp or to use on it’s own.</p>\n<p>Browserify allows you to apply transforms during the build process for things like <a href="https://www.npmjs.org/package/reactify">React</a>, <a href="https://github.com/eugeneware/debowerify">bower</a> and alt-js languages such as <a href="https://github.com/jnordberg/coffeeify">CoffeeScript</a>.</p>\n<h4>Webpack</h4>\n<p><a href="http://webpack.github.io/">Webpack</a> sees heavy usage in the React Community. Possibly due to Pete Hunt’s (and others’) <a href="https://github.com/petehunt/webpack-howto">advocacy</a>. Webpack comes with nice things like Feature Flags and Multiple Entrypoints.</p>\n<p>The most striking difference between Webpack and Browserify is the approach to building Components. Webpack takes a much more CSS-inclusive approach and can do dependency analysis if you’re using Multiple Entrypoints or similar. This approach to Components works very well with React’s concept of Components.</p>\n<h3>Package Managers</h3>\n<h4>NPM</h4>\n<p><a href="https://www.npmjs.org/">NPM</a> is the defacto standard for node.js, but has also declared support for front-end dependency management. It can be hard to determine what packages are meant for the browser, server or both.</p>\n<h4>Bower</h4>\n<p>Bower is a front-end dependency management tool that is backed by Git/GitHub. Bower is also where <a href="https://leanpub.com/purescript/read">PureScript</a>, an alt-js language, and some other tools make their packages available.</p>\n<h4>Other</h4>\n<p>There are also other, competing, managers at various levels such as <a href="http://volojs.org/">Volo</a> and <a href="https://github.com/ender-js/Ender">Ender</a></p>\n<p>…but talking about Volo brings us into scaffolding tools…</p>\n<h3>Scaffolding</h3>\n<h4>Yeoman</h4>\n<p><a href="http://yeoman.io/">Yeoman</a> was originally a “Client Side Stack” but has transitioned to being a quite nice tool for scaffolding new projects. I suggest <a href="https://github.com/yeoman/generator-gulp-webapp">this one</a> if you’re looking to learn more about Yeoman.</p>\n<h4>Brunch</h4>\n<p>I chose to include <a href="http://brunch.io/">Brunch</a> here even though it also competes with Gulp/Grunt in that Brunch does Compilation, Minification, Concatenation and Watching of files. IMO Brunch tries to do too much in the world of JavaScript today. Specialized tools seem to be the current order.</p>\n<h3>Build Systems</h3>\n<h4>Grunt</h4>\n<p><a href="http://gruntjs.com/">Grunt</a> is a Task Runner for JavaScript. It works fairly well and has a plugin for almost anything you’ll need; I’ve also seen some pretty hairy grunt configs.</p>\n<p><a href="http://gulpjs.com/">Gulp</a> is “The New Order” of build systems. It is based on streaming so we can say goodbye to intermediate build files on disk. It also has a fairly expansive ecosystem of plugins that can be used. One interesting note is <a href="https://www.npmjs.org/package/vinyl-source-stream">vinyl-source-streams</a>, which can be used to create streams out of tools like browserify.</p>\n<h3>Utility Belts</h3>\n<h4>Underscore</h4>\n<p><a href="http://underscorejs.org/">Underscore</a> was a default utility belt for awhile. It is a solid library that provides functional programming helpers and is:</p>\n<blockquote>\n<p>The tie to go along with jQuery’s tux and Backbone’s suspenders.</p>\n</blockquote>\n<h4>Lodash</h4>\n<p><a href="http://lodash.com/">Lodash</a> is “optimized underscore”. It is capable of being a drop-in replacement for underscore and provides <a href="http://lodash.com/#features">some features</a> not available in underscore.</p>\n<h4>Lazy.js</h4>\n<p><a href="http://danieltao.com/lazy.js/">Lazy.js</a> can get even better performance than Lodash through Lazy Evaluation. It seems to be a logical step in the progression toward the new state of Front End JavaScript.</p>\n<h3>Data Structures</h3>\n<p>One very interesting trend to pop up is the release of Lazy and Immutable Data Structures for JavaScript. Often the assumption here is that what makes FE development difficult is the tracking of mutation and maintaining of State.</p>\n<h4>Mori</h4>\n<p><a href="https://github.com/swannodette/mori">Mori</a> is Om/ClojureScript’s Lazy/Persistent/Immutable Data Structures intended for use in a JavaScript environment.</p>\n<h4>ImmutableJS</h4>\n<p><a href="https://github.com/facebook/immutable-js">ImmutableJS</a> is Facebook’s implementation of Immutable and Lazy Data Structures. It uses a JavaScript-First API and is designed with the context of React and Flux (being from Facebook).</p>\n<h3>Front End Frameworks</h3>\n<p>Finally, we come to “The Large List of Front End Frameworks”. There are a <em>ton</em> of them out there but I’m only going to cover a few of the most popular in an attempt to categorize different approaches.</p>\n<h4>Angular: The Opinionated Approach</h4>\n<p>Angular creates it’s own language in an effort to do a lot. Directives help developers create components and Services abstract data fetching. If you are a fan of Dependency Injection, Factories and Controllers, then you may do well to look at Angular.</p>\n<h4>Backbone: The Dude Abides</h4>\n<p>Backbone is fairly un-opinionated. <code>Models</code>/<code>Collection</code>, <code>Views</code> and <code>Routers</code> live here, which is fairly close to “MVC”. Backbone also includes an event system for listening to changes on Models/Collections or creating your own events.</p>\n<p>Backbone’s flexibility has allowed (or required depending on your view) <a href="http://marionettejs.com/">Marionette</a> to exist. It also means that you can replace any component as you wish. Want to use Handlebars? Mustache? no problem. Want to replace <code>Views</code> with React? no problem.</p>\n<h4>React</h4>\n<p>React is the new kid on the block and represents a substantial change in the way people think about building applications. With pure React, you would never manually adjust the DOM again. Instead allowing React’s implementation of a Virtual DOM to handle diffing and insertion of changes into the actual DOM.</p>\n<p>React also represents a step toward Functional Programming concepts (<a href="http://en.wikipedia.org/wiki/Pure_function">purity</a>, etc), which make React components easy to test and reason about. It also enables some more advanced concepts such as <a href="https://github.com/dustingetz/react-cursor">Cursors</a> or <a href="http://lens.github.io/tutorial.html">Lenses</a> which themselves enable a separation of data from View/DOM.</p>\n<h4>Om</h4>\n<p><a href="https://github.com/swannodette/om">Om</a> is a special case of React. It is implemented in <a href="https://github.com/clojure/clojurescript">ClojureScript</a>, uses some concepts such as <a href="http://www.vpri.org/pdf/tr2011001_final_worlds.pdf">Worlds</a> and Persistent Data Structures and has a fairly expansive ecosystem at this point.</p>\n<p>There is a <a href="https://github.com/swannodette/om#applications-built-with-om">list</a> of projects built with Om.</p>\n<h3>The Types are Coming</h3>\n<p>So where does this leave us?</p>\n<p>Even if we leave out React/Om we can see a clear preference towards Functions as a first-class tool through libraries such as Underscore and Lodash. <em>With</em> React, we get to see where functional programming gets us, The testability of pure functions and the composition of Components (which are themselves functions). With Om, we see where more advanced Functional Programming techniques gets us: Performance from Persistent Data Structures and clarity through separation of IO with Worlds.</p>\n<p>At this point it is interesting to note is that React was prototyped in SML and <a href="https://twitter.com/fbOpenSource/status/511643210482208768">Flow</a> is implemented in <a href="https://ocaml.org/">OCaml</a>. Flow promises to be “better” (note that not much is known about Flow publicly yet) than Microsoft’s <a href="http://www.typescriptlang.org/">TypeScript</a>. We’ll have to wait to see how it compares to <a href="https://leanpub.com/purescript/read">PureScript’s</a> Type System. (PureScript does have <a href="https://github.com/purescript-contrib/purescript-react">bindings to React</a> as well).</p>\n<h1>Fin</h1>\n<p>If I were a betting person, I would bet on the future being closer to a Purely Functional approach than I would on other approaches. What do you think?</p>\n<p>In any case, The days where one could cobble together some HTML and call themselves a Front End Engineer are long gone and the future is very interesting.</p>\n'
}},function(e,n){e.exports={title:"Language Comparisons 0000001",date:"Wed, 05 Feb 2014 15:53:51 +0000",layout:"post",path:"/2014/2/5/language-comparisons-0000001/",body:'<p>In a thread on HN recently there was a prompt:</p>\n<blockquote>\n<p>Read in a file full of numbers, one number on each line<br>\nRepresent those numbers as integers in your program<br>\nReplace each number with that number times its line number<br>\nWrite the file out elsewhere<br>\nAnd complete the task right now at your computer as fast as possible, you’re being timed</p>\n</blockquote>\n<p>Ignoring the spurious nature of the comment (and ignoring the benefits/drawbacks of interview-programming in general) there were a few responses:</p>\n<p>Consider this file for the responses:</p>\n<pre><code><span class="hljs-number">1</span>\n<span class="hljs-number">2</span>\n<span class="hljs-number">3</span>\n<span class="hljs-number">4</span>\n<span class="hljs-number">5</span>\n<span class="hljs-number">6</span>\n<span class="hljs-number">7</span>\n<span class="hljs-number">8</span>\n<span class="hljs-number">9</span>\n<span class="hljs-number">10</span>\n</code></pre>\n<h2>Python</h2>\n<p>First, a sys-admin style Python script:</p>\n<p>It considers lines to be 0-based. (the first line is line 0) and accepts a file as an argument.</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"python"</span>&gt;#!/usr/bin/python\nimport sys\nwith <span class="hljs-keyword">open</span>(sys.argv[1]) <span class="hljs-keyword">as</span> f:\n    <span class="hljs-keyword">for</span> <span class="hljs-keyword">l</span>, i <span class="hljs-keyword">in</span> enumerate(f):\n        <span class="hljs-keyword">print</span> <span class="hljs-keyword">l</span> * int(i)\n</code></pre>\n<p>Pretty nice overall and gives this result:</p>\n<pre><code><span class="hljs-number">2</span>\n<span class="hljs-number">6</span>\n<span class="hljs-number">12</span>\n<span class="hljs-number">20</span>\n<span class="hljs-number">30</span>\n<span class="hljs-number">42</span>\n<span class="hljs-number">56</span>\n<span class="hljs-number">72</span>\n<span class="hljs-number">90</span>\n</code></pre>\n<h2>awk</h2>\n<p>The next was awk-based:</p>\n<p><code>&lt;code class=&quot;bash&quot;&gt;awk \'{print $0 * NR}\' nums.txt &gt; output</code></p>\n<p>Very succinct. Probably the shortest (most powerful if you subscribe to that idea) response and very efficient for this use case (doubling numbers based on lines). It gives this output:</p>\n<pre><code><span class="hljs-number">1</span>\n<span class="hljs-number">4</span>\n<span class="hljs-number">9</span>\n<span class="hljs-number">16</span>\n<span class="hljs-number">25</span>\n<span class="hljs-number">36</span>\n<span class="hljs-number">49</span>\n<span class="hljs-number">64</span>\n<span class="hljs-number">81</span>\n<span class="hljs-number">100</span>```\n\n\n<span class="hljs-preprocessor">## node.js</span>\n\nNext up, node.js:\n\n</code></pre>\n<p><code class="javascript">var fs = require(‘fs’);\nvar lines = fs.readFileSync(’./nums.txt’,‘utf8’)\n.trim().split(/\\r\\n|\\r|\\n/g);\nfor (var i=0; i&lt;lines.length; i++) {\nlines[i] = i * +lines[i];\n}\nfs.writeFileSync(\n‘./outfile.txt’\n,‘utf8’\n,lines.join(’\\n’)\n);</p>\n<pre><code>\nWhich works, but chokes when writing <span class="hljs-operator">the</span> <span class="hljs-built_in">file</span> back out. Arguably reading/writing <span class="hljs-built_in">files</span> is more <span class="hljs-operator">of</span> <span class="hljs-operator">a</span> strength <span class="hljs-keyword">for</span> python/(bash/awk). There are many ways <span class="hljs-built_in">to</span> <span class="hljs-built_in">write</span> this code <span class="hljs-operator">in</span> js, so we’ll just skip <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> output.\n\n</code></pre>\n<p>fs.js:113\nthrow new Error(\'Unknown encoding: ’ + encoding);\n^\nError: Unknown encoding: 0\n2\n6\n12\n20\n30\n42\n56\n72\n90\nat assertEncoding (fs.js:113:11)\nat Object.fs.writeFileSync (fs.js:963:3)\nat Object.<anonymous> (/Users/chris/Desktop/haskell/nums.js:7:4)\nat Module._compile (module.js:456:26)\nat Object.Module._extensions…js (module.js:474:10)\nat Module.load (module.js:356:32)\nat Function.Module._load (module.js:312:12)\nat Function.Module.runMain (module.js:497:10)\nat startup (node.js:119:16)\nat node.js:901:3</anonymous>```</p>\n<h2>Haskell</h2>\n<p>Next up, a Haskell implementation:</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;import Data.List\n\nmain :: IO ()\nmain = writeListAsLines . toDoubleList . lines =```\n\nThis <span class="hljs-keyword">is</span> probably similar <span class="hljs-keyword">to</span> <span class="hljs-keyword">the</span> code I would\'ve written <span class="hljs-keyword">in</span> an interview environment. It can be cleaned up a bit fairly trivially though <span class="hljs-keyword">with</span> `unlines` (which I somehow forgot <span class="hljs-keyword">about</span>, <span class="hljs-keyword">then</span> remembered <span class="hljs-keyword">as</span> I was <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword">my</span> way <span class="hljs-keyword">to</span> lunch):\n\n</code></pre>\n<p><code class="haskell" style="overflow-x:scroll">import Data.List</p>\n<p>main :: IO ()\nmain = writeListAsLines . toDoubleList . lines =```</p>\n<p>or split up (maybe a little pathologically if you aren’t particularly happy with interview coding) to see the type signatures on everything.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;<span class="hljs-keyword">import</span> Data.List\n\nmain <span class="hljs-type-annotation">::</span> <span class="hljs-built_in">IO</span> ()\nmain = doubleIntsInFile <span class="hljs-string">"nums.txt"</span> <span class="hljs-string">"numsout.txt"</span>\n\ndoubleIntsInFile <span class="hljs-type-annotation">::</span> FilePath -&gt; FilePath -&gt; <span class="hljs-built_in">IO</span> ()\ndoubleIntsInFile inFile out = writeDoubled out = <span class="hljs-built_in">String</span> -&gt; <span class="hljs-built_in">IO</span> ()\nwriteDoubled x = writeListAsLines x . toDoubleList . lines\n\ntoDoubleList <span class="hljs-type-annotation">::</span> [<span class="hljs-built_in">String</span>] -&gt; [<span class="hljs-built_in">Int</span>]\ntoDoubleList y = zipWith (*) (map read y) [<span class="hljs-number">1.</span>.length y]\n\nwriteListAsLines <span class="hljs-type-annotation">::</span> <span class="hljs-built_in">String</span> -&gt; [<span class="hljs-built_in">Int</span>] -&gt; <span class="hljs-built_in">IO</span> ()\nwriteListAsLines fl =  writeFile fl . mkString\n\nmkString <span class="hljs-type-annotation">::</span> [<span class="hljs-built_in">Int</span>] -&gt; <span class="hljs-built_in">String</span>\nmkString = unlines . map show\n</code></pre>\n<p>and the output:</p>\n<pre><code>1\n4\n9\n16\n25\n36\n49\n64\n81\n100<span class="hljs-code">```</span>\n\n\n<span class="hljs-header">## Conclusion</span>\n\nDraw your own. My opinion is that AWK is the best tool for this odd job with Python a close second. (When observing these answers).\n\nFeel like code golfing a bit? Post an answer in the comments.\n\n\n<span class="hljs-header"># Update</span>\n\n\n<span class="hljs-header">## Perl</span>\n\nPerl was added by [<span class="hljs-link_label">David Baker</span>](<span class="hljs-link_url">https://plus.google.com/u/0/+DavidBakerNYC/posts</span>) on the [<span class="hljs-link_label">Google+ thread</span>](<span class="hljs-link_url">https://plus.google.com/u/0/104488078938246881552/posts/Uzsf6qrRMns</span>).\n\n<span class="hljs-code">`&lt;code class="perl"&gt;perl -lne \'print $_ * $.\' `</span>\n\nIt is approximately the same level as the previous awk script and a pretty easy to understand.\n\n</code></pre>\n<p>1\n4\n9\n16\n25\n36\n49\n64\n81\n100```</p>\n'}},function(e,n){e.exports={title:"MOCL for Android Part 2: Drakma",date:"Thu, 16 Jan 2014 11:59:30 +0000",layout:"post",path:"/2014/1/16/mocl-for-android-part-2-drakma/",body:'<p>In this post we will enable Drakma HTTP support in the Android/MOCL example code. I have forked the repo <a href="https://github.com/ChristopherBiscardi/mocl-example-lisp-contacts-android">on Github</a> for posterity. The first post is <a href="http://www.christopherbiscardi.com/2014/01/10/common-lisp-on-android-running-the-mocl-android-example/">here</a> and it will get you set up with the Android/MOCL example without Drakma.</p>\n<p>First we must download dependencies.</p>\n<p><a href="http://weitz.de/drakma/#install">Drakma</a><br>\n<a href="http://common-lisp.net/projects/usocket/releases/">USocket</a><br>\n<a href="http://weitz.de/flexi-streams/">Flexi-Streams</a><br>\n<a href="http://weitz.de/chunga/">Chunga</a><br>\n<a href="http://www.cliki.net/cl-base64">CL-BASE64</a><br>\n<a href="http://www.cliki.net/puri">Puri</a></p>\n<p>My libs are located in mocl/systems. So I that’s where I place the folders of code, then link the .asd files.<br>\nThe instructions may change slightly with different versions of libs.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;<span class="hljs-keyword">cd</span> mocl/systems\n<span class="hljs-keyword">ln</span> -<span class="hljs-keyword">s</span> drakma-<span class="hljs-number">1.3</span>.<span class="hljs-number">7</span>/drakma.asd drakma.asd\n<span class="hljs-keyword">ln</span> -<span class="hljs-keyword">s</span> usocket-<span class="hljs-number">0.6</span>.<span class="hljs-number">1</span>/usocket.asd usocket.asd\ngit clone http<span class="hljs-variable">s:</span>//github.<span class="hljs-keyword">com</span>/edicl/<span class="hljs-keyword">cl</span>-ppcre.git\n<span class="hljs-keyword">ln</span> -<span class="hljs-keyword">s</span> <span class="hljs-keyword">cl</span>-ppcre/<span class="hljs-keyword">cl</span>-ppcre.asd <span class="hljs-keyword">cl</span>-ppcre.asd```\n\nNote that `<span class="hljs-keyword">cl</span>-ppcre-unicode.asd` also <span class="hljs-built_in">exists</span>. Also of note <span class="hljs-keyword">is</span> the <span class="hljs-keyword">version</span> of `trivial-gray-streams` in use here. As of this writing the current <span class="hljs-keyword">version</span> <span class="hljs-keyword">is</span> causing issues <span class="hljs-built_in">and</span> the <span class="hljs-keyword">version</span> presented below should <span class="hljs-keyword">be</span> used.\n\n</code></pre>\n<p><code class="bash">ln -s flexi-streams-1.0.12/flexi-streams.asd flexi-streams.asd\ngit clone <a href="https://git.gitorious.org/trivial-gray-streams/wukix-trivial-gray-streams.git">https://git.gitorious.org/trivial-gray-streams/wukix-trivial-gray-streams.git</a>\nln -s wukix-trivial-gray-streams/trivial-gray-streams.asd trivial-gray-streams.asd\nln -s chunga-1.1.5/chunga.asd chunga.asd\nln -s cl-base64-3.3.3/cl-base64.asd cl-base64.asd\nln -s puri-1.5.5/puri.asd puri.asd```</p>\n<p>So after doing the linking dance we can uncomment the Drakma code in app.lisp (5 lines):</p>\n<pre><code>&lt;code class=<span class="hljs-string">"lisp"</span>&gt;(pushnew <span class="hljs-symbol">:drakma-no-ssl</span> *features*)\n   (require <span class="hljs-symbol">:drakma</span>)```\n\n</code></pre>\n<p><code class="lisp">(declaim (call-in net-test))\n(defun net-test ()\n(print (drakma:http-request &quot;<a href="http://wukix.com">http://wukix.com</a>&quot;)))```</p>\n<p>but we have to change out <code>http://wukix.com</code> because as of this writing wukix has changed their site to redirect to https, and drakma can’t use ssl yet. In my case I changed it to <code>http://www.cliki.net/</code> because it currently accepts over http.</p>\n<p>and add <code>net_test</code> to our <code>MainActivity.java</code>. In this case we just log out the result</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"Java"</span>&gt;<span class="hljs-keyword">CL</span>.cl_init();\ntry {\n    String dataDir = getDataDir();\n    <span class="hljs-keyword">CL</span>.set_temp_dir(dataDir);\n    <span class="hljs-keyword">CL</span>.set_doc_dir(dataDir);\n    <span class="hljs-keyword">CL</span>.set_font_path(getAssetPath(<span class="hljs-string">"DejaVuSans.ttf"</span>));\n    <span class="hljs-keyword">CL</span>.load_contacts();\n} catch (Exception <span class="hljs-keyword">e</span>) {\n    <span class="hljs-comment">// TODO Auto-generated catch block</span>\n    <span class="hljs-keyword">e</span>.printStackTrace();\n}\n\n<span class="hljs-keyword">Log</span>.<span class="hljs-literal">e</span>(<span class="hljs-string">"CL"</span>,<span class="hljs-keyword">CL</span>.net_test());```\n\nand <span class="hljs-keyword">run</span>:\n\n</code></pre>\n<p><code class="bash">cd mocl-example-lisp-contacts-android\nmocl --android LispContacts app.lisp\ncd LispContacts/jni\nndk-build```</p>\n<p>Then simply debug the project in ADK and watch the logcat output. The result should show up as an error, since we used <code>Log.e(&quot;&quot;,&quot;&quot;)</code>, with a tag of CL.</p>\n<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611521/CBLogo_2014_transparent_swcmig.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/h_300,w_300/v1428611521/CBLogo_2014_transparent_swcmig.png" alt="CBLogo_2014_transparent"></a></p>\n'}},function(e,n){e.exports={title:"Quick Tip: Haskell List Comprehensions",date:"Fri, 08 Feb 2013 19:56:17 +0000",layout:"post",path:"/2013/2/8/quick-tip-haskell-list-comprehensions/",body:'<p>I think <a href="http://learnyouahaskell.com/starting-out#im-a-list-comprehension">list comprehensions</a> are my favorite reason to pull out Haskell.</p>\n<p>For example: I was recently asked this:</p>\n<p>You have a row of 100 school lockers. For each number from 1 to 100 walk down the line of lockers starting at the beginning, and switch the state of every nth locker. All of the lockers start closed.</p>\n<p>For example:<br>\nwe start off at 1 and switch all the lockers to open. (1,2,3,4,5,…)<br>\nwe then go to 2 and switch all of the lockers evenly divisible by 2. (2,4,6,8…)<br>\nfor 3 we flip every 3rd locker (3,6,9,12,…)<br>\n4 is every 4th locker. (4,8,12,16,…)<br>\netc.</p>\n<h4>Answer Below This Line</h4>\n<p>In Haskell this is easily accomplished using a list comprehension.</p>\n<p>We can observe through trial (ie: actually flipping every locker) that the lockers are flipped by their factors. (ie: 6 is flipped by 1,2,3,and 6), so we’ll write a quick comprehension to give us the factors of a number:</p>\n<p>In this example, we get the factors of 6</p>\n<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">code</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"haskell"</span>&gt;</span></span>\n[x | x <span class="hljs-code">```</span>\n\nlinks:  \n[<span class="hljs-link_label">[1..6</span>]](http://learnyouahaskell.com/starting-out#texas-ranges)  \n[<span class="hljs-link_label">modulo</span>](<span class="hljs-link_url">http://en.wikipedia.org/wiki/Modulo_operation</span>)  \n[<span class="hljs-link_label">mod</span>](<span class="hljs-link_url">http://zvon.org/other/haskell/Outputprelude/mod_f.html</span>)  \n[<span class="hljs-link_label">`infix`</span>](<span class="hljs-link_url">http://www.haskell.org/haskellwiki/Infix_operator</span>)\n\nEssentially you can read the above code as\n\n</code></pre>\n<code class="haskell">\nGive me x where x is [1,2,3,4,5,6] and 6 is evenly divisible by x\n```\n<p>and breaking it down:</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"haskell"</span>&gt;\nGive <span class="hljs-keyword">me</span> x\n[x\n\n<span class="hljs-keyword">where</span>\n|\n\nx\n\n<span class="hljs-keyword">is</span>\n</code></pre>\n<p>We can then realize that if you flip something an even number of times, nothing changes. This means we’re looking for the number with an odd number of factors because we want the lockers that are open at the end.</p>\n<p>The code to determine an open locker will look like this, where factors is the code we just wrote.</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"haskell"</span>&gt;\n<span class="hljs-property">length</span> factors `<span class="hljs-keyword">mod</span>` <span class="hljs-number">2</span> == <span class="hljs-number">1</span>\n</code></pre>\n<p>If we stick that in a list comprehension for all numbers [1…100] we have effectively filtered out all of the open lockers.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"haskell"</span>&gt;\n[n | n ```\n\nBut <span class="hljs-keyword">wait</span>! There<span class="hljs-attribute">\'s</span> more! <span class="hljs-keyword">For</span> the low low price <span class="hljs-keyword">of</span> $<span class="hljs-number">19.95</span> we can realize there<span class="hljs-attribute">\'s</span> a pattern <span class="hljs-keyword">in</span> the results.  \n The pattern happens <span class="hljs-keyword">to</span> be perfect squares. This <span class="hljs-keyword">is</span> because perfect squares are the only numbers <span class="hljs-keyword">with</span> an odd number <span class="hljs-keyword">of</span> factors!\n\n<span class="hljs-keyword">for</span> example:  \n <span class="hljs-number">9</span><span class="hljs-attribute">\'s</span> factors are <span class="hljs-number">1</span>,<span class="hljs-number">3</span> <span class="hljs-keyword">and</span> <span class="hljs-number">9</span>.  \n <span class="hljs-keyword">While</span> <span class="hljs-number">8</span><span class="hljs-attribute">\'s</span> factors are <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span> <span class="hljs-keyword">and</span> <span class="hljs-number">8</span>\n\nWe can now write a far more efficient list comprehension.\n\n</code></pre>\n<code class="haskell">\n[x*x | x ```\n<p>Which can be read as:<br>\ngive me x*x where x is [1,2,3,4,5,6,7,8,9,10]</p>\n<p>We can also expand this into an function using an infinite list, just in case we want to calculate how many lockers are open if we have 50081 lockers.</p>\n<pre><code>&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"haskell"</span>&gt;\n<span class="hljs-keyword">let</span> lockers = [x*x | x <span class="hljs-string">``</span><span class="hljs-string">`\n\n\n</span></code></pre>\n'}},function(e,n){e.exports={title:"Quick Tip: JavaScript Partially Applied Functions",date:"Fri, 08 Feb 2013 18:23:06 +0000",layout:"post",path:"/2013/2/8/quick-tip-javascript-partially-applied-functions/",body:'<p>Say we have the following function:</p>\n<pre><code>&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"javascript"</span>&gt;\n<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">increaseBy</span>(<span class="hljs-params">x</span>)</span>{\n  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>)</span>{\n    <span class="hljs-keyword">return</span> x + y;\n  }\n}\n</code></pre>\n<p>We can use this function to create new, higher order functions that increase a number by a certain value.</p>\n<p>for example:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"javascript"</span>&gt;\n<span class="hljs-keyword">var</span> incByThree = increaseBy(<span class="hljs-number">3</span>);\n</code></pre>\n<p>gives us a function we can then use later in our code as such:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"javascript"</span>&gt;\nincByThree(<span class="hljs-number">4</span>);\n<span class="hljs-comment">//returns 7</span>\n\nincByThree(<span class="hljs-number">5</span>);\n<span class="hljs-comment">//returns 8</span>\n</code></pre>\n<p>We can also create multiple higher-order functions and have each of them use a different x value;</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"javascript"</span>&gt;\nvar incByThree = increaseBy(<span class="hljs-number">3</span>);\nvar incByFour = increaseBy(<span class="hljs-number">4</span>);\n\nincByThree(<span class="hljs-number">6</span>);\n<span class="hljs-comment">//returns 9</span>\nincbyFour(<span class="hljs-number">6</span>);\n<span class="hljs-comment">//returns 10</span>\n</code></pre>\n'}},function(e,n){e.exports={title:"Riak Core: myapp:ping().",date:"Sun, 13 Jan 2013 23:45:06 +0000",layout:"post",path:"/2013/1/13/riak-core-myappping/",body:'<p>As seen in the <a href="http://www.christopherbiscardi.com/2013/01/13/riak-core-quickstart/">quickstart post</a>; the default Riak Core template gives you a <code>myapp:ping().</code> method.<br>\nI named my application spades, so my files are named <code>spades.erl</code> and <code>spades_vnode.erl</code> with the function being called as <code>spades:ping().</code></p>\n<pre><code>&lt;code class=<span class="hljs-string">"erlang"</span>&gt;\n%% File: spades.erl\n%% <span class="hljs-constant">@doc</span> Pings a <span class="hljs-built_in">random</span> vnode <span class="hljs-keyword">to</span> make sure communication is functional\n<span class="hljs-built_in">ping</span>() -&gt;\n  DocIdx = riak_core_util:chash_key({&lt;&lt;<span class="hljs-string">"ping"</span>&gt;&gt;, term_to_binary(<span class="hljs-built_in">now</span>())}),\n  PrefList = riak_core_apl:get_primary_apl(DocIdx, <span class="hljs-number">1</span>, spades),\n  [{IndexNode, _Type}] = PrefList,\n  riak_core_vnode_master:sync_spawn_command(IndexNode, <span class="hljs-built_in">ping</span>, spades_vnode_master).\n</code></pre>\n<pre><code>&lt;code class=<span class="hljs-string">"erlang"</span>&gt;\n<span class="hljs-comment">%% File: spades_vnode.erl</span>\n<span class="hljs-comment">%% Sample command: respond to a ping</span>\n<span class="hljs-function"><span class="hljs-title">handle_command</span><span class="hljs-params">(ping, <span class="hljs-variable">_Sender</span>, <span class="hljs-variable">State</span>)</span> -&gt;</span>\n  <span class="hljs-tuple">{reply, <span class="hljs-tuple">{pong, <span class="hljs-variable">State</span><span class="hljs-record_name">#state</span>.partition}</span>, <span class="hljs-variable">State</span>}</span>;\n</code></pre>\n<p>All commands we execute as <code>myapp:command().</code> (such as <code>spades:ping().</code>) route through the myapp.erl functions.</p>\n<p>In this case, when we call <code>spades:ping().</code> the ping(). function in spades.erl is what gets called.</p>\n<p>Let’s take a look at the first line of code.</p>\n<pre><code>&lt;code <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"erlang"</span>&gt;\n    DocIdx = riak_core_util:chash_key({&lt;&lt;<span class="hljs-string">"ping"</span>&gt;&gt;, term_to_binary(now())}),\n</code></pre>\n<p>DocIdx is short for Document Index. This appears to be a holdover from before Riak Core was separated from Riak KV.<br>\nWe are using the Consistent Hash (chash) function from the riak_core_util module.<br>\nBy hashing on the “ping” and the current time, we achieve an acceptable level of randomness to distribute our request to a random vnode.</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"erlang"</span>&gt;\n  PrefList = riak_core_apl:<span class="hljs-function"><span class="hljs-title">get_primary_apl</span><span class="hljs-params">(DocIdx, <span class="hljs-number">1</span>, spades)</span></span>,\n</code></pre>\n<p>We then create a PreferenceList (PrefList) by using the hash we just created, an N value and a module name.</p>\n'}},function(e,n){e.exports={title:"Riak Core: Quickstart",date:"Sun, 13 Jan 2013 23:30:49 +0000",layout:"post",path:"/2013/1/13/riak-core-quickstart/",body:'<p>First Retrieve the Rebar Templates and put them in ~/.rebar/templates</p>\n<div><div class="syntaxhighlighter  bash" id="highlighter_831319"><div class="toolbar"><span>[?](#)</span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2">`<code class="bash plain"><a href="http://git-scm.com/book">git</a><a href="http://git-scm.com/book/en/Git-Basics-Getting-a-Git-Repository">clone</a><a href="https://github.com/rzezeski/rebar_riak_core">git://github.com/rzezeski/rebar_riak_core.git</a>`</div><div class="line number2 index1 alt1">`<code class="bash functions"><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?mkdir">mkdir</a>``<code class="bash plain"><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?mkdir">-p</a> ~/.rebar``<code class="bash plain">/templates`</div><div class="line number3 index2 alt2">`<code class="bash functions"><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?cp">cp</a>``<code class="bash plain">rebar_riak_core/* ~/.rebar``<code class="bash plain">/templates`</div></div></td></tr></tbody></table></div></div>You’ll also need [Rebar](https://github.com/basho/rebar) and [Erlang](). I used [homebrew](http://mxcl.github.com/homebrew/) to get them:\n<p>[bash]<br>\nbrew install erlang rebar<br>\n[/bash]</p>\n<p>Now that you’re set up, you can create a new multinode app from the templates.<br>\nReplace myapp with whatever you want to call your new app in the following command:</p>\n<div><div class="syntaxhighlighter  bash" id="highlighter_654785"><div class="toolbar"><span>[?](#)</span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2">`<code class="bash functions">cd``<code class="bash plain">~``<code class="bash plain">/where/I/want/my/app`</div><div class="line number2 index1 alt1">`<code class="bash plain"><a href="https://github.com/basho/rebar">rebar create</a> template=riak_core_multinode appid=myapp nodeid=myapp`</div></div></td></tr></tbody></table></div></div>You can now `make` and run the code.  \n [bash]  \n make rel  \n ./rel/myapp/bin/myapp console  \n [/bash]\n<p>If all goes well you should be sitting in a console for your app.<br>\nRun<br>\n[erlang]<br>\nmyapp:ping().<br>\n[/erlang]<br>\nto ping a random vnode.</p>\n<h5>Links</h5>\n<ul>\n<li><a href="https://github.com/rzezeski/try-try-try/tree/master/2011/riak-core-first-multinode">try try try</a><br>\nPost that goes into more detail about the process.</li>\n<li><a href="">Ping</a><br>\nA Future Post detailing the <code>myapp:ping().</code> method.</li>\n</ul>\n'}},function(e,n){e.exports={title:"Riak Core: Unique Identifiers",date:"Sat, 12 Jan 2013 23:38:01 +0000",layout:"post",path:"/2013/1/12/riak-core-unique-identifiers/",body:'<p>To generate a unique identifier, Riak Core exposes:</p>\n<div><div class="syntaxhighlighter  erlang" id="highlighter_676059"><div class="toolbar"><span>[?](#)</span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2">`<code class="erlang functions">riak_core_util:unique_id_62``<code class="erlang plain">()`</div></div></td></tr></tbody></table></div></div>Which returns a string that looks like this:\n<p>[erlang]NWX8ZV4Zn4pfZDh51viJtpyya9v[/erlang]</p>\n<p>The full function can be seen below:</p>\n<div><div class="syntaxhighlighter  erlang" id="highlighter_202233"><div class="toolbar"><span>[?](#)</span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2">`<code class="erlang comments">%% @spec unique_id_62() -> string()`</div><div class="line number2 index1 alt1">`<code class="erlang comments">%% @doc Create a random identifying integer, returning its string`</div><div class="line number3 index2 alt2">`<code class="erlang comments">%%      representation in base 62.`</div><div class="line number4 index3 alt1">`<code class="erlang plain">unique_id_62() ->`</div><div class="line number5 index4 alt2">`<code class="erlang spaces">    ``<code class="erlang constants">Rand``<code class="erlang plain">= ``<code class="erlang functions"><a href="http://erlang.org/doc/man/crypto.html#sha-1">crypto:sha</a>``<code class="erlang plain">(<a href="http://erlang.org/doc/man/erlang.html#term_to_binary-1">term_to_binary</a>({<a href="http://erlang.org/doc/man/erlang.html#make_ref-0">make_ref()</a>, ``<code class="erlang functions"><a href="http://www.erlang.org/doc/man/os.html#timestamp-0">os:timestamp</a>``<code class="erlang plain">()})),`</div><div class="line number6 index5 alt1">`<code class="erlang spaces">    ``<code class="erlang plain"><a href="http://learnyousomeerlang.com/starting-out-for-real#bit-syntax"><<I:160/integer>></a> = ``<code class="erlang constants">Rand``<code class="erlang plain">,`</div><div class="line number7 index6 alt2">`<code class="erlang spaces">    ``<code class="erlang plain"><a href="http://erlang.org/doc/man/erlang.html#integer_to_list-2">integer_to_list(I, 62).</a>`</div></div></td></tr></tbody></table></div></div>\n'}},function(e,n){e.exports={title:"Riak Core: Up and Running",date:"Sun, 13 Jan 2013 07:21:44 +0000",layout:"post",path:"/2013/1/12/riak-core-up-and-running/",body:'<p>Some of the current Riak Core resources available are:</p>\n<ul>\n<li><a href="https://github.com/rzezeski/try-try-try/tree/master/2011">try try try:</a> A blog written by Ryan Zezeski. It includes a few posts on Riak Core and one on Riak Search.</li>\n<li><a href="https://github.com/websterclay/rebar_riak_core/network">Rebar Templates</a> These are some rebar templates for Riak Core. rzezeski’s branch is used in the blogs above and some of the others add examples for coverage.</li>\n<li><a href="http://basho.com/blog/technical/2011/04/12/Where-To-Start-With-Riak-Core/">Basho</a> Basho has an introductory post that includes some talks, slides and links.</li>\n<li><a href="http://vimeo.com/53910999">Riak Pipe</a> Bryan Fink’s talk from Ricon 2012</li>\n<li><a href="http://vimeo.com/54266574">Yokozuna</a> Ryan Zezeski’s talk about integration between Riak Core and Solr</li>\n<li><a href="http://basho.com/blog/technical/2010/07/30/introducing-riak-core/">Introducing Riak Core</a> Another Basho post with some useful information on the files included in Riak Core</li>\n</ul>\n'}},function(e,n){e.exports={title:"Riak, HAProxy and Haskell: MultiMachine Vagrant on OSX",date:"Wed, 12 Feb 2014 17:25:08 +0000",layout:"post",path:"/2014/2/12/riak-haproxy-and-haskell-multimachine-vagrant-on-osx/",body:'<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611515/vagrantriak_qhwv7l.gif"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611515/vagrantriak_qhwv7l.gif" alt="vagrantriak"></a></p>\n<p>In this post we will go over how to set up five Riak nodes, cluster them, setup HAProxy on a sixth machine and run a Haskell environment in a seventh machine. This will allow us to query from our Haskell vm to our HAProxy vm and distribute the queries among a Riak cluster.</p>\n<p>If you haven’t installed Vagrant, do that now:<br>\n<a href="http://www.vagrantup.com/">Vagrant</a></p>\n<p>I used VirtualBox as a backing for Vagrant.<br>\n<a href="https://www.virtualbox.org/">VirtualBox</a></p>\n<h1>tldr: Running the Code</h1>\n<h2>The Base Box</h2>\n<p>We will need Ubuntu 13.10 (Saucy Salamander), as this is the base box in our <code>Vagrantfile</code>s.</p>\n<p><code>vagrant box add saucy-amd http://cloud-images.ubuntu.com/vagrant/saucy/current/saucy-server-cloudimg-amd64-vagrant-disk1.box</code></p>\n<h2>Cloning the Repo</h2>\n<p>The code is contained in a git repo <a href="">here</a></p>\n<p><code>git clone git@github.com:ChristopherBiscardi/Riak-HAProxy-Haskell-Vagrant.git</code></p>\n<h2>Getting Them Up</h2>\n<p>The simplest way to get everything up and running is:</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"bash"</span>&gt;cd riak-haproxy-haskell-vagrant\nvagrant up```\n\nI personally like <span class="hljs-keyword">to</span> bring up <span class="hljs-keyword">my</span> databases <span class="hljs-keyword">first</span>, <span class="hljs-keyword">then</span> proxy, <span class="hljs-keyword">then</span> webserver.\n\n</code></pre>\n<p><code class="bash">cd riak-haproxy-haskell-vagrant\nvagrant up /riak[0-9]/\nvagrant up haproxy\nvagrant up web```</p>\n<p>A gif of running <code>vagrant up haproxy</code> is availible <a href="http://www.christopherbiscardi.com/wp-content/uploads/2014/02/vagrantuphaproxy.gif">here</a></p>\n<h2>Testing</h2>\n<p>We can be assured that everything has worked by running:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span>&gt;vagrant ssh web\ncurl <span class="hljs-number">192.168</span><span class="hljs-number">.50</span><span class="hljs-number">.3</span>:<span class="hljs-number">8098</span>```\n\nWhich is curling the IP of our load balancer. This should <span class="hljs-keyword">return</span> something like <span class="hljs-keyword">this</span> from a Riak node:\n\n</code></pre>\n<code class="html" style="overflow-x:auto">\n<pre><code>&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;/types&quot;&gt;riak_kv_wm_bucket_type&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/buckets&quot;&gt;riak_kv_wm_buckets&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/riak&quot;&gt;riak_kv_wm_buckets&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/types&quot;&gt;riak_kv_wm_buckets&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/buckets&quot;&gt;riak_kv_wm_counter&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/types&quot;&gt;riak_kv_wm_crdt&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/buckets&quot;&gt;riak_kv_wm_index&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/types&quot;&gt;riak_kv_wm_index&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/buckets&quot;&gt;riak_kv_wm_keylist&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/types&quot;&gt;riak_kv_wm_keylist&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/buckets&quot;&gt;riak_kv_wm_link_walker&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/riak&quot;&gt;riak_kv_wm_link_walker&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/types&quot;&gt;riak_kv_wm_link_walker&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/mapred&quot;&gt;riak_kv_wm_mapred&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/buckets&quot;&gt;riak_kv_wm_object&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/riak&quot;&gt;riak_kv_wm_object&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/types&quot;&gt;riak_kv_wm_object&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/ping&quot;&gt;riak_kv_wm_ping&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/buckets&quot;&gt;riak_kv_wm_props&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/types&quot;&gt;riak_kv_wm_props&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/stats&quot;&gt;riak_kv_wm_stats&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;/search&quot;&gt;yz_wm_extract&lt;/a&gt;&lt;/li&gt;```\n</code></pre>\n<h2>What’s Going On</h2>\n<p>Our Vagrantfile looks like this:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"ruby"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;<span class="hljs-comment"># -*- mode: ruby -*-</span>\n<span class="hljs-comment"># vi: set ft=ruby :</span>\n\nVAGRANTFILE_API_VERSION = <span class="hljs-string">"2"</span>\nNUM_RIAK_NODES = <span class="hljs-number">5</span>\n\nVagrant.configure(VAGRANTFILE_API_VERSION) <span class="hljs-built_in">do</span> |config|\n  config.vm.box = <span class="hljs-string">"saucy-amd"</span>\n\n  config.vm.define <span class="hljs-string">"web"</span> <span class="hljs-built_in">do</span> |web|\n    web.vm.network <span class="hljs-string">"private_network"</span>,\n      ip: <span class="hljs-string">"192.168.50.2"</span>, virtualbox__intnet: <span class="hljs-string">"riakhaskellnetwork"</span>\n    web.vm.provision <span class="hljs-string">"shell"</span>, path: <span class="hljs-string">"vagrant-files/haskell-build.sh"</span>\n    web.vm.provider <span class="hljs-string">"virtualbox"</span> <span class="hljs-built_in">do</span> |v|\n      v.memory = <span class="hljs-number">1024</span>\n    <span class="hljs-function"><span class="hljs-keyword">end</span>\n  <span class="hljs-title">end</span></span>\n\n  config.vm.define <span class="hljs-string">"haproxy"</span> <span class="hljs-built_in">do</span> |ha|\n    ha.vm.network <span class="hljs-string">"private_network"</span>,\n      ip: <span class="hljs-string">"192.168.50.3"</span>, virtualbox__intnet: <span class="hljs-string">"riakhaskellnetwork"</span>\n    ha.vm.provision <span class="hljs-string">"shell"</span>, path: <span class="hljs-string">"vagrant-files/haproxy-build.sh"</span>\n  <span class="hljs-function"><span class="hljs-keyword">end</span>\n\n# <span class="hljs-title">Base</span> <span class="hljs-title">node</span> <span class="hljs-title">is</span> <span class="hljs-title">192</span>.<span class="hljs-title">168</span>.<span class="hljs-title">50</span>.<span class="hljs-title">10</span></span>\n<span class="hljs-comment"># Subsequent nodes are .11/.12/etc</span>\n  (<span class="hljs-number">1.</span>.NUM_RIAK_NODES).<span class="hljs-keyword">each</span> <span class="hljs-built_in">do</span> |i|\n    config.vm.define <span class="hljs-string">"riak#{i}"</span> <span class="hljs-built_in">do</span> |riakx|\n      riakx.vm.network <span class="hljs-string">"private_network"</span>,\n        ip: <span class="hljs-string">"192.168.50.#{i+9}"</span>, virtualbox__intnet: <span class="hljs-string">"riakhaskellnetwork"</span>\n      riakx.vm.provision <span class="hljs-string">"shell"</span>, path: <span class="hljs-string">"vagrant-files/riak-build.sh"</span>, args: <span class="hljs-string">"192.168.50.#{i+9} 192.168.50.10"</span>\n    <span class="hljs-function"><span class="hljs-keyword">end</span>\n  <span class="hljs-title">end</span></span>\n<span class="hljs-keyword">end</span>```\n\nEach <span class="hljs-operator">of</span> our vm types is defined <span class="hljs-operator">in</span> <span class="hljs-operator">a</span> `config.vm.define` block. We have `web`, `haproxy` <span class="hljs-operator">and</span> some `riak` nodes.\n\n<span class="hljs-comment">### Global</span>\n\nIn <span class="hljs-keyword">each</span> block we define <span class="hljs-operator">a</span> `private_network` named `riakhaskellnetwork` <span class="hljs-operator">and</span> define <span class="hljs-operator">the</span> IP addresses <span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> vm. `web` is `x.x.x<span class="hljs-number">.2</span>`, `haproxy` is `x.x.x<span class="hljs-number">.3</span>` <span class="hljs-operator">and</span> <span class="hljs-operator">the</span> `riak` nodes autoincrement <span class="hljs-built_in">from</span> `x.x.x<span class="hljs-number">.10</span>`. (riak1 is x.x.x<span class="hljs-number">.10</span>, riak2 is x.x.x<span class="hljs-number">.11</span>, etc)\n\n<span class="hljs-comment">### web</span>\n\nOur web vm is provisioned <span class="hljs-keyword">using</span> <span class="hljs-operator">the</span> <span class="hljs-built_in">shell</span> script located <span class="hljs-operator">in</span> `vagrant-<span class="hljs-built_in">files</span>/haskell-build.sh`. It’s fairly basic <span class="hljs-operator">and</span> just installs <span class="hljs-operator">the</span> `haskell-<span class="hljs-built_in">platform</span>` <span class="hljs-operator">and</span> updates `cabal`.\n\n</code></pre>\n<p><code class="bash" style="overflow-x:auto">echo “Haskell 7.6.3”\napt-get update\napt-get install build-essential haskell-platform -y\ncabal update\ncabal install cabal-install```</p>\n<p>After <code>vagrant up web</code> we can <code>vagrant ssh web</code> and run <code>ghci</code> to start a Haskell interpreter.</p>\n<h3>haproxy</h3>\n<p>Our HAProxy vm is a little more interesting. We install <code>haproxy</code>, set the open files limit to &gt; 256000 (in this case 266000) and then we start <code>haproxy</code> with the config file <code>vagrant-files/haproxy.config</code>. Note that there are no startup scripts, so this won’t to be able to withstand <code>vagrant reload</code> without running <code>vagrant provision</code> after it.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;echo <span class="hljs-string">"Building HAProxy"</span>\napt-<span class="hljs-built_in">get</span> update\napt-<span class="hljs-built_in">get</span> install haproxy -y\nulimit -n <span class="hljs-number">266000</span>\nhaproxy -V -f /vagrant/vagrant-<span class="hljs-built_in">files</span>/haproxy.config```\n\nIf we check out `vagrant-<span class="hljs-built_in">files</span>/haproxy.config` we can see <span class="hljs-operator">a</span> little about what we’re doing <span class="hljs-operator">with</span> our <span class="hljs-built_in">load</span> balancer:\n\n</code></pre>\n<p><code class="config" style="overflow-x:auto">global\nlog 192.168.50.3     local0\nlog 192.168.50.3     local1 notice\nmaxconn           256000\nchroot            /var/lib/haproxy\nuser              haproxy\ngroup             haproxy\nspread-checks     5\ndaemon\nquiet</p>\n<p>defaults\nlog               global\noption            dontlognull\noption            redispatch\noption            allbackups\nmaxconn           256000\ntimeout connect   5000</p>\n<p>backend riak_rest_backend\nmode               http\nbalance            roundrobin\noption             httpchk GET /ping\noption             httplog\nserver riak1 192.168.50.10:8098 weight 1 maxconn 1024  check\nserver riak2 192.168.50.11:8098 weight 1 maxconn 1024  check\nserver riak3 192.168.50.12:8098 weight 1 maxconn 1024  check\nserver riak4 192.168.50.13:8098 weight 1 maxconn 1024  check\nserver riak5 192.168.50.14:8098 weight 1 maxconn 1024  check</p>\n<p>frontend riak_rest\nbind               192.168.50.3:8098\nmode               http\noption             contstats\ndefault_backend    riak_rest_backend</p>\n<p>backend riak_protocol_buffer_backend\nbalance            leastconn\nmode               tcp\noption             tcpka\noption             srvtcpka\nserver riak1 192.168.50.10:8087 weight 1 maxconn 1024  check\nserver riak2 192.168.50.11:8087 weight 1 maxconn 1024  check\nserver riak3 192.168.50.12:8087 weight 1 maxconn 1024  check\nserver riak4 192.168.50.13:8087 weight 1 maxconn 1024  check\nserver riak5 192.168.50.14:8087 weight 1 maxconn 1024  check</p>\n<p>frontend riak_protocol_buffer\nbind               192.168.50.3:8087\nmode               tcp\noption             tcplog\noption             contstats\nmode               tcp\noption             tcpka\noption             srvtcpka\ndefault_backend    riak_protocol_buffer_backend```</p>\n<p>We are binding to the IP address of our vm, <code>192.168.50.3</code> and we’ve hardcoded the five node Riak cluster into our backends. We have a backend (the Riak nodes) and a frontend (webserver side) for Riak’s HTTP and Protobuf APIs.</p>\n<h3>riakx</h3>\n<p>The Riak nodes are provisioned by <code>vagrant-files/riak-build</code>. We cycle through a list from 1 to <code>NUM_RIAK_NODES</code> (in this case, 5), and create a node for each. We pass two arguments to our shell script for each node. One is the base node IP (always x.x.x.10) and the other is the current node’s IP.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"config"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;<span class="hljs-comment">#!/bin/bash</span>\n<span class="hljs-comment"># $2 is base riak node IP</span>\n<span class="hljs-comment"># $1 is current node\'s IP</span>\necho <span class="hljs-string">"Building Riak Vagrant Node"</span>\necho $<span class="hljs-number">2</span>\necho $<span class="hljs-number">1</span>\nsudo apt-<span class="hljs-built_in">get</span> update\nsudo apt-<span class="hljs-built_in">get</span> install libssl0<span class="hljs-number">.9</span><span class="hljs-number">.8</span> default-jre -y\nwget <span class="hljs-keyword">http</span>://s3.amazonaws.com/downloads.basho.com/riak/<span class="hljs-number">2.0</span>/<span class="hljs-number">2.0</span><span class="hljs-number">.0</span>pre11/ubuntu/precise/riak_2<span class="hljs-number">.0</span><span class="hljs-number">.0</span>pre11-<span class="hljs-number">1</span>_amd64.deb\nsudo dpkg -i riak_2<span class="hljs-number">.0</span><span class="hljs-number">.0</span>pre11-<span class="hljs-number">1</span>_amd64.deb\nsed -i <span class="hljs-string">"s/127.0.0.1/$1/g"</span> /etc/riak/riak.conf\nsed -i <span class="hljs-string">\'s/search = off/search = on/g\'</span> /etc/riak/riak.conf\nulimit -n <span class="hljs-number">8192</span>\nriak <span class="hljs-built_in">start</span>\n<span class="hljs-keyword">if</span> [[ <span class="hljs-string">"$2"</span> != <span class="hljs-string">"$1"</span> ]]\n<span class="hljs-keyword">then</span>\n  echo <span class="hljs-string">"Joining Base Riak Node $2"</span>\n  riak-admin cluster join riak@$<span class="hljs-number">2</span>\n  riak-admin cluster plan\n  riak-admin cluster commit\n<span class="hljs-keyword">else</span>\n  echo <span class="hljs-string">"Starting Base Riak Node"</span>\nfi\necho $(riak-admin status | grep ring_members)```\n\n<span class="hljs-number">1.</span> We install libssl <span class="hljs-operator">and</span> <span class="hljs-operator">a</span> JRE (because we want <span class="hljs-built_in">to</span> run Riak Search)\n<span class="hljs-number">2.</span> wget <span class="hljs-operator">the</span> `amd64.deb` <span class="hljs-keyword">for</span> Riak2<span class="hljs-number">.0</span><span class="hljs-number">.0</span>-pre11\n<span class="hljs-number">3.</span> install <span class="hljs-operator">the</span> .deb\n<span class="hljs-number">4.</span> Replace <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> <span class="hljs-operator">with</span> our node’s IP address\n<span class="hljs-number">5.</span> Replace `search = off` <span class="hljs-operator">with</span> `search = <span class="hljs-command"><span class="hljs-keyword">on</span>` <span class="hljs-title">to</span> <span class="hljs-title">turn</span> <span class="hljs-title">on</span> <span class="hljs-title">Riak</span> <span class="hljs-title">Search</span></span>\n<span class="hljs-number">6.</span> Set <span class="hljs-operator">the</span> <span class="hljs-built_in">file</span> limit <span class="hljs-built_in">to</span> <span class="hljs-number">8192</span>\n<span class="hljs-number">7.</span> Start Riak\n<span class="hljs-number">8.</span> <span class="hljs-keyword">then</span>, <span class="hljs-keyword">if</span> we have <span class="hljs-operator">the</span> base node, <span class="hljs-built_in">do</span> nothing\n<span class="hljs-number">9.</span> If we have <span class="hljs-operator">the</span> non-base node, we commit <span class="hljs-operator">a</span> cluster plan <span class="hljs-built_in">to</span> join <span class="hljs-operator">with</span> <span class="hljs-operator">the</span> base node\n<span class="hljs-number">10.</span> Finally, echo <span class="hljs-operator">the</span> <span class="hljs-built_in">result</span> <span class="hljs-operator">of</span> `riak-admin status | grep ring_members`\n\nNote that, just like <span class="hljs-operator">the</span> HAProxy vm, <span class="hljs-operator">the</span> Riak nodes don’t have init scripts <span class="hljs-operator">and</span> will need <span class="hljs-operator">a</span> `vagrant provision` <span class="hljs-keyword">after</span> <span class="hljs-operator">a</span> `vagrant reload`\n\n\n<span class="hljs-comment"># Future Work</span>\n\nIn <span class="hljs-operator">the</span> future I might <span class="hljs-built_in">include</span> Riak CS <span class="hljs-operator">in</span> this configuration. In addition, <span class="hljs-keyword">it</span> would be nice <span class="hljs-built_in">to</span> have some init scripts <span class="hljs-built_in">to</span> make <span class="hljs-keyword">for</span> <span class="hljs-operator">a</span> more stable cluster. As <span class="hljs-keyword">it</span> stands now, we have <span class="hljs-operator">a</span> pseudo-production configuration <span class="hljs-operator">and</span> we can examine <span class="hljs-operator">the</span> results <span class="hljs-operator">of</span> doing insane things like randomly `vagrant destroy`ing Riak nodes.\n\nNow that I think about <span class="hljs-keyword">it</span>, <span class="hljs-operator">a</span> chaos monkey would be <span class="hljs-operator">a</span> cool addition <span class="hljs-built_in">to</span> this setup.\n\n\n</code></pre>\n'
}},function(e,n){e.exports={title:"Scaffolding a Clojure/Compojure Webapp for Heroku",date:"Wed, 15 Jan 2014 18:32:15 +0000",layout:"post",path:"/2014/1/15/scaffolding-a-clojurecompojure-webapp-for-heroku/",body:'<p>In this post we’ll go through the process to create a basic Clojure/Compojure/libnoir scaffolding project and deploying it to Heroku.</p>\n<p>First, make sure you’ve installed the prereqs:<br>\n<a href="http://leiningen.org/">Leiningen</a> &gt;= v2.0<br>\n<a href="https://toolbelt.heroku.com/">Heroku Toolbelt</a></p>\n<p>and here’s the <a href="https://github.com/ChristopherBiscardi/clojure-compojure-libnoir">GitHub</a> if that’s your style.</p>\n<p>After installing leiningen, run:</p>\n<p><code>lein new compojure scaffold-app</code></p>\n<p>to scaffold a new project. Then cd into the project and run <code>lein ring server</code> to install dependencies and run the app.</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"bash"</span>&gt;cd scaffold-app\nlein ring server```\n\nWe can kill <span class="hljs-keyword">the</span> server <span class="hljs-keyword">with</span> `C-c`. We will need a `Procfile` <span class="hljs-keyword">to</span> deploy <span class="hljs-keyword">to</span> Heroku <span class="hljs-keyword">and</span> <span class="hljs-keyword">it</span> will look like this:\n\n`web: java $JVM_OPTS -cp target/scaffolding-app.jar clojure.main -m scaffold-app.handler $PORT`\n\nBe sure <span class="hljs-keyword">to</span> save <span class="hljs-keyword">that</span> <span class="hljs-keyword">as</span> `Procfile`. This says we will have a “web” dyno type, which <span class="hljs-keyword">is</span> a special type <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> heroku <span class="hljs-keyword">that</span> <span class="hljs-keyword">is</span> allowed <span class="hljs-keyword">to</span> receive web traffic.\n\nWe need a `:main` namespace <span class="hljs-keyword">in</span> our app so <span class="hljs-keyword">that</span> `lein <span class="hljs-command">run</span>` knows how <span class="hljs-keyword">to</span> <span class="hljs-command">run</span> <span class="hljs-keyword">the</span> app.\n\nInside <span class="hljs-keyword">of</span> `project.clj` add `:main` <span class="hljs-keyword">and</span> a dependency <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> `lib-noir`, <span class="hljs-keyword">from</span> which we will use a jetty adapter. We also want <span class="hljs-keyword">to</span> add `min-lein-<span class="hljs-property">version</span>` so <span class="hljs-keyword">that</span> heroku uses lein <span class="hljs-number">2.0</span> <span class="hljs-keyword">and</span> add a section <span class="hljs-keyword">for</span> our `:uberjar-<span class="hljs-property">name</span>`. This will help us out <span class="hljs-keyword">with</span> <span class="hljs-keyword">some</span> startup-timing issues we could encounter otherwise.\n\n</code></pre>\n<p><code class="clojure">(defproject scaffold-app “0.1.0-SNAPSHOT”\n:description “FIXME: write description”\n:url &quot;<a href="http://example.com/FIXME">http://example.com/FIXME</a>&quot;\n:dependencies [[org.clojure/clojure “1.5.1”]\n[lib-noir “0.7.9”]\n[compojure “1.1.6”]]\n:main scaffold-app.handler\n:min-lein-version “2.0.0”\n:uberjar-name “scaffolding-app.jar”\n:plugins [[lein-ring “0.8.10”]]\n:ring {:handler scaffold-app.handler/app}\n:profiles\n{:dev {:dependencies [[javax.servlet/servlet-api “2.5”]\n[ring-mock “0.1.5”]]}})```</p>\n<p>In <code>src/scaffold_app/handler.clj</code> add <code>ring.adapter.jetty</code> to <code>:use</code> and bracket</p>\n<pre><code>&lt;code <span class="hljs-type">class</span>=<span class="hljs-string">"clojure"</span>&gt;(:use [compojure.core]\n      [ring.adapter.jetty :<span class="hljs-keyword">as</span> ring])```\n\n<span class="hljs-keyword">and</span> `-main` <span class="hljs-keyword">to</span> <span class="hljs-keyword">the</span> body <span class="hljs-keyword">where</span> <span class="hljs-keyword">the</span> port will be <span class="hljs-keyword">given</span> <span class="hljs-keyword">to</span> us <span class="hljs-keyword">from</span> Heroku:\n\n</code></pre>\n<p><code class="clojure">(defn -main [port]\n(run-jetty (handler/site app-routes) {:port (read-string port) :join? false}))```</p>\n<p>At this point you should be able to run <code>lein run 8080</code> to start an instance of the app on port 8080. If this works, you are ready to deploy to Heroku.</p>\n<p>Assuming you have git, a Heroku account and the Toolbelt (mentioned at the top of the post) installed we can deploy to heroku in this fashion: (Remember to change “scaffolding-clojure” to something else. There is already an app with that name that exists on heroku.)</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;git init\n<span class="hljs-label">heroku apps:</span>create scaffolding-clojure<span class="hljs-escape">``</span><span class="hljs-escape">`\n</span>\n<span class="hljs-label">heroku’s `apps:</span>create<span class="hljs-escape">` </span>adds <span class="hljs-literal">a</span> “heroku” remote to git.\n\n</code></pre>\n<p><code class="bash">git add Procfile .gitignore <a href="http://README.md">README.md</a> project.clj src/ test/\ngit commit -m ‘first commit’\ngit push -u heroku master```</p>\n<p>We can open our app with <code>heroku open</code> or watch it run with <code>heroku logs --tail</code></p>\n<p>In the next post we’ll dive into lib-noir a bit to investigate potential applications (such as JSON APIs).</p>\n<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611521/CBLogo_2014_transparent_swcmig.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/h_300,w_300/v1428611521/CBLogo_2014_transparent_swcmig.png" alt="CBLogo_2014_transparent"></a></p>\n'}},function(e,n){e.exports={title:"Snap, Postgres and Heist: Displaying Data from Queries",date:"Tue, 08 Apr 2014 11:02:10 +0000",layout:"post",path:"/2014/4/8/snap-postgres-and-heist-displaying-data-from-queries/",body:'<p>The github repo for this post is <a href="https://github.com/ChristopherBiscardi/snap-postgres-heist">here</a>.</p>\n<h2>Single AuthUser Splice</h2>\n<p>Assuming we have instances and initializations for the Postgres Auth backend and Postgresql-Simple Snaplet, we can do a few things. First, we need to write a Splice for the AuthUser data type. We will only use a couple fields to show how it works.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;authUserSplice <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span> <span class="hljs-constant">Monad </span>m =&gt;\n                  <span class="hljs-constant">AuthUser </span>-&gt;\n                  <span class="hljs-constant">Splices </span>(<span class="hljs-constant">HeistT </span>n m <span class="hljs-constant">Template)</span>\nauthUserSplice authUser = <span class="hljs-keyword">do</span>\n  <span class="hljs-string">"userLogin"</span> <span class="hljs-comment">## I.textSplice (userLogin authUser)</span>\n  <span class="hljs-string">"userLoginCount"</span> <span class="hljs-comment">## I.textSplice (T.pack $ show $ userLoginCount authUser)</span>\n</code></pre>\n<p>Using <code>##</code>, we are binding the strings <code>&quot;userLogin&quot;</code> and <code>&quot;userLoginCount&quot;</code> to their respective values from the <code>authUser</code> object. <code>userLogin authUser</code> gives us a <code>Text</code> result, so <code>&quot;userLogin&quot;</code> is bound to a text splice. We also bind <code>&quot;userLoginCount&quot;</code> as a text splice by converting the <code>int</code> we get from using <code>userLoginCount</code> on <code>authUser</code>.</p>\n<p>Now that we have our Splice written, let’s write our template.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"html"</span>&gt;&lt;apply template=<span class="hljs-string">"base"</span>&gt;\n&lt;h1&gt;&lt;userLogin/&gt;&lt;/h1&gt;\n&lt;p&gt;Number <span class="hljs-operator">of</span> Times Logged In: &lt;userLoginCount/&gt;&lt;/p&gt;\n&lt;/apply&gt;```\n\nNothing major here. We have used <span class="hljs-operator">the</span> strings we bound <span class="hljs-keyword">before</span> <span class="hljs-keyword">as</span> tags <span class="hljs-built_in">to</span> display <span class="hljs-operator">the</span> <span class="hljs-keyword">text</span> <span class="hljs-built_in">from</span> <span class="hljs-operator">the</span> `authUser` object.\n\nFinally, we can <span class="hljs-built_in">write</span> <span class="hljs-operator">a</span> Handler <span class="hljs-built_in">to</span> make <span class="hljs-operator">the</span> database request <span class="hljs-operator">and</span> render <span class="hljs-operator">the</span> template <span class="hljs-keyword">using</span> our splice.\n\n</code></pre>\n<p><code class="haskell" style="overflow-x:auto">getFromPostgres :: Handler App (AuthManager App) ()\ngetFromPostgres = do\nresult ```</p>\n<p>Using a simple query to store the data from Postgres in <code>result</code>, we then render using our template (<code>auth_user_splice.tpl</code>) and apply the splice to the data in our result.</p>\n<h2>List of AuthUsers</h2>\n<p>To display a list of data, the process is very similar.</p>\n<p>We can reuse the <code>authUserSplice</code> we just wrote and map it across the list of data we plan on passing in using <code>mapSplices</code> and <code>runChildrenWith</code>.</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;authUsersSplice  :: [AuthUser] -&gt; I<span class="hljs-class">.Splice</span> AppHandler\nauthUsersSplice = I<span class="hljs-class">.mapSplices</span> (I<span class="hljs-class">.runChildrenWith</span> . authUserSplice)```\n\nWe will also write <span class="hljs-tag">a</span> new template to <span class="hljs-attribute">display</span> the information. Included <span class="hljs-keyword">in</span> this is the `authUsers` tag, which we are going to bind <span class="hljs-keyword">in</span> our Handler.\n\n</code></pre>\n<p><code class="html"><apply template="base"></p>\n<dl>\n<authUsers>\n<dt><userLogin/></dt>\n<dd>Number of Times Logged In: <userLoginCount/></dd>\n</authUsers>\n</dl>\n</apply>```\n<p>We can then write our handler as such:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"haskell"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;getManyFromPostgres :: <span class="hljs-type">Handler</span> <span class="hljs-type">App</span> (<span class="hljs-type">AuthManager</span> <span class="hljs-type">App</span>) ()\ngetManyFromPostgres = <span class="hljs-keyword">do</span>\n        results ```\n\n<span class="hljs-type">We</span> are rendering our new <span class="hljs-keyword">template</span> `auth_users_splice.tpl` <span class="hljs-keyword">with</span> our mapped splices bound to `<span class="hljs-string">"authUsers"</span>`. <span class="hljs-type">The</span> code inside <span class="hljs-keyword">of</span> `&lt;authUsers&gt;` will be run <span class="hljs-keyword">for</span> each <span class="hljs-literal">result</span> <span class="hljs-keyword">in</span> our list.\n\n\n<span class="hljs-comment">## End</span>\n\n<span class="hljs-type">That</span>\'s it. <span class="hljs-type">Feel</span> free to pull the code <span class="hljs-keyword">from</span> [github](https://github.com/<span class="hljs-type">ChristopherBiscardi</span>/snap-postgres-heist) <span class="hljs-keyword">and</span> leave <span class="hljs-type">any</span> questions you have below.\n\n\n</code></pre>\n'}},function(e,n){e.exports={title:"STM-Containers Benchmarks",date:"Sun, 29 Jun 2014 11:58:36 +0000",layout:"post",path:"/2014/6/29/stm-containers-benchmarks/",body:'<p>Benchmarks available on <a href="https://github.com/ChristopherBiscardi/stm-containers-benchmarks">GitHub</a> and as <a href="http://christopherbiscardi.github.io/stm-containers-benchmarks/">Github pages</a>.</p>\n<p>Tests were run with ghc 7.8.2 and a 12 core Mac Pro (Trashcan).</p>\n<p>Here’s a fun screenshot of the cpu history for the tests (<a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611512/Screenshot-2014-06-29-11.42.52_woo407.png">larger size</a>):</p>\n<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611512/Screenshot-2014-06-29-11.42.52_woo407.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/h_300,w_253/v1428611512/Screenshot-2014-06-29-11.42.52_woo407.png" alt="Screenshot 2014-06-29 11.42.52"></a></p>\n'}},function(e,n){e.exports={title:"Using Databases inside of Snaplet Auth Restricted Routes",date:"Thu, 09 Jan 2014 08:39:39 +0000",layout:"post",path:"/2014/1/9/using-databases-inside-of-snaplet-auth-restricted-routes/",body:'<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611521/CBLogo_2014_transparent_swcmig.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/h_300,w_300/v1428611521/CBLogo_2014_transparent_swcmig.png" alt="CBLogo_2014_transparent"></a><br>\nThe github repo for this code is at <a href="https://github.com/ChristopherBiscardi/Snap-Databased-within-Auth-Snaplet-Example">here</a>.</p>\n<p>tldr; use this instance:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"haskell"</span>&gt;<span class="hljs-function">instance <span class="hljs-title">HasPostgres</span> (<span class="hljs-params">Handler App (AuthManager App</span>)) <span class="hljs-keyword">where</span>\n    getPostgresState </span>= withTop pg <span class="hljs-keyword">get</span>\n</code></pre>\n<p>The app we’re using was built by running <code>snap init</code> and adding the following code:</p>\n<h5>src/Application.hs</h5>\n<p>In <code>src/Application.hs</code> we’ve added the following imports:</p>\n<p><code>import Snap.Snaplet.PostgresqlSimple</code></p>\n<p>and the following definition to our <code>App</code> datatype:</p>\n<p><code>,_pg :: Snaplet Postgres</code></p>\n<h5>src/Site.hs</h5>\n<p>In <code>src/Site.hs</code> we’ve added the following language extensions:</p>\n<p><code>{-# LANGUAGE FlexibleInstances #-}</code></p>\n<p>Imports:</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"haskell"</span>&gt;-- <span class="hljs-keyword">for</span> <span class="hljs-string">"get"</span>\nimport Control<span class="hljs-class">.Monad</span><span class="hljs-class">.State</span><span class="hljs-class">.Class</span>\n-- <span class="hljs-keyword">for</span> <span class="hljs-string">"liftIO"</span>\nimport           Control<span class="hljs-class">.Monad</span><span class="hljs-class">.IO</span><span class="hljs-class">.Class</span>\n--<span class="hljs-keyword">for</span> <span class="hljs-string">"writeJSON"</span>\nimport           Snap<span class="hljs-class">.Extras</span><span class="hljs-class">.JSON</span>\n-- <span class="hljs-keyword">for</span> Non Snaplet-Auth related database queries\nimport           Snap<span class="hljs-class">.Snaplet</span><span class="hljs-class">.PostgresqlSimple</span>\n-- <span class="hljs-keyword">for</span> Snaplet-Auth backed\nimport           Snap<span class="hljs-class">.Snaplet</span><span class="hljs-class">.Auth</span><span class="hljs-class">.Backends</span><span class="hljs-class">.PostgresqlSimple</span>```\n\nInstances:\n\n</code></pre>\n<p><code class="haskell">instance HasPostgres (Handler b App) where\ngetPostgresState = with pg get</p>\n<p>instance HasPostgres (Handler App (AuthManager App)) where\ngetPostgresState = withTop pg get</p>\n<pre><code>\n<span class="hljs-keyword">and</span> Snaplet Init code:\n\n`&lt;code class=<span class="hljs-string">"haskell"</span>&gt;p `\n\n\n## What<span class="hljs-attribute">\'s</span> Going <span class="hljs-keyword">On</span>\n\nWe<span class="hljs-attribute">\'ve</span> also defined a convenience <span class="hljs-keyword">function</span> `needsAuth` <span class="hljs-keyword">to</span> <span class="hljs-keyword">restrict</span> our `<span class="hljs-string">"/postgres"</span>` route <span class="hljs-keyword">to</span> only logged <span class="hljs-keyword">in</span> users.\n\n</code></pre>\n<p><code class="haskell">needsAuth :: Handler App (AuthManager App) () -&gt; Handler App App ()\nneedsAuth x = with auth $ requireUser auth (redirect “/”) x</p>\n<pre><code>\n`getFromPostgres` does <span class="hljs-operator">the</span> dirty work <span class="hljs-keyword">for</span> us <span class="hljs-keyword">by</span> querying <span class="hljs-operator">a</span> table that was created <span class="hljs-keyword">as</span> part <span class="hljs-operator">of</span> <span class="hljs-operator">the</span> Snaplet-Auth backend. It will <span class="hljs-constant">return</span> <span class="hljs-operator">a</span> list <span class="hljs-operator">of</span> all users.\n\n</code></pre>\n<p><code class="haskell">getFromPostgres :: Handler App (AuthManager App) ()\ngetFromPostgres = do\n–get the results\nresults ```</p>\n<p><code>&quot;/postgres&quot;</code> is the url to hit to check to see if it’s working.</p>\n<p><code>, (&quot;/postgres&quot;, needsAuth getFromPostgres)</code></p>\n<h2>The Instance</h2>\n<p>What’s really doing the heavy lifting of using the postgres snaplet inside of the auth snaplet’s route is this instance:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"haskell"</span>&gt;<span class="hljs-function">instance <span class="hljs-title">HasPostgres</span> (<span class="hljs-params">Handler App (AuthManager App</span>)) <span class="hljs-keyword">where</span>\n    getPostgresState </span>= withTop pg <span class="hljs-keyword">get</span>\n</code></pre>\n<p>The important difference from the instance above it is <code>withTop</code> which can be found <a href="http://hackage.haskell.org/package/snap-0.6.0.2/docs/Snap-Snaplet.html">here</a>.</p>\n<p>From the docs:</p>\n<blockquote>\n<p>– | Like ‘with’ but doesn’t impose the requirement that the action<br>\n– being run be a descendant of the current snaplet.</p>\n</blockquote>\n<p>Essentially, the auth snaplet doesn’t know anything about the postgres snaplet as we’ve instantiated it (it doesn’t keep around a reference from the Backend module), so we have to ask the parent context (using <code>withTop</code>).</p>\n'}},function(e,n){e.exports={title:"Using the Docker-Haskell Official Image",date:"Sun, 23 Nov 2014 10:55:18 +0000",layout:"post",path:"/2014/11/23/using-the-docker-haskell-official-image/",body:'<p>Prerequisites: an <a href="https://docs.docker.com/installation/#installation">install of Docker</a> (If you don’t want an install, Digital Ocean also has a Docker Droplet).</p>\n<p>The Docker-Haskell “Official Images” container is available for download. You can find the source over on <a href="https://github.com/darinmorrison/docker-haskell">GitHub</a> and the versions currently being built in the <a href="https://github.com/docker-library/official-images/blob/master/library/haskell">official-images</a> repo.</p>\n<p>To start a ghci we can pull and run the image tagged as <code>7.8</code>, which contains alex, happy, cabal and ghc-7.8.3:</p>\n<pre><code>docker pull haskell:<span class="hljs-number">7.8</span>\ndocker <span class="hljs-command">run</span> -<span class="hljs-keyword">it</span> haskell:<span class="hljs-number">7.8</span>\n</code></pre>\n<p>quitting the repl (<code>:q</code>) will also kill the container.</p>\n<h1>Building a Dockerfile</h1>\n<p>We can base a new project’s Dockerfile off of the <code>haskell:7.8</code> base. As it happens, there is an example Snap project in the <a href="https://github.com/darinmorrison/docker-haskell">docker-haskell</a> project, in the <code>/examples/7.8.3/</code> directory.</p>\n<p>If we clone the repo and cd into the example project’s folder we can build the Dockerfile:</p>\n<pre><code>git clone git<span class="hljs-annotation">@github</span>.<span class="hljs-string">com:</span>darinmorrison/docker-haskell.git\ncd docker-haskell<span class="hljs-regexp">/examples/</span><span class="hljs-number">7.8</span><span class="hljs-number">.3</span>/snap\ndocker build -t my-<span class="hljs-keyword">new</span>-project .\n</code></pre>\n<p>and run it:</p>\n<pre><code>docker run -itp <span class="hljs-number">8000</span>:<span class="hljs-number">8000</span> my-<span class="hljs-keyword">new</span>-project\n</code></pre>\n<p>We can now see a Snap application running on port 8000 of either <code>localhost</code> or our <code>boot2docker ip</code>.</p>\n'}},function(e,n){e.exports={title:"Vagrant Can Not SSH Into the Box",date:"Fri, 12 Jul 2013 18:48:58 +0000",layout:"post",path:"/2013/7/12/vagrant-can-not-ssh-into-the-box/",body:'<p>For Vagrant, if you see this error after <code>vagrant up</code>-ing the box.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;Failed <span class="hljs-built_in">to</span> connect <span class="hljs-built_in">to</span> VM via SSH. Please verify <span class="hljs-operator">the</span> VM successfully booted\n<span class="hljs-keyword">by</span> looking <span class="hljs-keyword">at</span> <span class="hljs-operator">the</span> VirtualBox GUI.```\n\nThere are <span class="hljs-constant">three</span> things I did <span class="hljs-built_in">to</span> fix <span class="hljs-keyword">it</span>.\n\n<span class="hljs-number">1</span>) Enable <span class="hljs-operator">the</span> :gui option <span class="hljs-operator">and</span> run `sudo /etc/init.d/networking restart` <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">the</span> <span class="hljs-title">box</span>  </span>\n <span class="hljs-number">2</span>) Run `sudo dhclient` <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">the</span> <span class="hljs-title">box</span>  </span>\n <span class="hljs-number">3</span>) Change <span class="hljs-operator">the</span> IP Address <span class="hljs-operator">in</span> your Vagrantfile\n\nThen rebuild your box.\n\n\n</code></pre>\n'}},function(e,n){e.exports={title:"Working with Snap 1.0",date:"Sun, 05 Oct 2014 10:48:56 +0000",layout:"post",path:"/2014/10/5/working-with-snap-1-0/",body:'<p><a href="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611482/snap_sks60m.png"><img src="http://res.cloudinary.com/diqzbm8lz/image/upload/v1428611482/snap_sks60m.png" alt="snap-framework"></a></p>\n<p>Snap 1.0 isn’t on Hackage yet, but here’s how you can play with it now.</p>\n<p>NOTE: This was written using ghc-7.8.3. The repo is <a href="https://github.com/ChristopherBiscardi/snap-micro-services">on GitHub</a></p>\n<p>First we’ll make a new directory for the project and one for the dependencies, then clone the dependencies for 1.0 that aren’t on Hackage:</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"bash"</span> style=<span class="hljs-string">"overflow-x:auto"</span>&gt;mkdir auth_server\ncd auth_server\nmkdir deps\ngit clone git@github<span class="hljs-class">.com</span>:snapframework/io-streams-haproxy<span class="hljs-class">.git</span> deps/io-streams-haproxy\ngit clone git@github<span class="hljs-class">.com</span>:snapframework/snap<span class="hljs-class">.git</span> deps/snap\ngit clone git@github<span class="hljs-class">.com</span>:snapframework/snap-core<span class="hljs-class">.git</span> deps/snap-core\ngit clone git@github<span class="hljs-class">.com</span>:snapframework/snap-server<span class="hljs-class">.git</span> deps/snap-server\ngit clone git@github<span class="hljs-class">.com</span>:snapframework/snap-loader-static<span class="hljs-class">.git</span> deps/snap-loader-static\ngit clone git@github<span class="hljs-class">.com</span>:snapframework/heist<span class="hljs-class">.git</span> deps/heist\ngit clone git@github<span class="hljs-class">.com</span>:snapframework/snap-templates<span class="hljs-class">.git</span> deps/snap-templates\n</code></pre>\n<p>We should have a file structure that looks like this:</p>\n<ul>\n<li>auth_server/ - deps/ - io-streams-haproxy/</li>\n<li>snap/</li>\n<li>snap-core/</li>\n<li>snap-server/</li>\n<li>snap-loader-static/</li>\n<li>heist/</li>\n</ul>\n<p>We can now get a scaffolded app using <code>snap-templates</code>.</p>\n<pre><code>&lt;<span class="hljs-preprocessor">code</span> class=<span class="hljs-string">"bash"</span>&gt;cd auth_server/deps/snap-templates\n<span class="hljs-label">cabal</span> <span class="hljs-keyword">build\n</span></code></pre>\n<p>Building <code>snap-templates</code> gives us the <code>snap</code> executable that we used to use from the <code>snap</code> project. In the project root, let’s init a new scaffold:</p>\n<pre><code>&lt;code <span class="hljs-keyword">class</span>=<span class="hljs-string">"bash"</span>&gt;cd auth_server\n.<span class="hljs-regexp">/deps/</span>snap-templates<span class="hljs-regexp">/dist/</span>build<span class="hljs-regexp">/snap/</span>snap init\n</code></pre>\n<p>Which leaves us with this structure at the top level:</p>\n<ul>\n<li>auth_server/ - auth-server.cabal</li>\n<li>deps/</li>\n<li>snaplets/</li>\n<li>src/</li>\n<li>static/</li>\n</ul>\n<p>If you haven’t created a new sandbox for this project, do that now and install the dependencies for the scaffold into the sandbox.</p>\n<pre><code>&lt;code class=<span class="hljs-string">"bash"</span>&gt;<span class="hljs-keyword">cd</span> auth_server\ncabal <span class="hljs-keyword">sandbox</span> init\ncabal install --<span class="hljs-keyword">only</span>-dependencies\n</code></pre>\n<p>We can’t build the app yet, since the scaffold is missing two things. We need to add <code>map-syntax</code> as a dependency to <code>auth-server.cabal</code> and we need to replace <code>noSplices</code> with <code>mempty</code> in <code>Site.hs</code> since <code>noSplices</code> has been deprecated.</p>\n<p>First, in <code>auth-server.cabal</code>, under <code>Build-depends</code> add <code>map-syntax</code>:</p>\n<pre><code>    xmlhtml                   &gt;= <span class="hljs-number">0.1</span>,\n    <span class="hljs-built_in">map</span>-syntax                &gt;= <span class="hljs-number">0.1</span>\n</code></pre>\n<p>Next, we need to add two imports to <code>src/Site.hs</code>:</p>\n<pre><code>&lt;<span class="hljs-tag">code</span> class=<span class="hljs-string">"haskell"</span>&gt;import           Data<span class="hljs-class">.Map</span><span class="hljs-class">.Syntax</span>\nimport           Data<span class="hljs-class">.Monoid</span>        (mempty)\n</code></pre>\n<p>as well as replace <code>noSplices</code> with <code>mempty</code>:</p>\n<p>Before:</p>\n<pre><code><span class="hljs-title">errs</span> = maybe <span class="hljs-built_in">no</span>Splices splice authError\n</code></pre>\n<p>After:</p>\n<pre><code><span class="hljs-attribute"> errs </span>=<span class="hljs-string"> maybe mempty splice authError\n</span></code></pre>\n<p>We can now build and run the project:</p>\n<pre><code><span class="hljs-label">cd</span> auth_server\n<span class="hljs-label">cabal</span> <span class="hljs-keyword">build\n</span>./dist/<span class="hljs-keyword">build/auth-server/auth-server\n</span></code></pre>\n<p>We now have a working Snap 1.0 app to play with. In a future blog post, we’ll explore the creation of a Users service.</p>\n'}},function(e,n){e.exports={title:"Writing A First Emacs Elisp Function",date:"Tue, 04 Feb 2014 13:48:37 +0000",layout:"post",path:"/2014/2/4/writing-a-first-emacs-elisp-function/",body:'<p>So today I tried to write my first fully custom Emacs Lisp code. Here are some things I learned (along with the code for a <code>region-to-gist</code> function).</p>\n<p><a href="https://gist.github.com/anonymous/8812412">Here</a> is my final product, uploaded straight from Emacs.</p>\n<p>The final script looks like this at the bottom of my <code>.emacs</code> file:</p>\n<pre><code>&lt;code class=<span class="hljs-string">"lisp"</span> style=<span class="hljs-string">"overflow-x:scroll"</span>&gt;;;; Region <span class="hljs-keyword">to</span> Gist\n(defun region-<span class="hljs-keyword">to</span>-gist ()\n  <span class="hljs-string">"Sends region to Gist"</span>\n  (interactive)\n  (<span class="hljs-keyword">if</span> (region-active-p)\n      (gist-req (<span class="hljs-keyword">buffer</span>-substring-no-properties (region-beginning) (region-<span class="hljs-keyword">end</span>))))\n  nil)\n\n(defun gist-test (buf)\n  (message <span class="hljs-string">"%S"</span> `(:content ,buf)))\n\n(defun gist-req (buf)\n  (request\n       <span class="hljs-string">"https://api.github.com/gists"</span>\n       :<span class="hljs-keyword">type</span> <span class="hljs-string">"POST"</span>\n       :data (json-encode `(:description <span class="hljs-string">"Created with Christopher Biscardi\'s region-to-gist"</span>\n                            :public t\n                            :files (:example.el (:content ,buf))))\n       ;; :data <span class="hljs-string">"key=value&amp;key2=value2"</span>  ; this <span class="hljs-keyword">is</span> equivalent\n       :parser <span class="hljs-attribute">\'json</span>-read\n       :success (<span class="hljs-keyword">function</span>*\n                 (lambda (&amp;key data &amp;allow-other-keys)\n                   (message <span class="hljs-string">"I sent: %S"</span> (assoc-<span class="hljs-keyword">default</span> <span class="hljs-attribute">\'html_url</span> data)))))\n  nil)```\n\nIt <span class="hljs-keyword">is</span> used by setting a mark `C-SPC`, selecting a region (arrow keys work <span class="hljs-keyword">to</span> expand the region) <span class="hljs-keyword">then</span> typing `M-x region-<span class="hljs-keyword">to</span>-gist`. The <span class="hljs-keyword">Function</span> <span class="hljs-keyword">then</span> runs <span class="hljs-keyword">and</span> outputs either an error message (hopefully <span class="hljs-keyword">not</span>) <span class="hljs-keyword">or</span> this <span class="hljs-keyword">to</span> the message <span class="hljs-keyword">buffer</span>:\n\n`&lt;code class=<span class="hljs-string">"bash"</span>&gt;I sent: <span class="hljs-string">"https://gist.github.com/8812412"</span>`\n\nThe most important part here <span class="hljs-keyword">is</span> the `(interactive)` which allows you <span class="hljs-keyword">to</span> <span class="hljs-keyword">use</span> `M-x region-<span class="hljs-keyword">to</span>-gist` <span class="hljs-keyword">to</span> execute the <span class="hljs-keyword">function</span>. There are a couple different modes you can enable <span class="hljs-keyword">with</span> this.\n\n`region-active-p` basically returns true <span class="hljs-keyword">if</span> there’s a region selection (The `C-SPC` <span class="hljs-keyword">and</span> arrows stuff).\n\n`gist-test` <span class="hljs-keyword">is</span> a <span class="hljs-keyword">function</span> I used <span class="hljs-keyword">to</span> replace the `gist-req` call so I could test whether <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> the region was actually being sent <span class="hljs-keyword">and</span> resolve some formatting issues. This <span class="hljs-keyword">function</span> can be wholly deleted <span class="hljs-keyword">with</span> no ramifications.\n\n`<span class="hljs-keyword">buffer</span>-substring-no-properties` returns undecorated strings from your buffers. <span class="hljs-keyword">Use</span> this <span class="hljs-keyword">is</span> you’re trying <span class="hljs-keyword">to</span> handle a <span class="hljs-typename">string</span> (such as <span class="hljs-keyword">in</span> JSON) <span class="hljs-keyword">and</span> <span class="hljs-keyword">use</span> `<span class="hljs-keyword">buffer</span>-substring` <span class="hljs-keyword">if</span> you’re trying <span class="hljs-keyword">to</span> put something <span class="hljs-keyword">in</span> the kill-ring, etc.\n\nI’m using [request.el](http://tkf.github.io/emacs-request/) <span class="hljs-keyword">to</span> make my request. It tries <span class="hljs-keyword">to</span> <span class="hljs-keyword">use</span> `curl` <span class="hljs-keyword">if</span> available.\n\nThe biggest part <span class="hljs-keyword">of</span> the request code <span class="hljs-keyword">is</span> the `:success` <span class="hljs-keyword">function</span>. <span class="hljs-keyword">In</span> this <span class="hljs-keyword">case</span> we grab the key `html_url` from the [Gist API Response](http://developer.github.com/v3/gists/#create-a-gist)`data`.\n\nThe backtick here:\n\n</code></pre>\n<p><code class="haskell">`(:description “Created with Christopher Biscardi’s region-to-gist”\n:public t\n:files (:example.el (:content ,buf)))```</p>\n<p>means we have to use the <code>,</code> for <code>,buf</code> to get the value of <code>buf</code>.</p>\n<p>Oh, and also, this function should probably be called <code>gist-region</code> as per other region functions. oops.</p>\n'
}},274]));
//# sourceMappingURL=bundle.js.map