<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/styles.df72ee54210722a4ff300245e06a1b05.css"/></head><body class="landing-page"><div id="react-mount"><div data-reactid=".178wc7ejlz4" data-react-checksum="129739556"><div class="Nav__wrapper___u7BUA" data-reactid=".178wc7ejlz4.0"><nav class="Nav__nav___1e2Pp" data-reactid=".178wc7ejlz4.0.0"><div class="Nav__logoWrapper___35yvY" data-reactid=".178wc7ejlz4.0.0.0"><img class="Nav__logo___sw4O9" src="0576ff3991e0305da5b886052adbc044.png" data-reactid=".178wc7ejlz4.0.0.0.0"/></div><ul class="Nav__items___1oDCD" data-reactid=".178wc7ejlz4.0.0.1"><li data-reactid=".178wc7ejlz4.0.0.1.0"><a class="Nav__itemLink___H6Isv" href="/posts" data-reactid=".178wc7ejlz4.0.0.1.0.0">Posts</a></li><li data-reactid=".178wc7ejlz4.0.0.1.1"><a class="Nav__itemLink___H6Isv" href="/talks" data-reactid=".178wc7ejlz4.0.0.1.1.0">Talks</a></li><li data-reactid=".178wc7ejlz4.0.0.1.2"><a class="Nav__itemLink___H6Isv" href="/books" data-reactid=".178wc7ejlz4.0.0.1.2.0">Books</a></li><li data-reactid=".178wc7ejlz4.0.0.1.3"><a class="Nav__itemLink___H6Isv" href="/projects" data-reactid=".178wc7ejlz4.0.0.1.3.0">Projects</a></li></ul></nav></div><div data-reactid=".178wc7ejlz4.1"><div data-reactid=".178wc7ejlz4.1.0"><p>Prereqs: Install ADK, Android NDK, and mocl.</p>
<p>git clone the sample app somewhere:</p>
<p><code>&lt;code class=&quot;bash&quot;&gt;git clone https://github.com/Wukix/mocl-example-lisp-contacts-android.git</code></p>
<p>Import the cloned app into Android Development’s version of Eclipse. Note: at this time there are may or may not be issues with creating a new project in ADK due to Gradle not supporting the NDK.</p>
<p>My third party library install location is <code>mocl/systems</code>.</p>
<p>Install Common Lisp dependencies there:</p>
<pre><code>&lt;<span class="hljs-selector-tag">code</span> class=<span class="hljs-string">"bash"</span>&gt;$ cd mocl/systems
$ git clone https:<span class="hljs-comment">//github.com/xach/vectometry.git</span>
$ ln -s vectometry/vectometry<span class="hljs-selector-class">.asd</span> vectometry<span class="hljs-selector-class">.asd</span>
$ git clone https:<span class="hljs-comment">//github.com/xach/geometry.git</span>
$ ln -s geometry/geometry<span class="hljs-selector-class">.asd</span> geometry<span class="hljs-selector-class">.asd</span>
$ git clone https:<span class="hljs-comment">//github.com/Wukix/vecto.git</span>
$ ln -s vecto/vecto<span class="hljs-selector-class">.asd</span> vecto<span class="hljs-selector-class">.asd</span>
$ git clone https:<span class="hljs-comment">//github.com/xach/zpb-ttf.git</span>
$ ln -s zpb-ttf/zpb-ttf<span class="hljs-selector-class">.asd</span> zpb-ttf<span class="hljs-selector-class">.asd</span>
$ git clone https:<span class="hljs-comment">//github.com/xach/zpng.git</span>
$ ln -s zpng/zpng<span class="hljs-selector-class">.asd</span> zpng<span class="hljs-selector-class">.asd</span>
$ git clone https:<span class="hljs-comment">//github.com/xach/salza2.git</span>
$ ln -s salza2/salza2<span class="hljs-selector-class">.asd</span> salza2<span class="hljs-selector-class">.asd</span>
$ git clone https:<span class="hljs-comment">//github.com/fjolliton/cl-vectors.git</span>
$ ln -s cl-vectors/cl-vectors<span class="hljs-selector-class">.asd</span> cl-vectors<span class="hljs-selector-class">.asd</span>
$ ln -s cl-vectors/cl-paths<span class="hljs-selector-class">.asd</span> cl-paths<span class="hljs-selector-class">.asd</span>
$ ln -s cl-vectors/cl-aa<span class="hljs-selector-class">.asd</span> cl-aa.asd```

Once everything is installed/linked go to the imported project and run:

`&lt;<span class="hljs-selector-tag">code</span> class=<span class="hljs-string">"bash"</span>&gt;mocl --android LispContacts app.lisp`

Make sure you have the Android <span class="hljs-number">17</span> sdk, because that’s what’s used <span class="hljs-keyword">in</span> the example project.

After all of that, `cd LispContacts/jni`

then run: `ndk-build`

At this point the <span class="hljs-selector-tag">code</span> has compiled and you’re good to go. You may have to close ADK and reopen it to get ADK to see the mocl files. I might do another post on the <span class="hljs-selector-tag">code</span> <span class="hljs-keyword">in</span> the example… Give me <span class="hljs-selector-tag">a</span> comment <span class="hljs-keyword">if</span> that’s something you’re interested <span class="hljs-keyword">in</span>.


</code></pre>
</div></div></div></div><script src="/js/bundle-72c0db642ea1de5f23b8.js"></script></body></html>